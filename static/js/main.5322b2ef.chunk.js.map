{"version":3,"sources":["../node_modules/pdfh5/js sync","css/style.css","css/rst.css","serviceWorker.ts","global.ts","tapp/CBase.ts","home/VSearchHeader.tsx","images/logo_mobi.png","home/VSiteHeader.tsx","home/VSlider.tsx","tools/browser.ts","images/AnalyticalChemistry.png","images/LabSupplies.png","images/LifeScience.png","images/MaterialScience.png","images/OrganicChemistry.png","images/AnalyticalChemistry.jpg","images/LabSupplies.jpg","images/LifeScience.jpg","images/MaterialScience.jpg","images/OrganicChemistry.jpg","home/VHome.tsx","tools/CustomHeaderTemplate.tsx","home/VScanCode.tsx","home/CHome.tsx","cart/VCartLabel.tsx","cart/VCartLabelWeb.tsx","tools/minusPlusWidget.tsx","tools/elasticSearchPager.ts","cart/VCart.tsx","cart/CCart.tsx","tools/productImage.tsx","product/renders.tsx","product/views/VChemicalInfo.tsx","product/views/VFavorite.tsx","product/views/VDelivery.tsx","product/views/VProductView.tsx","product/views/VInCart.tsx","product/views/VPrice.tsx","product/views/VProductView2.tsx","product/views/VWithPrice.tsx","tools/randomColor.ts","images/logo_pointShop.png","images/signInIcon.png","images/exChangeIcon.png","images/homeTopicMap.jpg","images/TriangleShadingO.png","images/TriangleShadingT.png","images/signTopicMap.png","images/Homemadelogo.png","images/signViceMap.png","images/point.png","pointMarket/view/VModalC.tsx","pointMarket/VExchangeOrder.tsx","tools/pageHeaderTitle.tsx","pointMarket/view/VPointRule.tsx","pointMarket/basicRefer.ts","pointMarket/VMyPoint.tsx","tools/inputValidations.ts","customer/VContact.tsx","customer/VContactList.tsx","customer/VAddress.tsx","customer/CAddress.tsx","customer/CSelectContact.tsx","pointMarket/OrderSuccess.tsx","pointMarket/pointOrder.ts","pointMarket/VExchangeHistoryDetail.tsx","tools/listTable.tsx","pointMarket/VExchangeHistory.tsx","pointMarket/VRevenueExpenditure.tsx","images/giftPlate.png","images/已下架.png","pointMarket/VPointProductDetail.tsx","pointMarket/VSelectedLable.tsx","images/infb.jpg","pointMarket/view/VDefaultPost.tsx","pointMarket/view/VShopSideBar.tsx","tools/VError.tsx","pointMarket/CPointProduct.tsx","pointMarket/VPointProduct.tsx","product/VPageProduct.tsx","product/VPageList.tsx","product/VPagePDF.tsx","product/VPageCoa.tsx","product/VPageSkillSearch.tsx","product/VStructure.tsx","product/CProduct.ts","order/VModelByCreateOrder.tsx","order/VCreateOrder.tsx","order/Order.ts","order/OrderSuccess.tsx","order/VMyOrders.tsx","order/VOrderDetail.tsx","customer/VInvoiceInfo.tsx","customer/CInvoiceInfo.tsx","tools/groupByProduct.ts","coupon/Coupon.ts","coupon/VVIPCard.tsx","coupon/VCouponAvailable.tsx","order/VEpecOrderError.tsx","order/VOrderTrans.tsx","order/ActivePushOrder.tsx","order/COrder.tsx","productCategory/VRootCategory.tsx","productCategory/VRootCategorySideBar.tsx","productCategory/VBreadCrumbs.tsx","productCategory/VCategoryPage.tsx","images/J&K triangle combinations 5.png","images/J&K triangle combinations4.png","productCategory/VCategoryHome.tsx","productCategory/CProductCategory.tsx","images/pig.png","member/VMember.tsx","member/CMember.tsx","me/contactUs.tsx","me/aboutThisApp.tsx","images/welcome.png","me/VMeSideBar.tsx","me/VMe.tsx","me/EditMeInfo.tsx","me/EditMeInfoFirstOrder.tsx","customer/VFavorites.tsx","customer/CFavorites.tsx","me/VLoginState.tsx","me/about.tsx","me/CMe.tsx","tapp/main.tsx","coupon/VSharedCoupon.tsx","coupon/VVIPCardDiscount.tsx","coupon/VCouponManage.tsx","coupon/VModelCardDiscount.tsx","coupon/CCoupon.tsx","ync/VYncProjects.tsx","ync/CYncProjects.tsx","pointMarket/lottery/VLottery.tsx","pointMarket/lottery/VMyLotteryPrize.tsx","pointMarket/lottery/prizeOrder.ts","pointMarket/lottery/CLottery.tsx","images/已签到.png","pointMarket/signIn/VPointSign.tsx","images/积分图标P.png","pointMarket/signIn/CSignIn.tsx","store/Cart.ts","store/Product.ts","store/store.ts","CurrentUser.ts","order/VQuickOrder.tsx","order/CQuickOrder.tsx","tapp/CApp.ts","tapp/webNav.tsx","tapp/CWeb.tsx","uq-app/uqs/JkDeliver/Carrier.ui.tsx","uq-app/uqs/JkDeliver/OrderMain.ui.tsx","uq-app/uqs/JkDeliver/OrderDetail.ui.tsx","uq-app/uqs/JkDeliver/Warehouse.ui.tsx","uq-app/uqs/JkDeliver/DeliverMain.ui.tsx","uq-app/uqs/JkDeliver/DeliverDetail.ui.tsx","uq-app/uqs/JkDeliver/DeliverMainEx.ui.tsx","uq-app/uqs/JkDeliver/CutOffMain.ui.tsx","uq-app/uqs/JkDeliver/CutOffType.ui.tsx","uq-app/uqs/JkDeliver/DeliverType.ui.tsx","uq-app/uqs/JkDeliver/DxDeliverMain.ui.tsx","uq-app/uqs/JkDeliver/DxDeliverDetail.ui.tsx","uq-app/uqs/JkDeliver/DxCutOffMain.ui.tsx","uq-app/uqs/JkDeliver/DxDelivering.ui.tsx","uq-app/uqs/JkDeliver/Talling.ui.tsx","uq-app/uqs/JkDeliver/IxPendingDeliver.ui.tsx","uq-app/uqs/JkDeliver/IxUserWarehouse.ui.tsx","uq-app/uqs/JkDeliver/IxCutoffTypeDefinition.ui.tsx","uq-app/uqs/JkDeliver/CutOffProcessing.ui.tsx","uq-app/uqs/JkDeliver/DeliverDetailExchangeDetail.ui.tsx","uq-app/uqs/JkDeliver/DeliverDetailOrderDetail.ui.tsx","uq-app/uqs/JkOrder/JkOrder.ts","uq-app/uqs/JkOrder/Coupon.ui.tsx","uq-app/uqs/JkOrder/Chemical.ui.tsx","uq-app/uqs/JkOrder/SalesRegion.ui.tsx","uq-app/uqs/JkOrder/Currency.ui.tsx","uq-app/uqs/JkOrder/PackType.ui.tsx","uq-app/uqs/JkOrder/Address.ui.tsx","uq-app/uqs/JkOrder/Country.ui.tsx","uq-app/uqs/JkOrder/Province.ui.tsx","uq-app/uqs/JkOrder/City.ui.tsx","uq-app/uqs/JkOrder/County.ui.tsx","uq-app/uqs/JkOrder/InvoiceType.ui.tsx","uq-app/uqs/JkOrder/Customer.ui.tsx","uq-app/uqs/JkOrder/Organization.ui.tsx","uq-app/uqs/JkOrder/Contact.ui.tsx","uq-app/uqs/JkOrder/InvoiceInfo.ui.tsx","uq-app/uqs/JkOrder/Brand.ui.tsx","uq-app/uqs/JkOrder/ProductX.ui.tsx","uq-app/uqs/JkOrder/Warehouse.ui.tsx","uq-app/uqs/JkOrder/WebUser.ui.tsx","uq-app/uqs/JkOrder/BuyerAccount.ui.tsx","uq-app/uqs/JkOrder/CommonText.ui.tsx","uq-app/uqs/JkOrder/ExpressLogistics.ui.tsx","uq-app/uqs/JkOrder/OrderDetail.ui.tsx","uq-app/uqs/JkOrder/OrderMain.ui.tsx","uq-app/uqs/JkOrder/ReturnDetail.ui.tsx","uq-app/uqs/JkOrder/ReturnMain.ui.tsx","uq-app/uqs/JkOrder/OrderMainEx.ui.tsx","uq-app/uqs/JkOrder/OrderDetailEx.ui.tsx","uq-app/uqs/JkOrder/ReturnDetailEx.ui.tsx","uq-app/uqs/JkOrder/ReturnMainEx.ui.tsx","uq-app/uqs/JkOrder/DxOrderDetail.ui.tsx","uq-app/uqs/JkOrder/DxReturnDetail.ui.tsx","uq-app/uqs/JkOrder/DxOrderMainState.ui.tsx","uq-app/uqs/JkOrder/IxCustomerReturnable.ui.tsx","uq-app/uqs/JkOrder/IxOrderDetailFee.ui.tsx","uq-app/uqs/JkOrder/IxOrderMainFee.ui.tsx","uq-app/uqs/JkOrder/IxOrderDetailCoupon.ui.tsx","uq-app/uqs/JkOrder/IxOrderAmountDiff.ui.tsx","uq-app/uqs/JkOrder/IxOrderMainCustomerCoupon.ui.tsx","uq-app/uqs/JkCollectPayment/JkCollectPayment.ts","uq-app/uqs/JkCollectPayment/Organization.ui.tsx","uq-app/uqs/JkCollectPayment/Customer.ui.tsx","uq-app/uqs/JkCollectPayment/Currency.ui.tsx","uq-app/uqs/JkCollectPayment/OrderDetail.ui.tsx","uq-app/uqs/JkCollectPayment/OrderMain.ui.tsx","uq-app/uqs/JkCollectPayment/InvoiceDetail.ui.tsx","uq-app/uqs/JkCollectPayment/InvoiceMain.ui.tsx","uq-app/uqs/JkCollectPayment/ReceiveDetail.ui.tsx","uq-app/uqs/JkCollectPayment/ReceiveMain.ui.tsx","uq-app/uqs/JkCollectPayment/InvoiceDetailRaw.ui.tsx","uq-app/uqs/JkCollectPayment/DxOrderDetail.ui.tsx","uq-app/uqs/JkCollectPayment/DxReturnDetail.ui.tsx","uq-app/uqs/JkCollectPayment/DxCustomerReceive.ui.tsx","uq-app/uqs/JkCollectPayment/DxCustomerInvoice.ui.tsx","uq-app/uqs/JkCollectPayment/DxInvoiceMain.ui.tsx","uq-app/uqs/JkCollectPayment/DxOrderDetailReturn.ui.tsx","uq-app/uqs/JkCollectPayment/DxReceiveMain.ui.tsx","uq-app/uqs/JkCollectPayment/IxCustomerPendingReceive.ui.tsx","uq-app/uqs/JkCollectPayment/IxCustomerPendingInvoice.ui.tsx","uq-app/uqs/JkCollectPayment/DxOrderDetailInvoiceReceive.ui.tsx","uq-app/uqs/JkCollectPayment/Refund.ui.tsx","uq-app/uqs/JkCollectPayment/RedInvoiceMain.ui.tsx","uq-app/uqs/JkPointshop/JkPointshop.ts","uq-app/uqs/JkPointshop/ProductX.ui.tsx","uq-app/uqs/JkPointshop/Customer.ui.tsx","uq-app/uqs/JkPointshop/WebUser.ui.tsx","uq-app/uqs/JkPointshop/Contact.ui.tsx","uq-app/uqs/JkPointshop/Currency.ui.tsx","uq-app/uqs/JkPointshop/BuyerAccount.ui.tsx","uq-app/uqs/JkPointshop/Genre.ui.tsx","uq-app/uqs/JkPointshop/PointProductLib.ui.tsx","uq-app/uqs/JkPointshop/Brand.ui.tsx","uq-app/uqs/JkPointshop/OrderMain.ui.tsx","uq-app/uqs/JkPointshop/OrderDetail.ui.tsx","uq-app/uqs/JkPointshop/ExchangeDetail.ui.tsx","uq-app/uqs/JkPointshop/ExchangeMain.ui.tsx","uq-app/uqs/JkPointshop/DxOrderDetail.ui.tsx","uq-app/uqs/JkPointshop/DxReOrderDetail.ui.tsx","uq-app/uqs/JkPointshop/DxExchangeMainState.ui.tsx","uq-app/uqs/JkPointshop/IxExchangeMainUsedPoint.ui.tsx","uq-app/uqs/JkProduct/Chemical.ui.tsx","uq-app/uqs/JkProduct/SalesRegion.ui.tsx","uq-app/uqs/JkProduct/Currency.ui.tsx","uq-app/uqs/JkProduct/PackType.ui.tsx","uq-app/uqs/JkProduct/Language.ui.tsx","uq-app/uqs/JkProduct/Brand.ui.tsx","uq-app/uqs/JkProduct/Stuff.ui.tsx","uq-app/uqs/JkProduct/ProductX.ui.tsx","uq-app/uqs/JkProduct/ProductCategory.ui.tsx","uq-app/uqs/JkProduct/Lot.ui.tsx","uq-app/uqs/JkProduct/PackSalesLevel.ui.tsx","uq-app/uqs/JkCustomer/Currency.ui.tsx","uq-app/uqs/JkCustomer/Contact.ui.tsx","uq-app/uqs/JkCustomer/Customer.ui.tsx","uq-app/uqs/JkCustomer/InvoiceType.ui.tsx","uq-app/uqs/JkCustomer/Research.ui.tsx","uq-app/uqs/JkCustomer/Province.ui.tsx","uq-app/uqs/JkCustomer/Department.ui.tsx","uq-app/uqs/JkCustomer/BuyerAccount.ui.tsx","uq-app/uqs/JkCustomer/Organization.ui.tsx","uq-app/uqs/JkCustomer/Country.ui.tsx","uq-app/uqs/JkCustomer/InvoiceInfo.ui.tsx","uq-app/uqs/JkCustomer/City.ui.tsx","uq-app/uqs/JkCustomer/Post.ui.tsx","uq-app/uqs/JkCustomer/County.ui.tsx","uq-app/uqs/JkCustomer/SalesRegion.ui.tsx","uq-app/uqs/JkCustomer/Employee.ui.tsx","uq-app/uqs/JkCustomer/Address.ui.tsx","uq-app/uqs/JkCustomer/Domain.ui.tsx","uq-app/uqs/JkCustomer/ProductX.ui.tsx","uq-app/uqs/JkCustomer/Brand.ui.tsx","uq-app/uqs/JkCustomer/CustomerSettingType.ui.tsx","uq-app/uqs/JkCustomer/VIPCardType.ui.tsx","uq-app/uqs/JkCustomer/CustomerSalesman.ui.tsx","me/loginTop.tsx","tvs/common.tsx","tvs/product.tsx","tvs/customer.tsx","uq-app/appConfig.ts","tvs/index.tsx","tvs/warehouse.tsx","tvs/order.tsx","index.tsx"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","options","locals","Boolean","window","location","hostname","match","EnumCategory","CUqBase","CBase","CUqApp","CSub","type","c","this","init","CAppBase","VSearchHeader","onSearch","key","param","a","controller","cApp","cProduct","topKey","nav","popTo","start","size","className","allowEmptySearch","placeholder","View","VSiteHeader","left","src","logo","alt","style","height","width","right","undefined","renderSearchHeader","VSlider","banners","length","random","Math","floor","path","browser","versions","u","navigator","userAgent","appVersion","trident","indexOf","presto","webKit","gecko","mobile","ios","android","uc","iPhone","iPad","webApp","html5Plus","xs","w","innerWidth","h","innerHeight","d","document","compatMode","documentElement","clientWidth","clientHeight","body","getViewportSize","xsOrIpad","categoryIdRes","CategoryIds_Production","OrganicChemistry","AnalyticalChemistry","LifeScience","MaterialScience","LabSupplies","CategoryIds_Test","RootCategoryRes","viceSrc","OrganicChemistry_j","labelColor","bgClass","AnalyticalChemistry_j","LifeScience_j","MaterialScience_j","LabSupplies_j","GLOABLE","env","testing","CHINA","CHINESE","SALESREGION_CN","ANDROIDAPPADDRESS","PIRVACYURL","CONTENTSITE","EPEC","AUTOLOGIN","PUSHORDERURL","PUNCHOUT","PUNCHOUTXML","LOGISTIC","ORDERTRANS","rootCategroyResFromId","categoryId","categoryIds","VHome","downloadApp","open","pageContent","siteHeader","isWebNav","renderCategoryRootList","renderVm","header","onClick","VPage","CustomHeaderTemplate","content","bg","textC","back","classNames","background","minHeight","cursor","color","name","minWidth","padding","ScanCodeTip","VScanCode","scan","media","plus","barcode","Barcode","onmarked","result","text","QR","EAN13","EAN8","console","log","reg","verArr","test","Ver","charAt","shiftArr","split","includes","Number","scanCodetoProductDetail","scanClose","alert","close","closePage","page","observer","setTimeout","role","openPage","CHome","PageItems","homeSections","sectionTuid","openScanCode","openVPage","renderView","cProductCategory","renderRootList","getSlideShow","uqs","webBuilder","GetSlideShow","table","list","map","v","origin","currentSalesRegion","product","GetProductByOrigin","obj","salesRegion","productByOrigin","showProductDetail","tab","VCartLabel","React","badge","pointer","count","store","cart","showCart","VCartLabelWeb","vCount","top","fontSize","backgroundColor","borderRadius","href","MinusPlusWidget","minusClick","getValue","setValue","plusClick","ref","input","p","parentElement","tagName","disabled","renderContent","renderTemplet","cn","hasError","itemSchema","required","cursorPointer","minusColor","plusColor","hasFocus","hasAction","readOnly","hasValue","isNaN","value","minus","invisible","defaultValue","onChange","onKeyDown","onFocus","evt","onBlur","maxLength","renderErrors","find","UpdownWidget","MinusPlusWidgetTable","ElasticSearchPager","searchUrl","urlGen","pageSize","firstSize","itemObservable","idFieldName","pageNumber","appendPosition","sortOrder","pageStart","keyWord","salesregion","url","generateUrl","fetch","method","headers","resp","json","ret","items","hits","$page","UrlGen","productUrlGen","productCatalogUrlGen","productStandardUrlGen","cartSchema","arr","VCart","punchOutXML","punchOutUrl","punchOutSubmit","generatePunchOutXML","cxmlBase64","CheckOutButton","checkOut","strikeOut","cartBtnMatch","amount","check","getCartButtonTip","action","onSubmit","CartButtonClick","encType","visibility","position","message","addEventListener","preventDefault","renderCartItem","item","renderCartProduct","onItemClick","packsRow","pack","price","tv","uiSchema","selectable","deletable","restorable","widget","Templet","ArrContainer","label","RowContainer","packs","RowSeperator","quantity","WidgetClass","onChanged","onQuantityChanged","onDeleted","onRemoveCartItem","cartForm","data","cartItems","textIndent","schema","formData","whetherToEdit","empty","footer","renderQuickOrder","cQuickOrder","openQuickOrder","makeObservable","observable","params","displayBtn","CCart","editButton","CartBtnMatch","selectedCartItems","navigate","currentUser","thirdPartyOrg","webuserId","ok","context","prev","parentData","retail","currency","changeQuantity","row","packsToDeleted","forEach","each","push","productId","packId","removeItem","onRowStateChanged","selected","deleted","cartItem","isDeleted","getSelectedItems","removeStrike","punchOut","assureLogin","doFirstOrderChecking","cMe","allowOrdering","toPersonalAccountInfo","doCheckOut","cOrder","createOrderFromCart","renderDeliveryTime","tabPage","res","organization","cCart","altimagePath","ProductImage","props","chemicalId","t","Date","getTime","substr","imagePath","altImage","PointProductImage","pointProductImagePath","renderBrand","brand","renderPropItem","caption","captionClass","capClass","valClass","VChemicalInfoInCart","chemical","purity","CAS","molecularFomula","molecularWeight","VFavorite","callback","curPack","favorite","favoriteOrCancel","stopPropagation","imgSrc","zIndex","VDelivery","getProduct","owner","futureDeliveryTimeDescription","inventoryAllocation","getInventoryAllocation","restrict","some","index","warehouse","deliveryTimeDescription","defColor","values","String","replace","VInCart","cName","description","descriptionC","imageUrl","dangerouslySetInnerHTML","__html","VPrice","isShowTable","vipPrice","promotionPrice","minPrice","visible","retailUI","min","Infinity","prices","renderPrice","VPriceWithTr","VPriceQuickOrder","selectPack","changeProductQuantity","QPacks","noPackTip","selectedPack","pricesByPackUI","i","target","hidden","radiox","radioy","unit","VProuductView2","onProductClick","dataSource","productListSource","eName","wordWrap","maxHeight","event","renderPropItemC","marginBottom","paddingLeft","paddingRight","CutLine","cutLine","VProductWithPrice","randomColor","VModalC","medalOnClick","footerUI","title","children","onClose","onOk","onCancel","setAttribute","display","VExchangeOrder","shippingAddressIsBlank","box","pageDesc","OrderSource","EXCHANGEORDER","disBtn","nullContact","renderPointProduct","pointProduct","border","pointIcon","point","onSubmitOwn","submitOrder","orderData","cLottery","prizeOrderData","shippingContact","set","renderContact","onSelectShippingContact","changeVisible","autoHideTips","pointProductsSelected","pointsSum","pointToExchanging","vModel","renderContnet","render","VMyPrizeExchangeOrder","PRIZEORDER","myPrizeLib","pageHTitle","CrPageHeaderTitle","VPointRule","maxWidth","RevenueExpenditure","VMyPoint","pointRules","pointblock","icon","recommendOrHot","theme","imgArr","slice","clm","none","UINoExchangeTip","myEffectivePoints","myPointTobeExpired","myTotalPoints","pointProductGenre","newPointProducts","hotPointProducts","openRevenueExpenditure","openExchangeHistory","openPointSign","cSignIn","dateYear","getFullYear","nowPoint","nowPointTip","actions","hasCustomer","renderMeSideBar","renderDropdownActions","homeTopicMap","backgroundSize","logo_pointShop","flex","signInIcon","exChangeIcon","renderGenreItem","triangleShadingO","triangleShadingT","topicClumps","renderPointRecord","comments","date","telephoneValidation","mobileValidation","emailValidation","faxValidation","addressDetailValidation","zipCodeValidation","organizationNameValidation","nameValidation","VContact","userContactData","form","rules","organizationName","telephone","email","address","pickId","pickAddress","addressValue","country","province","city","county","chineseName","addressString","isDefault","isDefaultInvoice","submit","onSaveContact","buttonClick","onFormButtonClick","saveContact","onDelContact","contact","vCall","VConfirmDeleteContact","delContact","ContactDataP","defaultOrganizationName","defaultName","defaultMobile","saveButton","isSave","btnContent","fromOrderCreation","buttonDel","contactData","_","clone","titleH","onButtonClick","fieldLabelSize","onConfirm","returnCall","confirm","Modal","VContactList","contactSelectSource","onContactRender","onEditContact","onContactSelected","okText","okType","cancelText","onNewContact","userContacts","contactList","VAddress","provinceId","cityId","countyId","backLevel","titleHeader","provinces","renderPCC","onProvinceClick","pcc","marginRight","getProvinceCities","cities","len","onCityClick","openPageElement","saveAddress","getCityCounties","counties","onCountyClick","getCountryProvince","VAddressRW","cAddress","modalTitleS","preLevel","modalTitle","VProvince","VCity","VCounty","CAddress","countryId","common","GetCountryProvinces","GetProvinceCities","GetCityCounties","Address","save","newAddress","addressId","boxId","CSelectContact","renderContentList","userContact","userContactId","customer","Contact","load","getSetting","userSetting","cSelectShippingContact","getIsDefault","cSelectInvoiceContact","setDefaultContact","findIndex","splice","saveContactData","contactBox","backPage","contactTuid","newContact","newContactId","addContact","source","cPointProduct","newC","call","getContactList","getContacts","userContactMaps","CSelectShippingContact","contactId","setDefaultShippingContact","CSelectInvoiceContact","invoiceContact","setDefaultInvoiceContact","OrderSuccess","orderCreateResult","afterBack","no","pointOrder","webUser","exchangeItems","computed","reduce","pv","cv","subAmount","oi","exchangeitems","OrderItem","ExchangeState","VExchangeHistoryDetail","exchangeTransportation","transportation","openOrderTrans","renderexchangeItem","orderItem","exchangeTransUI","carrier","waybillNumber","transNumber","expressLogistics","grade","order","brief","state","statestr","UI_CON_state","ListTable","columns","VExchangeHistory","exchangeHistory","renderExchangeHistory","openOrderDetail","historyListTable","VRevenueExpenditure","showList","tipNone","matchData","pagePointHistory","signinPageHistory","onScrollBottom","scroller","more","headerT","sources","PointTypes","pointType","desc","VPointProductDetail","renderVDefaultPost","OffShelf","OffShelfTip","已下架","pointProductsDetail","renderShopSideBar","giftPlate","renderSelectedLable","availablePoints","pointsInsuffTip","VSelectedLable","openSelectedPointProduct","VDefaultPost","infb","VShopSideBar","Gengres","Object","el","VError","contentView","topicClump","Arrtoobj","typeName","PointIntervals","startPoint","endPoint","CPointProduct","myPoints","pointProducts","couponId","platformOrderId","platformOrder","refreshMypoint","getPoints","effectiveLeftPoint","totalLeftPoint","pointYear","initPointProducts","clearSelectedPointsProducts","openMyPoint","getPointProductGenre","getNewPointProducts","getHotPointProducts","openPointProduct","积分商城","Genre","getPointProductByDifferentPlot","VPointProduct","openPointProductDetail","PointProductLib","fm","getPointProductLibLoad","findProduct","moment","endDate","setPointProductVisits","getPointProductDetailFragment","topic","getPointHistory","JkPointshop","QueryPager","SearchExchangeOrders","first","currentCustomer","exchangeHistorys","orderId","customerUQ","deliver","IDDetailGet","main","ExchangeMain","detail","ExchangeDetail","getOrder","mainArr","orderDetail","ID","IDX","DxExchangeMainState","getDxExchagneMainState","createDate","Customer","promise","getExchangeTransportation","GetPointExchangeDetailTransportation","pointExchangeDetail","then","Promise","all","filter","VSelectedPointProduct","openExchangeOrder","getDefaultShippingContact","SetPointProductVisits","GetPointHistory","plot","productGenre","newRecommend","hotProduct","filterByProductGenre","currentGenre","GetPointProductByGenre","genre","pointProductFromGenre","getProductsFromGenre","PointProductGenre","pointproduct","GetNewPointProducts","sort","b","GetHotPointProducts","getPointsIntervalProducts","pointInterval","GetPointProduct","getProductSources","PointProductSource","sourceId","IsContain","nowQuantity","element","PointExchangeSheet","getDataForSave","flow","IsCouponCanUse","couponCode","salesTask","IsCanUseCoupon","validationResult","types","openMeInfoOptions","userInfoCompletedChecking","openMeInfoFirstOrder","addUsedCoupon","defaultSetting","contact0","selectContact","cSelect","contactArr","getDefaultSetting","getContact","renderHr","HRCL","HRST","styleObj","isShowSelectForm","productIsNull","pointIsEnough","currentInterval","themeName","tabs","rankInterval","borderC","getTabs","TabCaptionComponent","renderList","isSelected","isToDetail","cProductUI","ProductUI","getRelatedUI","tabPosition","languageCaptions","SymbolSrcs","basicInfoKey","insideKey","webKey","securityInfoKey","VPageProduct","renderAssistInfo","basicInfoUI","securityInfoUI","descriptionPostUI","productCrumbsUI","standardSampleUI","extention","descriptionPost","productCrumbs","standardSample","JSON","parse","allContent","o","ind","basicInfos","securityInfos","tableInfo","components","matrix","thead","tds","descriptionCC","descriptionc","cas","concentration","material","showMob","productDocs","effectArr","renderProduct","warnings","mdlnumber","arrTemplet","renderPack","cartLabel","CL","ST","cHome","renderCartLabel","lineHeight","VPageList","onPageScrollBottom","scrollToBottom","productsPager","esproductsPager","Array","searchKey","esProductsPagerMore","esProductsTotal","currentPage","renderRootSideBarByMob","renderRootSideBar","before","scrollIntoView","behavior","block","inline","defaultCurrent","hideOnSinglePage","total","showSizeChanger","VPagePDF","pdfh5","fileName","fileUrl","isFoundFile","fileContent","parsRenderPDF","Pdfh5","rel","overflowY","BrandImg","VPageCoa","COAContent","version","issueDate","lot","format","arr1","OtherArr","print","borderTopStyle","renderCOAItem","lotnumber","cont","prototype","toString","iframeLists","querySelectorAll","materialCaptions","CName","EName","defLangs","language","docTypeWithCaptcha","VPageSkillSearch","productOrigin","productLot","captchaInput","selectVal","productOriginTip","productLotTip","productLotTipNone","captchaTip","buttonDisable","materialType","assistContent","captchaUI","lots","tip","langUI","captcha","productMscuVersions","getCaptcha","langArr","currtCaptcha","getPDFFileUrl","lang","status","msg","VStructure","callStructureSearchs","callStructureSearch","scrolling","borderLeft","CProduct","currentFileName","currentLanguage","currentProduct","showFavorites","productConverter","queryResults","loadListItem","searchAction","setItemConverter","JumpSource","loadDetail","renderProductWithPrice","ToVerifyPdf","fileInfo","toLocaleUpperCase","fetchPdf","getLotByOrigin","getLot","getCoaByOrigin","lotNumber","COA","GetLotByLotnumber","credentials","arrayBuffer","statusText","timer","openMaterial","toLowerCase","loadBase","openStructuredSearch","searchByKey","encodeURIComponent","SearchProduct","productCategory","VModelByCreateOrder","renderModelContent","showBack","overflowX","VCreateOrder","useShippingAddress","shippingAddressTip","invoiceAddressTip","invoiceTip","comBininvoiceTip","orderNotes","submitOrderEd","parseFloat","toFixed","renderOrderItem","renderOrderItemProduct","orderItemKey","packID","renderCoupon","couponAppliedData","hasAnyCoupon","removeCoupon","offsetUI","remittedUI","noOffsetUI","couponOffsetAmount","couponRemitted","cancelCouponUI","onBuyerAccountChanged","renderBuyerAccount","buyerAccount","renderBuyerAccounts","buyerAccounts","onSelect","activePushOrder","invoiceType","invoiceInfo","combinTip","assure","invoiceInfoO","taxNo","bank","accountNo","endComments","maxAmount","saveShowModal","replyToContactType","renderTip","onSelectInvoiceContact","onInvoiceInfoEdit","onCouponEdit","getValidCardForWebUser","get","chevronRight","divInvoiceContact","labeled","contentClass","invoiceContactUI","defaultChecked","currentTarget","checked","invoiceInfoUI","freightFeeUI","freightFeeRemittedUI","freightFee","freightFeeRemitted","couponUI","orderItems","productAmounts","outline","resize","borderColor","rows","Order","coupon","productAmount","subListAmount","pk","orderitems","textAlign","paddingTop","VMyOrders","listAll","currentState","toRepeat","orderListTable","stateA","os","colSpan","renderOrder","changeShowOrders","getMyOrders","flat","searchMyOrders","loadList","searchOrderByKey","toSearchOrdersUI","onShown","paginationUI","current","tabBg","VOrderDetail","againCreatOrder","initialData","orderTransUI","orderAgainUI","userSelect","commentsUI","infoArr","isShow","invoiceTemplate","invoiceTypeUI","trim","regArr","j","commonRequired","valueAddedRequired","commonVisible","valueAddedVisible","VInvoiceInfo","saveTip","invoiceInfoData","origInvoice","invoice","saveInvoiceInfo","onSaveInvoice","onInvoiceTypeClick","parseInt","buildForm","renderInvoiceContent","InvoiceTypeChecked","frm","htmlFor","requiredFields","visibleFields","CInvoiceInfo","saveInvoiceInfoData","invoiceBox","InvoiceInfo","newInvoiceInfo","newInvoiceInfoId","InvoiceType","setDefaultInvoice","groupByProduct1","packItems","packItem","cpi","cparam","activityTime","CouponBase","expiredDate","isValid","codeShow","now","createOrderPriceStrategy","couponData","discount","preferential","validitydate","discountSetting","VIPCard","Coupon","CouponSale","Credits","isAvaliable","BottomDiscount","brandDiscountMap","lastDiscount","discountPrice","round","thisDiscountSetting","Tuid","equ","priceInit","max","multiple","IsInActivePeriod","startDate","newDate","getTips","invalidTip","COUPONBASE","VCoupon","renderRight","showDiscountSetting","vipCardId","renderCardDescription","cardDescription","discountShow","renderActivityDescription","renderCardReveal","CardReveal","isOpenMyCouponManage","useddate","expireddate","getEasyDate","getCodeShow","p1","p2","couponUi","tipUI","showModelCardDiscount","VVIPCard","VCredits","VCouponUsed","year","VCoupleAvailable","couponInput","vipCardForWebUser","coupons","tips","applyCoupon","applySelectedCoupon","vipCardUI","renderModelCardDiscount","couponsForWebUser","concat","creditsForWebUser","cCoupon","VEpecOrderError","error","VOrderTrans","orderTrans","orderTrackUI","orderTrackRult","resTime","time","step","remark","steps","ina","dYear","dTime","ActivePushOrder","agtCustomerType","PushOrderEpec","PushOrder","pushOrder","orderRes","openOrderSuccess","epecOrder","getDataForSave2","mode","stringify","rep","repContent","openEpecOrderError","COrder","orderPageStart","getUserOrders","editContact","validCardForWebUser","initOrderFreightFee","FREIGHTFEEFIXED","hasCoupons","webuser","WebUserBuyerAccount","query","buyerAccountQResult","getDefaultInvoiceContact","getDefaultInvoiceType","getDefaultInvoiceInfo","webUserVIPCard","getCouponValidationResult","vipCardCode","getValidDiscounts","orderAgain","$isDeleted","$isSelected","createdate","nowDate","usedDate","getMonth","getDate","customerId","CustomerCoupon","del","couponType","CustomerCouponUsed","add","WebUserCoupon","WebUserCouponUsed","CustomerCredits","credits","CustomerCreditsUsed","saleOrderItem","WebUserCredits","WebUserCreditsUsed","saleOrder","getValidCredits","getValidCoupons","validCoupons","applyTo","openMyOrders","GetPendingPayment","result3","result2","result1","SearchOrders","cInvoiceInfo","newInvoice","salesRegionId","JkOrder","productx","OrderMain","OrderDetail","getOrderDetail","OrderMainEx","getOrderMainEx","DxOrderMainState","getOrderMainState","sumAmount","Currency","promise1","utcOffset","assign","commentsAboutDeliver","orderItemsn","ProductX","GetProductPrices","pricex","GetOrderDetailTransportation","inteLogistics","getOrderTransportation","orderTransportation","getOrderTrackByTransNum","transCompany","currTransBoxId","transCompanyId","transCompanyIdTest","response","pickProvince","pickCity","pickCounty","renderInvoice","renderValidCard","vipCard","applyCoupon1","couponRet","applyTip","VRootCategory","renderRootCategory","parent","renderSubCategory","renderThirdCategory","rootCategories","root","join","VRootCategorySideBar","pcId","menuId","renderChildren","renderCategoryItem","VRootCategorySideBarToSelect","VBrandCrumbs","allAncestors","jL","productcategorylanguage","jl","VCategoryPage","getBgClass","productCategoryId","breadcrumbs","instruction","instructionUi","renderSubcategory","titleBgClass","vItem","renderCategory","VCategoryHome","combinations5","combinations4","CProductCategory","getCategoryInstruction","onClickCategory","pc","showCategoryPage","loadRoot","ProductCategory","GetRootCategory","stopCache","results","secend","third","buildChildren","promises","getCategoryChildren","pcTuid","getAllAncestors","ProductCategoryLoad","unshift","pcCurrentLanguage","GetChildrenCategory","subCategories","secendSubCategory","sub","subProductCategory","subParent","subName","subTotal","VP","searchByCategory","stylePig","backgroundImage","pig","opacity","VMember","recommendationCodeRef","member","recommendationCode","im","inviteCode","divPoints","pointThisWeek","pointAll","fansTitle","fansDetail","setReferrer","CMember","referrer","loginCallback","pop","internalStart","isLogined","showLogin","currentUserId","user","MemberAction","MemberRecommender","fans","sections","post","phones","number","fax","Row","ContactUs","phone","phoneIndex","eIndex","AboutThisApp","links","margin","appConfig","resetAll","checkVersion","MeLib","image","belongs","component","iconClass","VMeSideBar","pathname","VMe","contactUs","privacy","openPrivacy","aboutThisApp","changePassword","openContactList","openInvoice","openCouponManage","openFavorites","meInfo","nick","openMeInfo","userSpan","orderStates","aboutRows","openAbout","logOutRows","bk","exit","welcome","meLib","showLogout","EditMeInfo","webUserData","webUserContactData","onItemChanged","newValue","preValue","userApi","userSetProp","saveLocalUser","onWebUserChanged","changeWebUser","onWebUserContactChanged","changeWebUserContact","webUserSchema","webUserUiSchema","webUserContactSchema","webUserContactUiSchema","firstName","gender","salutation","departmentName","zipCode","EditMeInfoFirstOrder","f","merge","webUserContacts","addContactFromAccount","actionButton","onCompleted","onlyRequired","note","schemaArr","VFavorites","productsFavorites","CFavorites","myFavorites","searchByFavorites","getMyFavirates","VLoginState","Avatar","imgStyle","VAbout","CMe","pick","openMyCouponManage","cMyFavorites","fn","showPrivacyPage","getCommonText","textId","CommonText","showLoginOut","webUserContact","VMain","notify","cartCount","VSharedCoupon","tipsAfterDawed","products","drawCouponUI","sharedCouponValidationResult","couponDrawed","loginWhenDrawCoupon","countDown","showTips","waitingSeconds","setInterval","renderCouponBase","VVIPCardDiscount","renderVIPCardDiscountSetting","VCouponManage","currentStatus","oss","toolTip","getCoupons","receiveCoupon","drawCoupon","conductReveal","CouponViewOrUse","tipsUI","VModelCardDiscount","CardDiscount","renderCardDiscount","couponTips","CCoupon","curCardDiscount","couponPager","rtn","getCouponDiscountSetting","getValidMusterForWebUser","getUserdCoupon","getExpiredCoupon","shift","getValidVipCardForWebUser","validVIPCardForWebUser","validCouponsForWebUser","validCreditsForWebUser","creditsCode","WebUserVIPCard","getValidCouponsForWebUser","getValidCreditsForWebUser","VIPCardDiscount","showSharedVIPCard","vipcard","productids","autoDrawCouponBase","getProducts","showSharedCoupon","showSharedCredits","couponBaseCode","allowCurrentUser","creditsId","drawedResult","pramArr","drawedResult3","vipCardType","VYncProjects","YncProjectsItems","headerClassName","renderItem","model","returnYncProject","ProjectName","CYncProjects","OrganCode","UserId","YncProjectsResponse","getYncProjects","FormData","append","VLottery","currIndex","winning","isLottery","lotterySuccess","aDeg","prize","lottery","lotteryProducts","productsLib","decreasingNumberOfDraws","winningProduct","speed","indexMR","mR","roll","clearTimeout","totalCount","renderLotteryBtn","remainingNumOfDraws","renderPrizesBlock","transform","borderRight","transformOrigin","openMyLotteryPrize","bottom","VMyLotteryPrize","renderMyPrize","myPrize","openMyPrizeOrder","prizeOrder","CLottery","totalNumPrizes","openLotteryProduct","getLotteryProducts","getLotteryNumOfDraws","basedChanceHandlePrizes","getMyPrizes","addMyPrize","PR","base","from","k","VPointSign","rulesNum","renderRule","ruleContent","boxShadow","padStart","demandBlock","isSignin","signinval","signTopicMap","已签到","Homemadelogo","CSignIn","signinConsecutiveDays","isSignined","addSigninSheet","getSigninConsecutiveDays","getSigninHistory","checkIsSignin","Signin","GetPointSigninHistory","Cart","cartData","cartStore","disposer","calcSum","cp","pi","NaN","againOrderCart","findRepeatData","PriceX","productPromises","filtPacksByProductId","discountinued","expireDate","findPack","autorun","CartRemote","CartLocal","buildItem2","ci","storeCart","priceMap","cps","cpp","cartItemExists","packExists","pe","cartItemIndex","removeFromCart","CartStore","GetCart","SetCart","RemoveFromCart","LOCALCARTNAME","productTuid","packTuid","div","cartstring","localStorage","getItem","cartDataBoxed","productbox","packbox","TuidDiv","setItem","Product","msds","spec","coa","um","getProductPacks","currentSalesRegionId","salesLevel","loadFavorite","delProductFavorites","addProductFavorites","getProductAndDiscount","customerDiscount","GetDiscount","getProductExtention","ProductExtention","loadDescriptionPost","loadStandardSample","Productstandardsample","loadProductCrumbs","ProductProductCategory","getProductCategorys","category","keyArr","productCategoryByParent","loadProductWarnings","getProductWarningSigns","getProductEmbargo","ChemicalJNKRestrict","JNKRestrictByChemical","chemicalSecurity","JNKRestrict","jnkRestrict","warningSign","ProductEmbargo","beginDate","packDescription","dateTime","getVerifyCode","shallow","loadBrand","loadChemical","loadPrices","loadMSDSFile","loadSpecFile","loadCOAFile","loadUserManualFile","loadFDTimeDescription","GetAvailableProductById","Brand","ProductChemical","ProductMSDSFile","productMSDSFiles","ProductSpecFile","specFiles","getProductLotNumber","coaFile","ProductUserManualFile","userManualFile","promotion","Discounts","brandDiscounts","VIPDiscount","brandDiscount","getQuantity","promises1","GetPromotionPack","GetInventoryAllocation","results2","newPacks","ProductDeliveryTime","futureDeliveryTime","GetFutureDeliveryTime","minValue","maxValue","Store","cache","Map","buildItems","dispose","WebUser","_user","epecUser","webUserSettings","setUser","loadWebUser","webUserTuid","platformjoint","WebUserContact","WebUserSetting","WebUserCustomer","RecordLogin","ip","app","NeoTridentUser","EpecUser","accountValue","WebUserContacts","newContactBox","saveDefaultSettings","invoiceTypeId","invoiceInfoId","getMyUsedCoupon","getMyExpiredCoupon","customerSettings","Contractor","Organization","CustomerContacts","CustomerDiscount","discounts","OrganizationDiscount","getcustomerDiscount","getOrganizationDiscount","CustomerBuyerAccount","customerBuyerAccount","Buyeraccount","getBuyerAccountID","BuyerAccountName","search","getBuyerAccountCustomerRes","CustomerSetting","customerContactorMap","contractor","getCustomerOrganization","customerOrganization","getcustomerDiscountArr","setDefaultSettings","VQuickOrder","directOrderType","excelData","execlFileName","excelTip","inputStorageToOrigin","quickOrderProducts","iptValue","productContent","noProductTip","rightUI","renProduct","renderPriceQuickOrderView","excelUpload","reads","FileReader","files","readAsBinaryString","onload","workbook","XLSX","read","firstSheet","SheetNames","worksheet","Sheets","csv1","csv","idx","csv2table","utils","sheet_to_csv","readExcelFile","accept","UploadExcel","overOrder","quickOrderDised","every","addMoreProducts","getProductByOriginOrPack","leng","newArr","radioyArr","unitArr","QueryProductsByOriginOrPack","origins","CQuickOrder","initProduct","queryProductByOrigin","nOrigin","GetProductPackByOrigin","resultArr","productExists","packArr","promises2","packExistsFormPrices","findOriginById","getProductByOrigin","finddefaultPack","getPriceByPackID","CApp","cMember","cFavorites","cYncProjects","navHome","showMain","navSearch","qs","buildCartItems","navProduct","navProductMSCU","navCart","navProductCategory","navProductCategoryHome","showCategoryHome","navPointShop","navAbout","navMe","navContactList","navInvoice","navMyOrders","navOrderDetail","navCouponManage","navFavorites","navPassword","navMeInfo","navQuickOrder","navPointProduct","navPointProductDetail","navPointProductOrder","navPointProductOrderDetail","navProductstructure","initCart","prouductBoxId","onChangeLogin","resolveRoute","webNav","getWebNav","navHeader","navRawHeader","navFooter","navRawFooter","VNavHeader","VNavRawHeader","VNavFooter","VNavRawFooter","renderPageHeader","initTabName","routes","onNavRoutes","setHomeRoute","onNavRoute","reject","history","initLogined","initNotLogined","initUQs","ProductCategorys","id_test","VMainWebNav","tabContent","NavHeaderView","searchType","searchPhlder","searchClick","keyValue","vLogin","vCartLabel","searchPhlderVal","searchTypeUI","NavFooterView","CWeb","renderLogin","ReactDOM","renderLoginState","renderHomeCart","renderCartLabel_web","setIsWebNav","isMobile","pageWebNav","hookElements","onfocus","reloadUser","elements","login","homeCart","elRoot","getElementById","setRes","$zh","$en","str","uqStringify","fields","ui","fieldArr","$create","deliverId","warehouseName","cutter","staff","pickRows","deliverTime","deliverDone","startTime","finishTime","ixx","ix","xi","showPrice","EnumFeeType","EnumAmountDiff","EnumOrderState","sumQuanity","couponNo","sheetId","customerAccount","seller","salesman","poNumber","orderItemId","endUser","retailCurrency","bottomPrice","bottomPriceCurrency","costPrice","costPriceCurrency","poItemNumber","mark","tradeType","taxRate","promotionId","returnItemId","deliverReturn","deliverReturnDone","receive","receiveDone","receiveTime","receiveReturn","receiveReturnDone","invoiceDone","invoiceTime","invoiceReturn","invoiceReturnDone","fee","diff","EnumReceiveDirection","EnumReceiveWay","EnumBlueRed","invoiceNr","blueRed","invoicer","direction","receiveWay","receiveNr","receiveDate","receiver","usedAmount","redAmount","invalidAmount","leftAmount","returnAmount","EnumPointType","EnumPointChangingSource","EnumExchangeState","orderMainNo","orderDetailNo","totalPoint","descVice","unLockOn","tvAddress","tvCountry","tvCurrency","tvProduct","tvContact","jk","alias","dev","noUnit","tvs","packx","oem","loginTop","loadQQScript","createElement","appendChild","loadBaiduTongji","hm","s","getElementsByTagName","parentNode","insertBefore","setSettings","endsWith","require","onLogined","startPage","userPassword","startsWith","lgtk","App","notLogined","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5322b2ef.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 259;","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../../node_modules/postcss-loader/src/index.js??postcss!./style.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!../../node_modules/postcss-loader/src/index.js??postcss!./rst.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import AnalyticalChemistry from './images/AnalyticalChemistry.png';\r\nimport LabSupplies from './images/LabSupplies.png';\r\nimport LifeScience from './images/LifeScience.png';\r\nimport MaterialScience from './images/MaterialScience.png';\r\nimport OrganicChemistry from './images/OrganicChemistry.png';\r\n\r\nimport AnalyticalChemistry_j from './images/AnalyticalChemistry.jpg';\r\nimport LabSupplies_j from './images/LabSupplies.jpg';\r\nimport LifeScience_j from './images/LifeScience.jpg';\r\nimport MaterialScience_j from './images/MaterialScience.jpg';\r\nimport OrganicChemistry_j from './images/OrganicChemistry.jpg';\r\n\r\nimport { env } from 'tonva-react';\r\n\r\nenum EnumCategory { OrganicChemistry = 1, AnalyticalChemistry = 2, LifeScience = 3, MaterialScience = 4, LabSupplies = 5 };\r\nconst CategoryIds_Production: { [id: number]: EnumCategory } = {\r\n\t47: EnumCategory.OrganicChemistry,\r\n\t470: EnumCategory.AnalyticalChemistry,\r\n\t1013: EnumCategory.LifeScience,\r\n\t1219: EnumCategory.MaterialScience,\r\n\t1545: EnumCategory.LabSupplies,\r\n};\r\nconst CategoryIds_Test: { [id: number]: EnumCategory } = {\r\n\t7: EnumCategory.OrganicChemistry,\r\n\t430: EnumCategory.AnalyticalChemistry,\r\n\t986: EnumCategory.LifeScience,\r\n\t1214: EnumCategory.MaterialScience,\r\n\t1545: EnumCategory.LabSupplies,\r\n};\r\n\r\ninterface CategoryRes {\r\n\tsrc: string;\t\t// 所用图片的src \r\n\tviceSrc: string;    // 副图片的src \r\n\tlabelColor: string;\r\n\tbgClass: string;\r\n}\r\n\r\nconst RootCategoryRes: { [key in EnumCategory]: CategoryRes } = {\r\n\t[EnumCategory.OrganicChemistry]: {\r\n\t\tsrc: OrganicChemistry,\r\n\t\tviceSrc: OrganicChemistry_j,\r\n\t\tlabelColor: 'text-info',\r\n\t\tbgClass: \"mint-bg\",\r\n\t},\r\n\t[EnumCategory.AnalyticalChemistry]: {\r\n\t\tsrc: AnalyticalChemistry,\r\n\t\tviceSrc: AnalyticalChemistry_j,\r\n\t\tlabelColor: 'text-success',\r\n\t\tbgClass: \"green-bg\",\r\n\t},\r\n\t[EnumCategory.LifeScience]: {\r\n\t\tsrc: LifeScience,\r\n\t\tviceSrc: LifeScience_j,\r\n\t\tlabelColor: 'text-danger',\r\n\t\tbgClass: \"red-bg\",\r\n\t},\r\n\t[EnumCategory.MaterialScience]: {\r\n\t\tsrc: MaterialScience,\r\n\t\tviceSrc: MaterialScience_j,\r\n\t\tlabelColor: 'text-warning',\r\n\t\tbgClass: \"purple-bg\",\r\n\t},\r\n\t[EnumCategory.LabSupplies]: {\r\n\t\tsrc: LabSupplies,\r\n\t\tviceSrc: LabSupplies_j,\r\n\t\tlabelColor: 'text-primary',\r\n\t\tbgClass: \"blue-bg\",\r\n\t},\r\n};\r\n\r\ninterface Language {\r\n\tid: number;\r\n\tno: \"zh-CN\";\r\n\tdescription: \"华 -中国\";\r\n};\r\n\r\ninterface SaleRegion {\r\n\tid: number;\r\n\tname: string;\r\n\tcurrency: 5;\r\n\tno: \"CN\";\r\n};\r\n\r\ninterface Global {\r\n\tCHINA: number;\r\n\tCHINESE: Language;\r\n\tSALESREGION_CN: SaleRegion;\r\n\t//TIPDISPLAYTIME: 3000;\r\n\tANDROIDAPPADDRESS: string;\r\n\tPIRVACYURL: string;\r\n\tCONTENTSITE: string;\r\n\tEPEC: {\r\n\t\tAUTOLOGIN: string;\r\n\t\tPUSHORDERURL: string;\r\n\t},\r\n\tPUNCHOUT: {\r\n\t\tPUNCHOUTXML: string;\r\n\t},\r\n\tLOGISTIC: {\r\n\t\tORDERTRANS: string;\r\n\t},\r\n};\r\n\r\n// 生产配置\r\nconst GLOABLE_PRODUCTION: Global = {\r\n\tCHINA: 44,\r\n\tCHINESE: { \"id\": 196, \"no\": \"zh-CN\", \"description\": \"华 -中国\" },\r\n\tSALESREGION_CN: { \"id\": 1, \"name\": \"中国大陆\", \"currency\": 5, \"no\": \"CN\" },\r\n\t//TIPDISPLAYTIME: 3000,\r\n\tANDROIDAPPADDRESS: \"https://shop.jkchemical.com/download/jk-shop.apk\",\r\n\tPIRVACYURL: \"https://shop.jkchemical.com/privacy/shop.txt\",\r\n\tCONTENTSITE: \"https://web.jkchemical.com\",\r\n\tEPEC: {\r\n\t\tAUTOLOGIN: \"https://web.jkchemical.com/api/joint/clientLogin\",\r\n\t\tPUSHORDERURL: \"https://joint.jkchemical.com/epec/pushOrder\"\r\n\t},\r\n\tPUNCHOUT: {\r\n\t\tPUNCHOUTXML: \"https://joint.jkchemical.com/punchout/generatePunchOutXML\"\r\n\t},\r\n\tLOGISTIC: {\r\n\t\tORDERTRANS: \"https://joint.jkchemical.com/logistics/getTravelInformation\"\r\n\t},\r\n\t// CONTENTSITE: \"http://localhost:6061\",\r\n}\r\n\r\n// 测试环境配置\r\nconst GLOABLE_TEST: Global = {\r\n\tCHINA: 43,\r\n\tCHINESE: { \"id\": 197, \"no\": \"zh-CN\", \"description\": \"华 -中国\" },\r\n\tSALESREGION_CN: { \"id\": 4, \"name\": \"中国大陆\", \"currency\": 5, \"no\": \"CN\" },\r\n\tANDROIDAPPADDRESS: \"https://shop.jkchemical.com/download/jk-shop.apk\",\r\n\tPIRVACYURL: \"https://test.jkchemical.com/privacy/shop.txt\",\r\n\tCONTENTSITE: \"https://test.jkchemical.com\",\r\n\tEPEC: {\r\n\t\tAUTOLOGIN: \"https://test.jkchemical.com/api/joint/clientLogin\",\r\n\t\tPUSHORDERURL: \"https://test.jkchemical.com/joint/epec/pushOrder\"\r\n\t},\r\n\tPUNCHOUT: {\r\n\t\tPUNCHOUTXML: \"https://test.jkchemical.com/joint/punchout/generatePunchOutXML\"\r\n\t},\r\n\tLOGISTIC: {\r\n\t\tORDERTRANS: \"https://test.jkchemical.com/joint/logistics/getTravelInformation\"\r\n\t},\r\n}\r\n\r\nexport const GLOABLE = env.testing === true ? GLOABLE_TEST : GLOABLE_PRODUCTION;\r\n//export { GLOABLE_PRODUCTION as GLOABLE };\r\n//export { GLOABLE_TEST as GLOABLE };\r\n\r\nlet categoryIdRes: { [id: number]: CategoryRes };\r\n(function () {\r\n\tcategoryIdRes = {};\r\n\tlet categoryIds = env.testing === true ? CategoryIds_Test : CategoryIds_Production;\r\n\tfor (let id in categoryIds) {\r\n\t\tcategoryIdRes[id] = RootCategoryRes[categoryIds[id]];\r\n\t}\r\n})();\r\n\r\nexport function rootCategroyResFromId(categoryId: number): CategoryRes {\r\n\treturn categoryIdRes[categoryId];\r\n}\r\n","// import { CSub, CBase, CAppBase, IConstructor, PageWebNav } from 'tonva-react';\r\n// import { UQs } from '../uqs';\r\n// import { CApp } from './CApp';\r\n\r\n// export abstract class CUqBase extends CBase {\r\n//     get cApp(): CApp { return this._cApp; }\r\n//     protected get uqs(): UQs { return this._uqs as UQs };\r\n//     getPageWebNav(): PageWebNav { return this.cApp.getPageWebNav(); }\r\n// }\r\n\r\n// export abstract class CUqSub<T extends CUqBase> extends CSub<T> {\r\n//     get cApp(): CApp { return this.cApp; }\r\n//     protected get uqs(): UQs { return this._uqs as UQs };\r\n//     protected get owner(): T { return this._owner as T }\r\n//     getPageWebNav(): PageWebNav { return this.cApp.getPageWebNav(); }\r\n// }\r\n\r\n// export abstract class CUqApp extends CAppBase {\r\n//     get uqs(): UQs { return this._uqs };\r\n\r\n//     protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n//         let c = new type(this);\r\n//         c.init();\r\n//         return c;\r\n//     }\r\n// }\r\n\r\n//=== UqApp builder created on Fri Jul 16 2021 23:47:57 GMT-0400 (北美东部夏令时间) ===//\r\nimport { CSub, CBase, CAppBase, IConstructor } from 'tonva-react';\r\nimport { UQs } from 'uq-app';\r\nimport { CApp } from './CApp';\r\n\r\nexport abstract class CUqBase extends CBase<CApp, UQs> {\r\n}\r\n\r\nexport abstract class CUqSub<A extends CAppBase<U>, U, T extends CBase<A, U>> extends CSub<A, U, T> {\r\n}\r\n\r\nexport abstract class CUqApp extends CAppBase<UQs> {\r\n    protected newC<T extends CUqBase>(type: IConstructor<T>): T {\r\n        let c = new type(this);\r\n        c.init();\r\n        return c;\r\n    }\r\n}\r\n","import { View, nav, SearchBox } from 'tonva-react';\r\nimport { CHome } from './CHome';\r\n\r\n\r\nexport class VSearchHeader extends View<CHome> {\r\n\r\n    private onSearch = async (key: string, param: 'home' | 'insearch' | 'productdetail') => {\r\n        let { cProduct, topKey } = this.controller.cApp;\r\n        if (param !== 'home') {\r\n            nav.popTo(topKey);\r\n        }\r\n        cProduct.start({ key: key, type: 1 });\r\n    }\r\n\r\n    render(param: 'home' | 'insearch' | 'productdetail') {\r\n        let size: any = param === 'home' ? \"md\" : 'sm';\r\n        return <SearchBox className=\"w-100\"\r\n            size={size}\r\n            allowEmptySearch = {true}\r\n            onSearch={(key: string) => this.onSearch(key, param)}\r\n            placeholder=\"搜索品名、编号、CAS、MDL等\" />\r\n    }\r\n}","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABGCAYAAACQRffVAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF8mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDUtMjlUMTU6MDY6MzgtMDQ6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA1LTI5VDE3OjE4OjM2LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA1LTI5VDE3OjE4OjM2LTA0OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9InNSR0IgSUVDNjE5NjYtMi4xIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmE3ZjJlZGZmLTlkMzUtNDBiNy1hNmRhLTNlNDZjZWMwOWJiZiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3ZmY0N2IxZC1mZmYwLTQ3ZWMtYjVhNS1hZDZkOGNkY2Y2MzEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3ZmY0N2IxZC1mZmYwLTQ3ZWMtYjVhNS1hZDZkOGNkY2Y2MzEiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjdmZjQ3YjFkLWZmZjAtNDdlYy1iNWE1LWFkNmQ4Y2RjZjYzMSIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0yOVQxNTowNjozOC0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmE3ZjJlZGZmLTlkMzUtNDBiNy1hNmRhLTNlNDZjZWMwOWJiZiIgc3RFdnQ6d2hlbj0iMjAyMC0wNS0yOVQxNzoxODozNi0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+BVuKlQAACWlJREFUeJzlm32QVlUdxz/Pw8MuLAgIsiAvusKAxC6p1JBoYhKCVtSgGGSWOaKCFjKppJjNOFraCxVaEwUiE5ZCmQahEVC8hLptqEWstpBAA4jBKiDs6i672x/fe3nuc577cu7zXJxl+MzsPPece86553vvefmd3zmbqq6o5OQiVWjGjwK3ZhKsyQdEGwWKXggMTydbmXbLIOA8YMmpIvi7zu8rp4LgjwCTnesXTwXBjzi/e4EtJ6ngNtuEVwAXOdcvAE0nqWBrFnuuVwHEmZY6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\"","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { LMR, FA, View } from 'tonva-react';\r\nimport logo from '../images/logo_mobi.png';\r\nimport { CHome } from './CHome';\r\nimport 扫一扫 from 'images/扫一扫.png';\r\n\r\nexport class VSiteHeader extends View<CHome> {\r\n    render() {\r\n        let currentSalesRegion = <FA name=\"globe\" />\r\n        let left = <img className=\"m-1 ml-2\" src={logo} alt=\"logo\" style={{ height: \"3rem\", width: \"2.5rem\" }} />;\r\n        //let cart = this.controller.cApp.cCart.renderCartLabel();\r\n        // let right = undefined; // \r\n        let right = undefined;\r\n        /* if (navigator.userAgent.indexOf(\"Html5Plus\") > -1) {\r\n            right = <img src={扫一扫} alt=\"\" className=\"mr-2\" style={{ width: 24 }} onClick={this.controller.openScanCode} />;\r\n        } */\r\n        /*\r\n        <div className=\"d-flex flex-row mr-1 align-items-center\">\r\n            {currentSalesRegion} &nbsp;\r\n            <button onClick={()=>nav.start()}>Try</button>\r\n        </div>;*/\r\n        return <LMR\r\n            className=\"mb-1 align-items-center bg-white reset-z-header-boxS\"\r\n            left={left} right={right}>\r\n            <div className=\"px-3 py-4\">\r\n                {this.controller.renderSearchHeader('md')}\r\n            </div>\r\n        </LMR>\r\n        //<div className=\"h4 px-3 mb-0\">百灵威科技</div>\r\n    }\r\n}","/* eslint-disable */\r\nimport { View } from 'tonva-react';\r\nimport { CHome } from './CHome';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\n\r\nconst sliderSetting = {\r\n    dots: false,\r\n    infinite: true,\r\n    speed: 500,\r\n    autoplay: true,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    arrows: false,\r\n    isArrows: true,\r\n    isDots: true\r\n};\r\n\r\nexport class VSlider extends View<CHome> {\r\n\r\n    public render(param: any) {\r\n\r\n        let { banners } = this.controller;\r\n        if (banners.length > 0) {\r\n            let random = Math.floor(Math.random() * 10 % banners.length);\r\n            return <img src={banners[random].path} className=\"d-block w-100\" alt=\"...\"></img>\r\n        }\r\n\r\n        /**\r\n        return <Slider {...sliderSetting} className=\"bg-white\" >\r\n            {this.controller.banners.map((banner, index) => <div key={index} >\r\n                <img src={banner.path} className=\"d-block w-100\" alt=\"...\"></img>\r\n            </div>)}\r\n        </Slider>\r\n        **/\r\n    }\r\n}\r\n","/* eslint-disable */\r\nexport let browser = {\r\n    versions: function () {\r\n        var u = navigator.userAgent, app = navigator.appVersion;\r\n        return {\r\n            trident: u.indexOf('Trident') > -1,                            //IE内核\r\n            presto: u.indexOf('Presto') > -1,                              //opera内核\r\n            webKit: u.indexOf('AppleWebKit') > -1,                         //苹果、谷歌内核\r\n            gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') === -1,    //火狐内核\r\n            mobile: !!u.match(/AppleWebKit.*Mobile.*/),                    //是否为移动终端\r\n            ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),               //ios终端\r\n            android: u.indexOf('Android') > -1, //android终端或者uc浏览器\r\n            uc: u.indexOf('Linux') > -1, //android终端或者uc浏览器\r\n            iPhone: u.indexOf('iPhone') > -1,                              //是否为iPhone或者QQHD浏览器\r\n            iPad: u.indexOf('iPad') > -1,                                  //是否iPad\r\n            webApp: u.indexOf('Safari') === -1,                             //是否web应该程序，没有头部与底部\r\n            html5Plus: u.indexOf('Html5Plus') > -1                      //是否微信 （2015-01-22新增）\r\n        };\r\n    }()\r\n};\r\n\r\nexport let xs = (function () {\r\n\r\n    function getViewportSize(w?: any) {\r\n        w = w || window;\r\n        if (w.innerWidth != null) return { w: w.innerWidth, h: w.innerHeight };\r\n        var d = w.document;\r\n        if (document.compatMode === \"CSS1Compat\")\r\n            return { w: d.documentElement.clientWidth, h: d.documentElement.clientHeight };\r\n        return { w: d.body.clientWidth, h: d.body.clientHeight };\r\n    }\r\n    return getViewportSize().w < 576;\r\n})();\r\n\r\nexport let xsOrIpad = xs || browser.versions.iPad;","export default __webpack_public_path__ + \"static/media/AnalyticalChemistry.91620b99.png\";","export default __webpack_public_path__ + \"static/media/LabSupplies.7d2d3bf7.png\";","export default __webpack_public_path__ + \"static/media/LifeScience.c1c493a6.png\";","export default __webpack_public_path__ + \"static/media/MaterialScience.2c3ee8eb.png\";","export default __webpack_public_path__ + \"static/media/OrganicChemistry.5d7b018f.png\";","export default __webpack_public_path__ + \"static/media/AnalyticalChemistry.0cf78cfd.jpg\";","export default __webpack_public_path__ + \"static/media/LabSupplies.1b21a99f.jpg\";","export default __webpack_public_path__ + \"static/media/LifeScience.1d393df4.jpg\";","export default __webpack_public_path__ + \"static/media/MaterialScience.02f0c8a4.jpg\";","export default __webpack_public_path__ + \"static/media/OrganicChemistry.f9e01928.jpg\";","import { VPage } from 'tonva-react';\r\nimport { CHome } from './CHome';\r\nimport { VSiteHeader } from './VSiteHeader';\r\nimport { VSlider } from './VSlider';\r\nimport { browser } from 'tools/browser';\r\nimport { GLOABLE } from 'global';\r\n\r\nexport class VHome extends VPage<CHome> {\r\n\r\n    async open(param?: any) {\r\n        // this.openPage(this.page);\r\n    }\r\n\r\n    /*\r\n    render(param: any): JSX.Element {\r\n        return <this.pageContent />\r\n    }\r\n\r\n    private page = () => {\r\n        return <Page header={false}>\r\n            <this.pageContent />\r\n        </Page>;\r\n    };\r\n    */\r\n\r\n    downloadApp = () => {\r\n        if (browser.versions.android)\r\n            window.open(GLOABLE.ANDROIDAPPADDRESS);\r\n    }\r\n\r\n    header() {\r\n        let header = <></>;\r\n        if (!browser.versions.html5Plus && browser.versions.android) {\r\n            header = <div className=\"bg-warning d-flex align-items-center\"\r\n                onClick={this.downloadApp}>\r\n                <span className=\"small text-danger ml-3\">\r\n                    APP购物更方便\r\n                </span>\r\n                <button type=\"button\" className=\"btn btn-primary btn-sm ml-auto m-1\">立即安装</button>\r\n            </div>\r\n        }\r\n        return header;\r\n    }\r\n\r\n    content() {\r\n        return <this.pageContent />\r\n    }\r\n\r\n    private pageContent = () => {\r\n        let { controller, isWebNav } = this;\r\n        let { renderCategoryRootList } = controller;\r\n        let siteHeader: any;\r\n\t\tif (isWebNav) {\r\n\t\t\tsiteHeader = <div className=\"mt-3\"></div>;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tsiteHeader = this.renderVm(VSiteHeader);\r\n\t\t}\r\n        return <>\r\n            {siteHeader}\r\n            <div className=\"mb-3\">\r\n                {this.renderVm(VSlider)}\r\n            </div>\r\n            {renderCategoryRootList()}\r\n        </>\r\n    };\r\n}","import * as React from 'react';\r\nimport { FA, nav } from 'tonva-react';\r\nimport classNames from 'classnames';\r\n\r\nexport const CustomHeaderTemplate = (content?: any, right?: any, bg?: any, textC?: any, back?: any) => {\r\n    return <header className={classNames('d-flex align-items-center p-0 justify-content-between', bg ? bg : 'bg-white')} style={{ background: bg, minHeight: '3rem' }}>\r\n        <nav className={`d-flex align-items-center justify-content-center ${textC ? textC : 'text-white'}`}\r\n            style={{ cursor: 'pointer', width: \"2.5rem\", height: \"2.3rem\", color: textC, }}\r\n            onClick={() => { nav.back(); if (back) back() }}>\r\n            <FA name=\"angle-left\" />\r\n        </nav>\r\n        <div className=\"flex-fill\">{content}</div>\r\n        <aside className=\"d-flex justify-content-end align-items-stretch\" style={{ minWidth: '2.3rem', padding: 2 }}>{right}</aside>\r\n    </header>\r\n}","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\nimport { VPage } from 'tonva-react';\r\nimport { CustomHeaderTemplate } from 'tools/CustomHeaderTemplate';\r\nimport { CHome } from './CHome';\r\n\r\nconst ScanCodeTip: string = '只可扫本司产品二维码';\r\n\r\nexport class VScanCode extends VPage<CHome> {\r\n\r\n    scan: any;\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    media = () => {\r\n        if (navigator.userAgent.indexOf(\"Html5Plus\") > -1) {\r\n            // @ts-ignore \r\n            this.scan = new plus.barcode.Barcode('bcid');\r\n            this.scan.onmarked = this.onmarked;\r\n            this.scan.start();\r\n        }\r\n    }\r\n\r\n    onmarked = async (type: any, result: any) => {\r\n        var text = '未知: ';\r\n        switch (type) {\r\n            // @ts-ignore \r\n            case plus.barcode.QR:\r\n                text = 'QR';\r\n                break;\r\n            // @ts-ignore \r\n            case plus.barcode.EAN13:\r\n                text = 'EAN13';\r\n                break;\r\n            // @ts-ignore \r\n            case plus.barcode.EAN8:\r\n                text = 'EAN8';\r\n                break;\r\n        }\r\n        console.log('result==>', result);// '912152 LT40U57 Jkchemical 1'   \r\n        let reg = /(Jkchemical)/, verArr = [1];\r\n        if (text === 'QR' && reg.test(result)) {\r\n            let Ver = result.charAt(result.length - 1);\r\n            let shiftArr = result.split(' ');\r\n            if (verArr.includes(Number(Ver))) {\r\n                let { scanCodetoProductDetail } = this.controller;\r\n                this.scanClose();\r\n                await scanCodetoProductDetail(shiftArr[0]);\r\n            }\r\n        } else {\r\n            alert('此码无法解析额');\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    scanClose = () => {\r\n        if (navigator.userAgent.indexOf(\"Html5Plus\") > -1) {\r\n            // @ts-ignore \r\n            this.scan.close();\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        this.scanClose();\r\n        this.closePage();\r\n    }\r\n\r\n    private page = observer(() => {\r\n        this.media();\r\n        setTimeout(() => {\r\n            this.media();\r\n        }, 5);\r\n        let header = <div className='w-100 text-center text-light'>扫一扫</div>;\r\n        return <div className=\"w-100 h-100 d-flex flex-column\">\r\n            <div className=\"w-100\">\r\n                {CustomHeaderTemplate(header, '', '#555555', '', this.close)}\r\n            </div>\r\n            <div className=\"alert alert-warning py-0 w-100 rounded-0 m-0 text-center\" role=\"alert\">{ScanCodeTip}</div>\r\n            <main className=\"flex-fill\">\r\n                <div id='bcid' className=\"w-100 h-100\" style={{ background: '#F5F5F5' }}></div>\r\n            </main>\r\n        </div>;\r\n    });\r\n}\r\n","import { Tuid, PageItems } from 'tonva-react';\r\nimport { VSearchHeader } from './VSearchHeader';\r\nimport { VHome } from './VHome';\r\nimport { VScanCode } from './VScanCode';\r\nimport { CUqBase } from 'tapp';\r\n\r\nclass HomeSections extends PageItems<any> {\r\n\r\n    private sectionTuid: Tuid;\r\n\r\n    constructor(sectionTuid: Tuid) {\r\n        super();\r\n        this.firstSize = this.pageSize = 13;\r\n        this.sectionTuid = sectionTuid;\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: any, pageSize: number): Promise<{ [name: string]: any[] }> {\r\n        let ret = await this.sectionTuid.search(\"\", pageStart, pageSize);\r\n        return { $page: ret };\r\n    }\r\n    protected async load(param: any, pageStart: any, pageSize: number): Promise<any[]> {\r\n        if (pageStart === undefined) pageStart = 0;\r\n        let ret = await this.sectionTuid.search(\"\", pageStart, pageSize);\r\n        return ret;\r\n    }\r\n\r\n    protected setPageStart(item: any): any {\r\n        if (item === undefined) return 0;\r\n        return item.id;\r\n    }\r\n}\r\n\r\nexport class CHome extends CUqBase {\r\n\r\n    homeSections: HomeSections;\r\n    sectionTuid: Tuid;\r\n\r\n    banners: any[];\r\n    async internalStart(param: any) {\r\n\r\n        /*\r\n        let { cProductCategory } = this.cApp;\r\n        await cProductCategory.start();\r\n        this.openVPage(VHome);\r\n        */\r\n    }\r\n\r\n    openScanCode = () => {\r\n        this.openVPage(VScanCode)\r\n    }\r\n\r\n    renderSearchHeader = (size?: string) => {\r\n        return this.renderView(VSearchHeader, size);\r\n    }\r\n\r\n    renderCategoryRootList = () => {\r\n        let { cProductCategory } = this.cApp;\r\n        return cProductCategory.renderRootList();\r\n    }\r\n\r\n    getSlideShow = async () => {\r\n\t\tif (this.banners) return;\r\n\t\tlet list = await this.uqs.webBuilder.GetSlideShow.table({});\r\n\t\tthis.banners = list.map(v => ({ path: v.path, src: v.src }));\r\n\t\t/*\r\n        list.forEach(v => {\r\n            this.banners.push({ path: v.path, src: v.src });\r\n\t\t})\r\n\t\t*/\r\n    }\r\n\r\n    scanCodetoProductDetail = async (origin: any) => {\r\n        let { cProduct, currentSalesRegion } = this.cApp;\r\n        let productByOrigin = await this.uqs.product.GetProductByOrigin.obj({ origin, salesRegion: currentSalesRegion.id });\r\n        await cProduct.showProductDetail(productByOrigin.id, 'ScanCode');\r\n    }\r\n\r\n    tab = () => this.renderView(VHome);\r\n    tabContent() {return new VHome(this).content();}\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { View, nav } from 'tonva-react';\r\nimport { CCart } from './CCart';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport class VCartLabel extends View<CCart> {\r\n    render(): JSX.Element {\r\n\t\treturn React.createElement(observer(() => {\r\n\t\t\tlet { cApp } = this.controller;\r\n\t\t\tlet { cart } = cApp.store;\r\n\t\t\tlet count: any = cart.count;\r\n\t\t\tlet badge, onClick, pointer;\r\n\t\t\tif (count > 0) {\r\n\t\t\t\tonClick = this.controller.showCart;\r\n\t\t\t\tpointer = 'cursor-pointer';\r\n\t\t\t\tif (count < 100) badge = <u style={{right:0}}>{count}</u>;\r\n\t\t\t\telse badge = <u style={{right:0}}>99+</u>;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn <div className={classNames('jk-cart ', pointer)} onClick={onClick}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span className=\"fa-stack w-auto h-auto\">\r\n\t\t\t\t\t\t<i className=\"fa fa-square fa-stack-2x text-white d-none\"></i>\r\n\t\t\t\t\t\t<span className=\"shopping-cart\"></span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{badge}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t}));\r\n\t}\r\n}","import * as React from 'react';\r\nimport { View, FA } from 'tonva-react';\r\nimport { CCart } from './CCart';\r\n\r\nexport class VCartLabelWeb extends View<CCart> {\r\n\r\n    render() {\r\n        let { cApp } = this.controller;\r\n\t\tlet { cart } = cApp.store;\r\n        if (!cart) return null;\r\n        let count = cart.count;\r\n        let vCount: any;\r\n        if (count) vCount = <u className=\"position-absolute d-flex align-items-center justify-content-center text-white text-right text-decoration-none ml-2\"\r\n            style={{ top: \"0.2rem\", fontSize: \"0.6rem\", backgroundColor: \"red\", minWidth: \"1rem\", padding: \"0 3px\", height: \"1.0rem\", borderRadius: '0.6rem' }}>{count}</u>;\r\n        //if (!count) count = undefined;\r\n        return <a className=\"text-primary position-relative\" href=\"/cart\">\r\n            <span className=\"text-primary small\">\r\n                <FA name=\"shopping-cart\" />\r\n            </span>\r\n            {vCount}\r\n        </a>\r\n    }\r\n}","import * as React from 'react';\r\nimport classNames from 'classnames';\r\n//import { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { UpdownWidget } from 'tonva-react';\r\n//import { Context, ItemSchema, UpdownWidget, FieldProps } from 'tonva-react';\r\n\r\nconst keys = [107, 109, 110, 187, 189];\r\n\r\nexport class MinusPlusWidget extends UpdownWidget {\r\n    // @observable protected value: any;\r\n    // @observable protected disabled: boolean;\r\n    // @observable protected hasFocus: boolean;\r\n\r\n    protected isValidKey(key: number): boolean {\r\n        if (keys.find(v => v === key) !== undefined) return false;\r\n        return super.isValidKey(key);\r\n    }\r\n\r\n\t/*\r\n    protected onBlur = (evt: React.FocusEvent<any>) => {\r\n        super.onBlur(evt);\r\n        this.hasFocus = false;\r\n    }\r\n\r\n    protected onFocus(evt: React.FocusEvent<any>) {\r\n        super.onFocus(evt);\r\n        this.hasFocus = true;\r\n\t}\r\n\t*/\r\n\r\n    protected onChange(evt: React.ChangeEvent<any>) {\r\n    }\r\n\r\n    private minusClick = () => {\r\n        let v = this.getValue();\r\n        if (!v) v = 0;\r\n        this.setValue(v - 1);\r\n    }\r\n    private plusClick = () => {\r\n        let v = this.getValue();\r\n        if (!v) v = 0;\r\n        this.setValue(v + 1);\r\n    }\r\n\r\n    private ref = (input: HTMLInputElement) => {\r\n        this.input = input;\r\n        if (this.input === null) return;\r\n        let p: HTMLElement;\r\n        for (p = this.input; ; p = p.parentElement) {\r\n            if (!p) break;\r\n            if (p.tagName !== 'FIELDSET') continue;\r\n            if ((p as any)['disabled'] === true) {\r\n                this.disabled = true;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private renderContent = observer((): JSX.Element => {\r\n        let renderTemplet = this.renderTemplet();\r\n        if (renderTemplet !== undefined) return renderTemplet;\r\n        let cn: any = {\r\n            //'form-control': true,\r\n        };\r\n        if (this.hasError === true) {\r\n            cn['is-invalid'] = true;\r\n        }\r\n        else {\r\n            cn['required-item'] = this.itemSchema.required === true;\r\n        }\r\n        let hasFocus = this.hasFocus; // document.hasFocus() && document.activeElement === this.input;\r\n        let hasAction = this.readOnly !== true && this.disabled !== true;\r\n        let hasValue = isNaN(this.value) === false && this.value !== undefined && this.value > 0;\r\n        let cursorPointer: string,\r\n            minusColor: string, minusClick: any,\r\n            plusColor: string, plusClick: any;\r\n        if (this.disabled === true) {\r\n            cursorPointer = 'cursor-pointer';\r\n            minusColor = plusColor = 'text-light';\r\n        }\r\n        else {\r\n            minusClick = this.minusClick;\r\n            plusClick = this.plusClick;\r\n            // minusColor = 'text-danger-2'; //'text-black-50';\r\n            // plusColor = 'text-danger';\r\n            minusColor = 'text-info';\r\n            plusColor = 'text-info';\r\n        }\r\n        let minus = <i className={classNames('fa',\r\n            'fa-minus-square', 'fa-lg', minusColor, cursorPointer,\r\n            { invisible: !(hasFocus === true || (hasAction === true && hasValue === true)) })}\r\n            onClick={minusClick} />;/* fa-minus-circle */\r\n        let input = <input ref={this.ref}\r\n            className={classNames(this.className, cn, 'mx-1 w-4c form-control',\r\n                { invisible: !(hasFocus === true || hasValue === true) })}\r\n            type=\"text\"\r\n            defaultValue={this.value}\r\n            onChange={this.onChange}\r\n            // placeholder={this.placeholder}\r\n            readOnly={this.readOnly}\r\n            disabled={this.disabled}\r\n            onKeyDown={this.onKeyDown}\r\n            onFocus={(evt: React.FocusEvent<any>) => this.onFocus(evt)}\r\n            onBlur={(evt: React.FocusEvent<any>) => this.onBlur(evt)}\r\n            maxLength={10} />;\r\n\r\n        let plus = <i className={classNames('fa fa-plus-square fa-lg',\r\n            plusColor, cursorPointer,\r\n            { invisible: !(hasAction === true) })}\r\n            onClick={plusClick} />;\r\n        return <div className=\"d-flex align-items-center\">{minus}{input}{plus}\r\n            {this.renderErrors()}\r\n        </div>;\r\n    });\r\n\r\n    render() {\r\n        return <this.renderContent />;\r\n    }\r\n}\r\n\r\nexport class MinusPlusWidgetTable extends UpdownWidget {\r\n    // @observable protected value: any;\r\n    // @observable protected disabled: boolean;\r\n    // @observable protected hasFocus: boolean;\r\n\r\n    protected isValidKey(key: number): boolean {\r\n        if (keys.find(v => v === key) !== undefined) return false;\r\n        return super.isValidKey(key);\r\n    }\r\n\r\n    protected onChange(evt: React.ChangeEvent<any>) {\r\n    }\r\n\r\n    private minusClick = () => {\r\n        let v = this.getValue();\r\n        if (!v) v = 0;\r\n        this.setValue(v - 1);\r\n    }\r\n    private plusClick = () => {\r\n        let v = this.getValue();\r\n        if (!v) v = 0;\r\n        this.setValue(v + 1);\r\n    }\r\n\r\n    private ref = (input: HTMLInputElement) => {\r\n        this.input = input;\r\n        if (this.input === null) return;\r\n        let p: HTMLElement;\r\n        for (p = this.input; ; p = p.parentElement) {\r\n            if (!p) break;\r\n            if (p.tagName !== 'FIELDSET') continue;\r\n            if ((p as any)['disabled'] === true) {\r\n                this.disabled = true;\r\n            }\r\n            break;\r\n        }\r\n    }\r\n\r\n    private renderContent = observer((): JSX.Element => {\r\n        let renderTemplet = this.renderTemplet();\r\n        if (renderTemplet !== undefined) return renderTemplet;\r\n        let cn: any = {\r\n            //'form-control': true,\r\n        };\r\n        if (this.hasError === true) {\r\n            cn['is-invalid'] = true;\r\n        }\r\n        else {\r\n            cn['required-item'] = this.itemSchema.required === true;\r\n        }\r\n        let hasFocus = this.hasFocus; // document.hasFocus() && document.activeElement === this.input;\r\n        let hasAction = this.readOnly !== true && this.disabled !== true;\r\n        let hasValue = isNaN(this.value) === false && this.value !== undefined && this.value > 0;\r\n        let cursorPointer: string,\r\n            minusColor: string, minusClick: any,\r\n            plusColor: string, plusClick: any;\r\n        if (this.disabled === true) {\r\n            cursorPointer = 'cursor-pointer';\r\n            minusColor = plusColor = 'text-light';\r\n        }\r\n        else {\r\n            minusClick = this.minusClick;\r\n            plusClick = this.plusClick;\r\n            minusColor = 'text-info'; //'text-black-50';\r\n            plusColor = 'text-info';\r\n        }\r\n        let minus = <i className={classNames('fa',\r\n            'fa-minus-square', 'fa-lg', minusColor, cursorPointer,\r\n            { invisible: !(hasFocus === true || (hasAction === true && hasValue === true)) })}\r\n            onClick={minusClick} />;\r\n        let input = <input ref={this.ref}\r\n            className={classNames(this.className, cn, 'mx-1 w-4c form-control',\r\n                { invisible: !(hasFocus === true || hasValue === true) })}\r\n            type=\"text\"\r\n            defaultValue={this.value}\r\n            onChange={this.onChange}\r\n            // placeholder={this.placeholder}\r\n            readOnly={this.readOnly}\r\n            disabled={this.disabled}\r\n            onKeyDown={this.onKeyDown}\r\n            onFocus={(evt: React.FocusEvent<any>) => this.onFocus(evt)}\r\n            onBlur={(evt: React.FocusEvent<any>) => this.onBlur(evt)}\r\n            maxLength={10} />;\r\n\r\n        let plus = <i className={classNames('fa fa-plus-square fa-lg',\r\n            plusColor, cursorPointer,\r\n            { invisible: !(hasAction === true) })}\r\n            onClick={plusClick} />;\r\n        return <div className=\"d-flex align-items-center\">{minus}{input}{plus}\r\n            {this.renderErrors()}\r\n        </div>;\r\n    });\r\n\r\n    render() {\r\n        return <this.renderContent />;\r\n    }\r\n}\r\n","import { PageItems } from 'tonva-react';\r\n\r\nexport class ElasticSearchPager<T extends any> extends PageItems<T>{\r\n\r\n    private searchUrl: string;\r\n    private urlGen: UrlGen;\r\n    protected idFieldName: any;\r\n    private pageNumber: number;\r\n    constructor(searchUrl: string, urlGen: UrlGen, pageSize?: number, firstSize?: number, itemObservable?: boolean) {\r\n        super(itemObservable);\r\n        this.searchUrl = searchUrl;\r\n        if (pageSize !== undefined) this.pageSize = pageSize;\r\n        if (firstSize !== undefined) this.firstSize = firstSize;\r\n        this.pageNumber = 1;\r\n        this.urlGen = urlGen;\r\n    }\r\n\r\n    setReverse() {\r\n        this.appendPosition = 'head';\r\n    }\r\n\r\n    protected async onLoad() {\r\n        if (this.idFieldName) return;\r\n        this.sortOrder = 'asc';\r\n    }\r\n\r\n    protected async loadResults(param: any, pageStart: number, pageSize: number): Promise<{ [name: string]: any[] }> {\r\n\r\n        let { keyWord, salesregion } = param;\r\n        /*\r\n        let url = this.searchUrl + '/' + keyWord;\r\n        if (this.pageNumber > 1) {\r\n            url += \"&pageNumber=\" + this.pageNumber;\r\n            url += \"/\" + this.pageNumber;\r\n        }\r\n        */\r\n        let url = this.searchUrl + this.urlGen.generateUrl(keyWord, this.pageNumber);\r\n        try {\r\n            let resp = await fetch(url, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            });\r\n            let ret = await resp.json();\r\n            let items = ret.hits;\r\n            // 做数据变换，返回items\r\n            return { $page: items };\r\n        } catch (error) {\r\n            return { $page: [] };\r\n        }\r\n    }\r\n\r\n    protected async onLoaded(): Promise<void> {\r\n        this.pageNumber += 1;\r\n    }\r\n}\r\n\r\n\r\nexport abstract class UrlGen {\r\n    abstract generateUrl(keyWord: string, pageNumber: number): string;\r\n}\r\n\r\nexport class productUrlGen extends UrlGen {\r\n\r\n    generateUrl(keyWord: string, pageNumber: number): string {\r\n        let url = '?key=' + keyWord;\r\n        if (pageNumber > 1) {\r\n            url += \"&pageNumber=\" + pageNumber;\r\n        }\r\n        return url;\r\n    }\r\n}\r\n\r\nexport class productCatalogUrlGen extends UrlGen {\r\n\r\n    generateUrl(keyWord: string, pageNumber: number): string {\r\n        let url = '/' + keyWord;\r\n        if (pageNumber > 1) {\r\n            url += \"/\" + pageNumber;\r\n        }\r\n        return url;\r\n    }\r\n}\r\n\r\nexport class productStandardUrlGen extends UrlGen {\r\n\r\n    generateUrl(keyWord: string, pageNumber: number): string {\r\n        let url = '/' + keyWord;\r\n        if (pageNumber > 1) {\r\n            url += \"/\" + pageNumber;\r\n        }\r\n        return url;\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Form, ObjectSchema, NumSchema, ArrSchema, UiSchema, UiArr, FormField, UiCustom, FA, tv, Ax } from 'tonva-react';\r\nimport { MinusPlusWidget } from '../tools';\r\nimport { CCart } from './CCart';\r\nimport { CartPackRow, CartItem } from '../store';\r\nimport { xs } from 'tools/browser';\r\nimport { makeObservable, observable } from 'mobx';\r\n\r\nconst cartSchema = [\r\n    {\r\n        name: 'list',\r\n        type: 'arr',\r\n        arr: [\r\n            { name: 'checked', type: 'boolean' },\r\n            { name: 'product', type: 'object' } as ObjectSchema,\r\n            {\r\n                name: 'packs', type: 'arr', arr: [\r\n                    { name: 'pack', type: 'object' } as ObjectSchema,\r\n                    { name: 'price', type: 'number' } as NumSchema,\r\n                    { name: 'retail', type: 'number' } as NumSchema,\r\n                    { name: 'quantity', type: 'number' } as NumSchema,\r\n                    { name: 'currency', type: 'object' } as ObjectSchema\r\n                ]\r\n            }\r\n        ],\r\n    } as ArrSchema\r\n];\r\n\r\nexport class VCart extends VPage<CCart> {\r\n    punchOutXML: any;\r\n    punchOutUrl: boolean = false;\r\n    /*\r\n    async open() {\r\n        this.openPage(this.page);\r\n    }\r\n    */\r\n    \r\n    constructor(c: CCart) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            punchOutXML: observable,\r\n            punchOutUrl: observable,\r\n        });\r\n    }\r\n\r\n    /* init(param?: any) {\r\n        this.punchOutXML = undefined;\r\n    } */\r\n\r\n    punchOutSubmit = async ()=>{\r\n        this.punchOutXML = await this.controller.generatePunchOutXML();\r\n        if (!this.punchOutXML?.cxmlBase64) { this.punchOutUrl = false; return false; };\r\n        this.punchOutUrl = true;\r\n        return true;\r\n    }\r\n\r\n    protected CheckOutButton = observer(() => {\r\n        let { checkOut, strikeOut, cApp, cartBtnMatch } = this.controller;\r\n\t\tlet { cart } = cApp.store;\r\n        let amount = cart.amount;\r\n        let check = cartBtnMatch.getCartButtonTip();\r\n        let content = amount > 0 ?\r\n            <>{check} (¥{amount})</> :\r\n            <>{check}</>;\r\n        if (check === \"punchOut\")\r\n            return <form action={this.punchOutXML?.url || \"*\"}\r\n                onSubmit={() => { this.punchOutSubmit(); if (this.punchOutUrl) cartBtnMatch.CartButtonClick(); return this.punchOutUrl; }}\r\n                encType=\"application/x-www-form-urlencoded\" method=\"post\">\r\n                <input name=\"cxml-base64\" defaultValue={this.punchOutXML?.cxmlBase64 || \"\"} style={{ visibility: \"hidden\", position: \"absolute\" }} type=\"text\" />\r\n                {this.punchOutXML?.message && <div className=\"text-center text-danger py-2\" >{this.punchOutXML?.message}</div>}\r\n                <div className=\"d-flex justify-content-center\">\r\n                    <button className=\"btn btn-success mx-5\" style={{ background: '#28a745' }} onClick={() => {\r\n                        document.addEventListener('submit', (e) => { if (!this.punchOutUrl) e.preventDefault(); });\r\n                    }}\r\n                        type=\"submit\" disabled={amount <= 0 /* || !this.punchOutXML?.cxmlBase64 */}>\r\n                        {content}\r\n                    </button>\r\n                </div>\r\n            </form>;\r\n        return <div className=\"d-flex justify-content-center\">\r\n            <button className=\"btn btn-success mx-5\" style={{ background: '#28a745' }} type=\"button\"\r\n                onClick={cartBtnMatch.CartButtonClick} disabled={amount <= 0}>\r\n                {content}\r\n            </button>\r\n        </div>;\r\n    });\r\n\r\n    render(params: any): JSX.Element {\r\n        return <this.tab />;\r\n    }\r\n\r\n    private renderCartItem = (item: CartItem) => {\r\n        let { product } = item;\r\n        let { controller } = this;\r\n        let { onItemClick, renderCartProduct } = controller;\r\n        return <div className=\"row justify-content-between\">\r\n            <div className=\"col-lg-5 px-0\" >{/* onClick={() => onItemClick(item)} */}\r\n                <Ax href={'/product/' + product.id}>\r\n                    {renderCartProduct(product)}\r\n                </Ax>\r\n            </div>\r\n            <div className=\"col-lg-6 px-0 mt-2\"><FormField name=\"packs\" /></div>\r\n        </div>\r\n    }\r\n\r\n    private packsRow = (item: CartPackRow) => {\r\n        let { pack, price } = item;\r\n        return <>\r\n            <div className=\"px-2 d-flex align-items-center\">\r\n                <div className=\"col-4 px-0\"><b>{tv(pack)}</b></div>\r\n                <div className=\"col-4 px-0\"><span className=\"text-danger h5\">¥{price}</span></div>\r\n                <div className=\"col-4 px-0\"><FormField name=\"quantity\" /></div>\r\n            </div>\r\n            {/* <div>{this.controller.renderDeliveryTime(pack)}</div> */}\r\n        </>\r\n        /* return <div className=\"px-2\">\r\n            <div className=\"d-flex align-items-center\">\r\n                <div className=\"flex-grow-1\"><b>{tv(pack)}</b></div>\r\n                <div className=\"w-6c mr-4 text-right\"><span className=\"text-danger h5\">¥{price}</span></div>\r\n                <FormField name=\"quantity\" />\r\n            </div>\r\n            <div>{this.controller.renderDeliveryTime(pack)}</div>\r\n        </div>; */\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        selectable: true,\r\n        deletable: true,\r\n        restorable: false,\r\n        items: {\r\n            list: {\r\n                widget: 'arr',\r\n                Templet: this.renderCartItem,\r\n                ArrContainer: (label: any, content: JSX.Element) => content,\r\n                RowContainer: (content: JSX.Element) => <div className=\"py-3\">{content}</div>,\r\n                items: {\r\n                    packs: {\r\n                        widget: 'arr',\r\n                        Templet: this.packsRow,\r\n                        selectable: false,\r\n                        deletable: false,\r\n                        ArrContainer: (label: any, content: JSX.Element) => content,\r\n                        RowContainer: (content: JSX.Element) => content,\r\n                        RowSeperator: <div className=\"border border-gray border-top my-3\" />,\r\n                        items: {\r\n                            quantity: {\r\n                                widget: 'custom',\r\n                                className: 'text-center',\r\n                                WidgetClass: MinusPlusWidget as any,\r\n                                onChanged: this.controller.onQuantityChanged\r\n                            } as UiCustom\r\n                        },\r\n                    } as UiArr\r\n                },\r\n                onDeleted: this.controller.onRemoveCartItem,\r\n            } as UiArr\r\n        }\r\n    }\r\n\r\n    protected cartForm = observer(() => {\r\n        let { cApp } = this.controller;\r\n\t\tlet { cart } = cApp.store;\r\n        let { cartItems } = cart;\r\n        let data = { list: cartItems };\r\n        return <>\r\n            {!xs ? <div className=\"col-lg-12 px-3\"><h1 className=\"mt-4 mb-3\">购物车</h1></div> : null}\r\n            <div className=\"d-none d-lg-block\">\r\n                <div className=\"w-100 border-bottom \">\r\n                    <div className=\"col-lg-6 d-flex ml-auto mr-0 mb-2 px-2 font-weight-bolder h6\">\r\n                        <div className=\"col-4\">包装</div>\r\n                        <div className=\"col-4\">单价</div>\r\n                        <div className=\"col-4 text-left pl-0\" style={{ textIndent: '2em' }}>数量</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Form className=\"bg-white flex-fill overflow-auto reset-z-fieldset\"\r\n                schema={cartSchema} uiSchema={this.uiSchema} formData={data} />\r\n        </>\r\n    });\r\n\r\n    private empty() {\r\n        return <div className=\"mt-1 py-5 text-center bg-white\">你的购物车空空如也</div>\r\n    }\r\n\r\n    /**\r\n     * 是否编辑\r\n     */\r\n    private whetherToEdit = () => {\r\n        // let { cart } = this.controller.cApp;\r\n        // cart.editButton.set(!cart.editButton.get());\r\n    }\r\n\r\n    /*\r\n    private page = observer((params: any): JSX.Element => {\r\n        let { cart } = this.controller.cApp;\r\n        let footer: any, content: any;\r\n        let cancel = cart.editButton.get() ? '取消' : '编辑';\r\n        let right = <small className=\"mr-3\" onClick={this.whetherToEdit}>{cancel}</small>\r\n        if (cart.count.get() === 0 && cart.cartItems.length === 0) {\r\n            content = this.empty();\r\n            footer = undefined;\r\n        }\r\n        else {\r\n            content = React.createElement(this.cartForm);\r\n            footer = React.createElement(this.CheckOutButton);\r\n        }\r\n        // return <Page header=\"购物车\" right={right} footer={footer}>\r\n        //     {content}\r\n        // </Page>;\r\n        return <Page header=\"购物车\" footer={footer}>\r\n            {content}\r\n        </Page>;\r\n    })\r\n    */\r\n\r\n    // header() {return <div className=\"navheader\">购物车</div>}\r\n    header() {\r\n        if (!xs) return null;\r\n        return <div className=\"navheader\">购物车</div>;\r\n    }\r\n    footer() {\r\n        return  React.createElement(observer(() => {\r\n            let { cApp, cartBtnMatch } = this.controller;\r\n\t\t\tlet { cart } = cApp.store;\r\n            let footer: any;\r\n            if (cart.count === 0 && cart.cartItems && cart.cartItems.length === 0 && cartBtnMatch.displayBtn) {\r\n                footer = null;\r\n            }\r\n            else {\r\n                footer = React.createElement(this.CheckOutButton);\r\n            }\r\n            return footer;\r\n        }));\r\n    }\r\n\r\n    content() {\r\n        return  React.createElement(observer(() => {\r\n            let { cApp } = this.controller;\r\n\t\t\tlet { cart } = cApp.store;\r\n            let content: any;\r\n            if (cart.count === 0 && cart.cartItems && cart.cartItems.length === 0) {\r\n                content = this.empty();\r\n            }\r\n            else {\r\n                content = React.createElement(this.cartForm);\r\n            }\r\n            return <>\r\n                {content}\r\n                {this.renderQuickOrder()}\r\n            </>;\r\n        }));\r\n    }\r\n\r\n    private tab = observer(() => {\r\n        let { cApp } = this.controller;\r\n\t\tlet { cart } = cApp.store;\r\n        let header = <header className=\"py-2 text-center bg-info text-white\">\r\n            <FA className=\"align-middle\" name=\"shopping-cart\" size=\"2x\" /> &nbsp; <span className=\"h5 align-middle\">购物车</span>\r\n        </header>;\r\n        if (cart.count === 0 && cart.cartItems.length === 0) {\r\n            return <>\r\n                {header}\r\n                {this.empty()}\r\n            </>;\r\n        }\r\n\r\n        let content = React.createElement(this.cartForm);\r\n        let footer = React.createElement(this.CheckOutButton);\r\n        return <>\r\n            {content}\r\n            {footer}\r\n        </>;\r\n    });\r\n\r\n    renderQuickOrder = () => {\r\n        let { cQuickOrder } = this.controller.cApp;\r\n        return <div className=\"row mx-0 px-2 my-2\">\r\n                <div className=\"border rounded col-12 col-lg-6 p-2\" style={{ background: \"#f5f5f5\" }}>\r\n                <div className=\"font-weight-bolder\">批量订购</div>\r\n                <div className=\"small\">按产品编号订购或上传您自己的产品列表，以快速将多个产品添加到购物车。</div>\r\n                <Ax className=\"text-primary small ml-1\" onClick={() => { cQuickOrder.openQuickOrder() }} href=\"/quickOrder\">批量订购 &gt;&gt; </Ax>\r\n            </div>\r\n        </div>\r\n    };\r\n\r\n    /*\r\n    header() {\r\n        let { cart } = this.controller.cApp;\r\n        let cancel = cart.editButton.get() ? '取消' : '编辑';\r\n        let header = <header className=\"py-2 text-center bg-info text-white position-relative\">\r\n            <FA className=\"mr-3\" name=\"shopping-cart\" size=\"lg\" />\r\n            <span>购物车</span>\r\n        </header>;\r\n        return header;\r\n    }\r\n    */\r\n    /*\r\n    footer() {\r\n        return <div className=\"p-3 d-flex justify-content-center\"><this.CheckOutButton /></div>;\r\n    }\r\n    */\r\n    /*\r\n    content() {\r\n        return <this.tab />\r\n    }\r\n    */\r\n}","import { observable, makeObservable } from 'mobx';\r\nimport { RowContext, BoxId, nav } from 'tonva-react';\r\nimport { VCartLabel } from './VCartLabel';\r\nimport { VCartLabelWeb } from './VCartLabelWeb';\r\nimport { VCart } from './VCart';\r\nimport { Product, CartPackRow, CartItem } from '../store';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { GLOABLE } from '../global';\r\n\r\nexport class CCart extends CUqBase {\r\n\t//cart: Cart;\r\n    editButton: boolean = false; // = observable.box<boolean>(false);\r\n    cartBtnMatch: CartBtnMatch = new CartBtnMatch(this.cApp);\r\n    private selectedCartItems: CartItem[];\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            editButton: observable,\r\n            cartBtnMatch: observable\r\n        });\r\n    }\r\n\r\n    protected async internalStart(param: any) {\r\n        this.cartBtnMatch = new CartBtnMatch(this.cApp);\r\n        this.openVPage(VCart);\r\n    }\r\n\r\n\tshowCart = async () => {\r\n\t\tthis.editButton = false;\r\n        nav.navigate(\"/cart\");\r\n    }\r\n\r\n    generatePunchOutXML = async () => {\r\n        let { currentUser } = this.cApp;\r\n        let punchOutXML: any;\r\n        try {\r\n            if (currentUser && currentUser.thirdPartyOrg) {\r\n                if (currentUser.thirdPartyOrg === \"3\") {\r\n                    let webuserId = currentUser.id;\r\n                    let result = await fetch(GLOABLE.PUNCHOUT.PUNCHOUTXML + \"?webuser=\" + webuserId, {\r\n                        method: \"post\",\r\n                        headers: { \"Content-Type\":\"application/json\" }\r\n                    });\r\n                    let content: any = await result.json();\r\n                    if (result.ok) {\r\n                        // let content: any = await result.json();\r\n                        punchOutXML = {\r\n                            url: content?.url,\r\n                            cxmlBase64: content[\"cxml-base64\"]\r\n                        };\r\n                    } else {\r\n                        punchOutXML = content;\r\n                    }\r\n                };\r\n            };\r\n            return punchOutXML;\r\n        } catch (error) {\r\n            return undefined;\r\n        };\r\n    }\r\n\r\n\t//get count(): number {return this.cart?.count.get();}\r\n\r\n\t/*\r\n\tgetQuantity(productId: number, packId: number): number {\r\n\t\treturn this.cApp.store.cart.getQuantity(productId, packId);\r\n\t}\r\n\t*/\r\n\t/*\r\n\tasync add(product: Product, pack: BoxId, quantity: number, price: number, retail: number, currency: any) {\r\n\t\tawait this.cApp.store.cart.add(product, pack, quantity, price, retail, currency);\r\n\t}\r\n\r\n\tasync removeItem(rows: [{ productId: number, packId: number }]) {\r\n\t\tawait this.cApp.store.cart.removeItem(rows);\r\n\t}\r\n\t*/\r\n\t/*\r\n\tasync againOrderCart(data: CartItem[]) {\r\n\t\tawait this.cApp.store.cart.againOrderCart(data);\r\n\t}\r\n\t*/\r\n\r\n    /**\r\n     *\r\n     * 显示购物车图标\r\n     */\r\n    renderCartLabel() {\r\n        return this.renderView(VCartLabel);\r\n    }\r\n\r\n    renderCartLabel_web() {\r\n        return this.renderView(VCartLabelWeb);\r\n    }\r\n\r\n    /**\r\n     * 修改购物车中产品数量 \r\n     * @param context \r\n     * @param value \r\n     * @param prev \r\n     */\r\n    onQuantityChanged = async (context: RowContext, value: any, prev: any) => {\r\n        let { data, parentData } = context;\r\n        let { product } = parentData;\r\n        let { pack, price, retail, currency } = data as CartPackRow;\r\n        let { cart } = this.cApp.store;\r\n\t\tawait cart.changeQuantity(product, pack, value, price, retail, currency);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param row \r\n     */\r\n    onRemoveCartItem = (row: any) => {\r\n        let { product, packs } = row;\r\n        //let { cart } = this.cApp;\r\n        let packsToDeleted: any = [];\r\n        packs.forEach((each: any) => {\r\n            packsToDeleted.push({ productId: product.id, packId: each.pack.id });\r\n        });\r\n        this.cApp.store.cart.removeItem(packsToDeleted);\r\n    }\r\n\r\n    onRowStateChanged = async (context: RowContext, selected: boolean, deleted: boolean) => {\r\n        alert('onRowStateChanged')\r\n    }\r\n\r\n    /*\r\n    private loginCallback = async (user: User): Promise<void> => {\r\n        let { cApp } = this;\r\n        await cApp.currentUser.setUser(user);\r\n        await cApp.loginCallBack(user);\r\n        this.closePage(1);\r\n        await this.doFirstOrderChecking();\r\n    };\r\n    */\r\n\r\n    onItemClick = (cartItem: CartItem) => {\r\n        let { store, cProduct } = this.cApp;\r\n        let { product } = cartItem;\r\n        if (!store.cart.isDeleted(product.id)) {\r\n            cProduct.showProductDetail(product.id);\r\n        }\r\n    }\r\n    /**\r\n     * 商品从购物车永久性删除\r\n     */\r\n    strikeOut = async () => {\r\n        let { cart } = this.cApp.store;\r\n        this.selectedCartItems = cart.getSelectedItems();\r\n        await cart.removeStrike(this.selectedCartItems)\r\n\r\n\r\n        // let combinedData = this.selectedCartItems.map((el: CartItem2) => {\r\n        //     return el.packs.map((v: any) => {\r\n        //         return {\r\n        //             productId: el.product, packId: v.pack\r\n        //         }\r\n        //     })\r\n        // }).flat();\r\n        // combinedData.forEach(async (el: any) => {\r\n        //     await cart.removeFromCart(el);\r\n        // })\r\n    }\r\n\r\n    punchOut = async () => {\r\n        /* 清除购物车 */\r\n        let param: [{ productId: number, packId: number }] = [] as any;\r\n        this.cApp.store.cart.cartItems.forEach((e: any) => {\r\n            e.packs.forEach((v: any) => {\r\n                param.push({ productId: e.product.id, packId: v.pack.id });\r\n            });\r\n        });\r\n        await this.cApp.store.cart.removeItem(param);\r\n        return true;\r\n    }\r\n\r\n    checkOut = async () => {\r\n        let { cart } = this.cApp.store;\r\n        this.selectedCartItems = cart.getSelectedItems();\r\n        if (this.selectedCartItems === undefined) return;\r\n        /*\r\n        if (!this.isLogined) {\r\n            nav.showLogin(this.loginCallback, true);\r\n        } else {\r\n            await this.doFirstOrderChecking();\r\n        }\r\n        */\r\n        await this.cApp.assureLogin();\r\n        await this.doFirstOrderChecking();\r\n    }\r\n\r\n    private doFirstOrderChecking = async () => {\r\n        let { cMe, currentUser } = this.cApp;\r\n        if (!currentUser || !currentUser.allowOrdering) {\r\n            cMe.toPersonalAccountInfo(this.doCheckOut);\r\n            // cMe.openMeInfoFirstOrder({\r\n            //     onlyRequired: false,\r\n            //     caption: \"请补充账户信息\",\r\n            //     note: <>\r\n            //         化学品是受国家安全法规限制的特殊商品，百灵威提供技术咨询、资料以及化学产品的对象必须是具有化学管理和应用能力的专业单位（非个人）。\r\n            //     为此，需要您重新提供非虚拟的、可核查的信息。这些信息包括下面所有带有 <span className=\"text-danger\">*</span> 的信息。\r\n            //     </>,\r\n            //     actionButton: {\r\n            //         value: \"下一步\",\r\n            //         action: this.doCheckOut\r\n            //     }\r\n            // });\r\n        } else {\r\n            await this.doCheckOut();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 导航到CheckOut界面\r\n     */\r\n    doCheckOut = async () => {\r\n\r\n        let { cOrder } = this.cApp;\r\n        let { selectedCartItems } = this;\r\n        if (selectedCartItems === undefined) return;\r\n        await cOrder.createOrderFromCart(selectedCartItems);\r\n        // await cOrder.start(this.selectedCartItems);\r\n    }\r\n\r\n    //tab = () => this.renderView(VCart);\r\n\r\n    renderDeliveryTime = (pack: BoxId) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderDeliveryTime(pack);\r\n    }\r\n\r\n    renderCartProduct = (product: Product) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderCartProduct(product);\r\n    }\r\n\r\n    // tabPage: VCart = new VCart(this);\r\n    tabPage = () => this.renderView(VCart);\r\n}\r\n\r\nexport class CartBtnMatch {\r\n    private cApp: CApp;\r\n    private organization: any;\r\n\r\n    constructor(res: any) {\r\n        this.cApp = res;\r\n        this.organization = this.cApp.currentUser?.thirdPartyOrg;\r\n    }\r\n\r\n    get displayBtn(): boolean {\r\n        return this.organization && ![\"3\"].includes(this.organization);\r\n    }\r\n\r\n    getCartButtonTip = () => {\r\n        switch (this.organization) {\r\n            case \"3\":\r\n                return \"punchOut\";\r\n            default:\r\n                return \"去结算\";\r\n        };\r\n    }\r\n\r\n    CartButtonClick = async () => {\r\n        let { cCart } = this.cApp;\r\n        switch (this.organization) {\r\n            case \"3\":\r\n                await cCart.punchOut();\r\n                break;\r\n            default:\r\n                await cCart.checkOut();\r\n                break;\r\n        };\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { Image } from 'tonva-react';\r\n\r\nconst imagePath = \"https://static.jkchemical.com/Structure/\";\r\nconst pointProductImagePath = \"https://static.jkchemical.com/images/pointshop\";\r\nconst altimagePath = \"https://static.jkchemical.com/Structure/999.png\";\r\n\r\ninterface ProductImageProps {\r\n    className?: string;\r\n    style?: React.CSSProperties;\r\n    chemicalId: string;\r\n}\r\n\r\nexport function ProductImage(props: ProductImageProps) {\r\n\r\n    let { style, className, chemicalId } = props;\r\n    let t = new Date().getTime();\r\n    return <Image src={chemicalId && (imagePath + chemicalId.substr(0, 3) + '/' + chemicalId + '.png'+ \"?t=\" + t)}\r\n        style={style} className={className} altImage={altimagePath} />;\r\n}\r\n\r\n// export function PointProductImage(props: ProductImageProps) {\r\n\r\n//     let { style, className, chemicalId } = props;\r\n//     return <Image src={chemicalId && (pointProductImagePath + '/' + chemicalId + '.png')}\r\n//         style={style} className={className} altImage={altimagePath} />;\r\n// }\r\n\r\nexport function PointProductImage(props: ProductImageProps) {\r\n\r\n    let { style, className, chemicalId } = props;\r\n    if (chemicalId && /[0-9]$/.test(chemicalId))\r\n        chemicalId = pointProductImagePath + '/' + chemicalId + '.png';\r\n\r\n    return <Image src={chemicalId && chemicalId}\r\n        style={style} className={className} altImage={altimagePath} />;\r\n}","import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nexport function renderBrand(brand: any) {\r\n\tif (!brand) return;\r\n    return renderPropItem('品牌', brand.name);\r\n}\r\n\r\nexport function renderPropItem(caption: string, value: any, captionClass?: string) {\r\n    if (value === null || value === undefined || value === '0') return null;\r\n    let capClass = captionClass ? classNames(captionClass) : classNames(\"text-muted\");\r\n    let valClass = captionClass ? classNames(captionClass) : \"\";\r\n    return <>\r\n        <div className={classNames(\"col-6 col-sm-2 pr-0 small\", capClass)}> {caption}</div>\r\n        <div className={classNames(\"col-6 col-sm-4\", valClass)}>{value}</div>\r\n    </>;\r\n}\r\n\r\n/**\r\n * 产品未售提示UI\r\n */\r\nexport function renderUnsold(discountinued: number) {\r\n    if (discountinued && discountinued === 1)\r\n        return <div onClick={(e: any) => e.stopPropagation()} className='w-100 carousel-control-prev'><b className=\"alert-primary alert\">该产品已下架！</b></div>\r\n    else\r\n        return <></>\r\n}\r\n","import * as React from 'react';\r\nimport { View } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { observer } from 'mobx-react';\r\nimport { renderPropItem } from '../renders';\r\nimport { Product } from '../../store';\r\n\r\nexport class VChemicalInfoInCart extends View<CProduct> {\r\n    render(product: Product): JSX.Element {\r\n\t\treturn React.createElement(observer(() => {\r\n\t\t\tlet {chemical} = product;\r\n\t\t\tif (!chemical) return;\r\n\t\t\tlet { purity, CAS, molecularFomula, molecularWeight } = chemical;\r\n\t\t\treturn <>\r\n\t\t\t\t{renderPropItem('CAS', CAS)}\r\n\t\t\t\t{renderPropItem('纯度', purity)}\r\n\t\t\t\t{renderPropItem('分子式', molecularFomula)}\r\n\t\t\t\t{renderPropItem('分子量', molecularWeight)}\r\n\t\t\t</>\r\n\t\t}));\r\n    }\r\n\r\n\t/*\r\n    private content = observer((param: any) => {\r\n\r\n        let { productId } = param;\r\n        let { chemicalInfoContainer } = this.controller;\r\n        let chemicalInfo = chemicalInfoContainer[productId];\r\n        if (chemicalInfo !== undefined) {\r\n            let { chemical, purity, CAS, molecularFomula, molecularWeight } = chemicalInfo;\r\n            return <>\r\n                {productPropItem('CAS', CAS)}\r\n                {productPropItem('纯度', purity)}\r\n                {productPropItem('分子式', molecularFomula)}\r\n                {productPropItem('分子量', molecularWeight)}\r\n            </>\r\n        }\r\n        return <></>;\r\n\t})\r\n\t*/\r\n}\r\n","import * as React from 'react';\r\nimport { View, A } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { observer } from 'mobx-react';\r\nimport { Product } from '../../store';\r\n\r\nexport class VFavorite extends View<CProduct> {\r\n\t/*\r\n    @observable private isProductFarirates: boolean = false;\r\n    private favoriteOrCancel = async (product: number) => {\r\n        let { cApp } = this.controller;\r\n\t\tlet { cFavorites, cMe } = cApp;\r\n\t\tawait cApp.assureLogin();\r\n        //const { user } = nav;\r\n        //if (user !== undefined) {\r\n            if (this.isProductFarirates)\r\n                await cFavorites.delProductFavorites(product);\r\n            else\r\n                await cFavorites.addProductFavorites(product);\r\n            await this.initInventoryAllocation(product);\r\n        //} else {\r\n        //    cMe.showLogin();\r\n        //}\r\n    }\r\n\r\n    private isMyFarirates = async (id: number) => {\r\n        let { cFavorites } = this.controller.cApp;\r\n        // let customerFavoritesProducts = await cFavorites.getMyFavorites();\r\n        // return customerFavoritesProducts.some((el: any) => el.product.id === id);\r\n        return await cFavorites.getProductIsFavorites(id);\r\n    }\r\n\r\n    private initInventoryAllocation = async (id: number) => {\r\n        let { currentUser } = this.controller.cApp;\r\n        if (currentUser)\r\n            this.isProductFarirates = await this.isMyFarirates(id);\r\n    }\r\n\t*/\r\n    render(param: any): JSX.Element {\r\n        let { product, curPack, callback } = param;\r\n    \treturn React.createElement(observer(() => {\r\n            let { favorite, favoriteOrCancel } = product as Product;\r\n\t\t\t//let { currentUser } = this.controller.cApp;\r\n\t\t\t//if (currentUser)\r\n\t\t\t//    this.initInventoryAllocation(productId);\r\n\t\t\tlet icon = favorite === true ? \"heart\" : 'heart-o';\r\n\t\t\tlet onClick = async (evt: React.MouseEvent) => {\r\n\t\t\t\tevt.stopPropagation();\r\n\t\t\t\tawait this.controller.cApp.assureLogin();\r\n                favoriteOrCancel();\r\n                if (callback) callback();\r\n\t\t\t}\r\n            let imgSrc = favorite === true ? \"/images/icon/favorite-icon-choose.svg\" : \"/images/icon/favorite-icon.svg\";\r\n\t\t\treturn <div className=\"d-flex justify-content-end\">\r\n                <small onClick={onClick} style={{ zIndex: 9 }}>\r\n                    <img src={imgSrc} width=\"25px\" className=\"favorite\" />\r\n\t\t\t\t\t{/* <FA className=\"mr-3 text-danger\" name={icon} size=\"lg\" /> */}\r\n\t\t\t\t</small>\r\n\t\t\t</div>;\r\n\t\t}));\r\n\t}\r\n}\r\n","import * as React from 'react';\r\nimport { tv, View } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { observer } from 'mobx-react';\r\nimport className from 'classnames';\r\n\r\nexport class VDelivery extends View<CProduct> {\r\n\t/*\r\n    @observable private inventoryAllocation: any[];\r\n    @observable private futureDeliveryTimeDescription: string;\r\n\t*/\r\n    render(param: any): JSX.Element {\r\n        let { pack } = param;\r\n        let { id: packId, obj } = pack;\r\n        //let { obj: packObj } = param;\r\n\t\treturn React.createElement(observer(() => {\r\n\t\t\t//let { packId, productId } = param;\r\n            let { product, cApp } = this.controller;\r\n            product = cApp.getProduct(obj?.owner);\r\n            if (!product) return null;\r\n            let { futureDeliveryTimeDescription } = product;\r\n            let inventoryAllocation = product.getInventoryAllocation(packId);\r\n\t\t\t// if (!inventoryAllocation || !futureDeliveryTimeDescription) return null;\r\n\t\t\tif (!inventoryAllocation || inventoryAllocation.length === 0) {\r\n\t\t\t\tif (!futureDeliveryTimeDescription) return null;\r\n\t\t\t\treturn <div>{'期货: ' + futureDeliveryTimeDescription}</div>;\r\n\t\t\t}\r\n            let restrict = inventoryAllocation.some(v=> v?.quantity !== 0) ? 1:  0;\r\n\t\t\treturn <>{inventoryAllocation.map((v, index) => {\r\n\t\t\t\tlet { warehouse, quantity, deliveryTimeDescription } = v;\r\n\t\t\t\tif (quantity > 0) {\r\n                    restrict += 1;\r\n\t\t\t\t\treturn <div key={index} className={className(param?.defColor ? param?.defColor : \"text-success\" )}>\r\n\t\t\t\t\t\t{tv(warehouse, (values: any) => <span>{values?.name ? String(values.name).replace('库房','') : null}</span>)}: {(quantity > 10 ? '>10' : quantity)}{/* small */}\r\n\t\t\t\t\t\t{deliveryTimeDescription}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t} else {\r\n                    if (restrict === 0) {\r\n                        if (!futureDeliveryTimeDescription) return null;\r\n                        restrict += 1;\r\n\t\t\t\t        return <div key={index}>{'期货: ' + futureDeliveryTimeDescription}</div>;\r\n                    }\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t})}</>;\r\n\t\t}));\r\n    }\r\n\r\n\t/*\r\n    private initInventoryAllocation = async (productId: number, packId: number, salesRegionId: number) => {\r\n        if (this.inventoryAllocation === undefined)\r\n            this.inventoryAllocation = await this.controller.getInventoryAllocation(productId, packId, salesRegionId);\r\n    }\r\n\r\n    private initFutureDeliveryTimeDescription = async (productId: number, salesRegionId: number) => {\r\n        if (this.futureDeliveryTimeDescription === undefined)\r\n            this.futureDeliveryTimeDescription = await this.controller.getFutureDeliveryTimeDescription(productId, salesRegionId);\r\n\t}\r\n\r\n    private content = observer((param: any): any => {\r\n        let deliveryTimeUI;\r\n\t\tlet { packId, productId, currentSalesRegion } = param;\r\n        if (productId) {\r\n            this.initInventoryAllocation(productId, packId, currentSalesRegion);\r\n            this.initFutureDeliveryTimeDescription(productId, currentSalesRegion);\r\n        }\r\n        if (this.inventoryAllocation === undefined || this.futureDeliveryTimeDescription === undefined)\r\n\t\t\treturn null;\r\n\r\n        if (this.inventoryAllocation && this.inventoryAllocation.length > 0) {\r\n            deliveryTimeUI = this.inventoryAllocation.map((v, index) => {\r\n                let { warehouse, quantity, deliveryTimeDescription } = v;\r\n                if (quantity > 0) {\r\n                    return <div key={index} className=\"text-success\">\r\n                        {tv(warehouse, (values: any) => <span className=\"small\">{values.name}</span>)}: {(quantity > 10 ? '>10' : quantity)}\r\n                        {deliveryTimeDescription}\r\n                    </div>\r\n                } else {\r\n                    return undefined;\r\n                }\r\n            });\r\n        } else {\r\n            deliveryTimeUI = <div>{this.futureDeliveryTimeDescription && '期货: ' + this.futureDeliveryTimeDescription}</div>;\r\n        }\r\n\t\treturn deliveryTimeUI;\r\n\t})\r\n\t*/\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { ProductImage } from 'tools/productImage';\r\nimport {renderBrand, renderPropItem} from '../renders';\r\nimport { VChemicalInfoInCart } from './VChemicalInfo';\r\nimport { Product } from '../../store';\r\nimport { VFavorite } from './VFavorite';\r\n/*\r\nimport { VProductFavorateLabel } from 'customer/VProductFavorateLabel';\r\nimport { Link } from 'react-router-dom';\r\n*/\r\n\r\n/**\r\n *\r\n */\r\nexport class VProuductView extends View<CProduct> {\r\n    render(product: Product): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n\t\t\tlet { brand, props } = product;\r\n\t\t\tlet { description, descriptionC, origin, imageUrl } = props;\r\n\t\t\treturn <div className=\"d-block mb-4 px-3\">\r\n\t\t\t\t<div className=\"d-flex py-2\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div><strong>{description}</strong></div>\r\n\t\t\t\t\t\t<div>{descriptionC}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>{this.renderVm(VFavorite, {product})}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t<ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t{renderPropItem('产品编号', origin)}\r\n\t\t\t\t\t\t\t{this.renderVm(VChemicalInfoInCart, product) /*renderChemicalInfoInCart(productBox)*/}\r\n\t\t\t\t\t\t\t{renderBrand(brand)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>;\r\n\t\t}));\r\n\t}\r\n\r\n\t/*\r\n    private async getProudct(product: BoxId) {\r\n        if (this.product === undefined) {\r\n            let ret = await this.controller.getProductAndDiscount(product);\r\n            this.product = ret.product;\r\n            this.discount = ret.discount;\r\n        }\r\n\t}\r\n\t*/\r\n}\r\n","import * as React from 'react';\r\nimport { View, tv } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport {renderBrand, renderPropItem} from '../renders';\r\nimport { ProductImage } from '../../tools/productImage';\r\n\r\nexport class VInCart extends View<CProduct> {\r\n    render(param: any): JSX.Element {\r\n        return <>{tv(param, this.renderCartProduct)}</>;\r\n    }\r\n\r\n    private renderCartProduct = (product: any) => {\r\n        let { props, brand } = product;\r\n\t\t// if (!props) return;\r\n        let { description, descriptionC, origin, imageUrl } = props || product;\r\n        if (!brand.name) brand = brand.obj;\r\n\t\tlet cName:any;\r\n\t\tif (descriptionC !== description) {\r\n\t\t\tcName = <div className=\"pb-2\"><strong dangerouslySetInnerHTML={{__html:descriptionC || ''}}></strong></div>;\r\n        }\r\n        return <div className=\"row mx-0\">\r\n                    <div className=\"col-lg-3\">\r\n                        <ProductImage chemicalId={imageUrl} className=\"w-5c h-5c\" />\r\n                    </div>\r\n                    <div className=\"col-lg-9\">\r\n                        <div className=\"py-2 text-truncate\">\r\n                            <strong dangerouslySetInnerHTML={{__html:description|| ''}}></strong>\r\n                        </div>\r\n                        {cName}\r\n                        <div className=\"row mx-0\">\r\n                            {renderPropItem('编号', origin)}\r\n                            {renderBrand(brand)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n        // return <div className=\"row d-flex mb-3 px-2\">\r\n        //     <div className=\"col-12\">\r\n        //         <div className=\"py-2\">\r\n        //             <strong>{description}</strong>\r\n        //         </div>\r\n\t\t// \t\t{cName}\r\n        //         <div className=\"row\">\r\n        //             <div className=\"col-3\">\r\n        //                 <ProductImage chemicalId={imageUrl} className=\"w-4c h-4c\" />\r\n        //             </div>\r\n        //             <div className=\"col-9\">\r\n        //                 <div className=\"row\">\r\n        //                     {renderPropItem('编号', origin)}\r\n        //                     {this.renderVm(VChemicalInfoInCart, product) /*this.controller.renderChemicalInfoInCart(product)*/}\r\n        //                     {renderBrand(brand)}\r\n        //                 </div>\r\n        //             </div>\r\n        //         </div>\r\n        //     </div>\r\n        // </div>\r\n    };\r\n}\r\n","import * as React from 'react';\r\nimport { View, tv, ObjectSchema, NumSchema, UiSchema, UiCustom, Context, Form, ItemSchema } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { MinusPlusWidget } from 'tools';\r\nimport { Product } from '../../store';\r\nimport { observer } from 'mobx-react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { MinusPlusWidgetTable } from 'tools/minusPlusWidget';\r\n/**\r\n * 显示产品包装价格，配合CProduct.renderProductPrice使用\r\n * 需要的参数product必须是BoxId(或者object?)\r\n */\r\nexport class VPrice extends View<CProduct> {\r\n    isShowTable: boolean = false;\r\n    protected schema: ItemSchema[] = [\r\n        { name: 'pack', type: 'object' } as ObjectSchema,\r\n        { name: 'quantity', type: 'number' } as NumSchema,\r\n        { name: 'retail', type: 'number' } as NumSchema,\r\n        { name: 'vipPrice', type: 'number' } as NumSchema,\r\n        { name: 'promotionPrice', type: 'number' } as NumSchema,\r\n        { name: 'currency', type: 'string' },\r\n    ];\r\n\r\n\t/*\r\n    @observable private prices: any;\r\n    private initPrices = async (product: BoxId, salesRegionId: number, discount: number) => {\r\n        if (this.prices === undefined)\r\n            this.prices = await this.controller.getProductPrice(product, salesRegionId, discount);\r\n\t}\r\n\t*/\r\n\r\n    protected renderPrice(product:Product, item: any) {\r\n\t\tlet onQuantityChanged = async (context: Context, value: any, prev: any):Promise<void> => {\r\n\t\t\tlet { data } = context;\r\n\t\t\tlet { pack, retail, vipPrice, promotionPrice, currency } = data;\r\n\t\t\tlet price = this.minPrice(vipPrice, promotionPrice) || retail;\r\n\t\t\tawait this.controller.cApp.store.cart.changeQuantity(product, pack, value, price, retail, currency);\r\n\t\t\t/*\r\n\t\t\tlet { cApp } = this.controller;\r\n\t\t\tlet { cCart } = cApp;\r\n\t\t\tif (value > 0)\r\n\t\t\t\tawait cCart.add(product, pack, value, price, retail, currency);\r\n\t\t\telse\r\n\t\t\t\tawait cCart.removeItem([{ productId: product.id, packId: pack.id }]);\r\n\t\t\t*/\r\n\t\t}\r\n\r\n\t\tlet uiSchema: UiSchema = {\r\n\t\t\titems: {\r\n\t\t\t\tpack: { visible: false },\r\n\t\t\t\tretail: { visible: false },\r\n\t\t\t\tvipPrice: { visible: false },\r\n\t\t\t\tpromotionPrice: { visible: false },\r\n\t\t\t\tcurrency: { visible: false },\r\n\t\t\t\tquantity: {\r\n\t\t\t\t\twidget: 'custom',\r\n\t\t\t\t\tlabel: null,\r\n\t\t\t\t\tclassName: `text-center ${this.isShowTable ? \"form-control-sm\" :\"\"}`,\r\n\t\t\t\t\tWidgetClass: !this.isShowTable ? MinusPlusWidget : MinusPlusWidgetTable,\r\n\t\t\t\t\tonChanged: onQuantityChanged\r\n\t\t\t\t} as UiCustom\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n        let { retail, vipPrice, promotionPrice } = item;\r\n        let right = null;\r\n        if (retail) {\r\n            let price: number = this.minPrice(vipPrice, promotionPrice);\r\n            let retailUI: any;\r\n            if (price) {\r\n                if (this.isShowTable) {\r\n                    retailUI = <del className=\"text-danger\"><span className=\"text-muted\">{retail}</span></del>;\r\n                } else {\r\n                    retailUI = <small className=\"text-muted\"><del>¥{retail}</del></small>;\r\n                }\r\n            }\r\n            else {\r\n                price = retail;\r\n            }\r\n            right = <div className=\"row\">\r\n                <div className=\"col-sm-6 mb-2 d-flex justify-content-end align-items-center\">\r\n                    <small className=\"text-muted\">{retailUI}</small>&nbsp; &nbsp;\r\n                    <span className=\"text-danger\">¥ <span className=\"h5\">{price}</span></span>\r\n                </div>\r\n                <div className=\"col-sm-6 mb-0 d-flex justify-content-end align-items-center\">\r\n                    <Form schema={this.schema} uiSchema={uiSchema} formData={item} />\r\n                </div>\r\n            </div >\r\n\r\n            if (this.isShowTable) \r\n                right = <>\r\n                <td data-title=\"价格\" className=\" red\">\r\n                    <div className=\"item-product-price\">\r\n                        <small className=\"text-muted\">{retailUI}</small>&nbsp;{retailUI ? '/' : ''}\r\n                        <span className=\"text-danger\"> <span>{price}</span></span>\r\n                    </div>\r\n                </td>\r\n                <td data-title=\"数量\">\r\n                    <div className=\"d-flex justify-content-end input-group-sm\">{/* d-flex justify-content-md-center justify-content-sm-end justify-content-end */}\r\n                        <Form schema={this.schema} uiSchema={uiSchema} formData={item} />\r\n                    </div>\r\n                </td>\r\n            </ >\r\n        } else {\r\n            right = <small>请询价</small>\r\n            if (this.isShowTable) right = <><td className=\"py-3\">请询价</td><td></td></>;\r\n        }\r\n        return right;\r\n    }\r\n\r\n    protected minPrice(vipPrice: any, promotionPrice: any) {\r\n        if (vipPrice || promotionPrice)\r\n            return Math.min(typeof (vipPrice) === 'number' ? vipPrice : Infinity, typeof (promotionPrice) === 'number' ? promotionPrice : Infinity);\r\n    }\r\n\r\n    render(product: Product): JSX.Element {\r\n        //let { currentSalesRegion } = this.controller.cApp;\r\n        //return <this.content product={product} SalesRegionId={currentSalesRegion} discount={discount} />;\r\n        let { renderDeliveryTime } = this.controller;\r\n\t\t//this.initPrices(product, SalesRegionId, discount);\r\n\t\tlet {prices} = product;\r\n\t\treturn <>{prices?.map((v: any, index: number) => {\r\n\t\t\tlet { pack, retail } = v;\r\n\t\t\tif (!retail) return <small key={0}>请询价</small>;\r\n\t\t\treturn <div className=\"\" key={pack.id}>\r\n\t\t\t\t<div className=\"row mx-0 w-100\">\r\n\t\t\t\t\t<div className=\"col-5 d-flex flex-column mb-2 pb-1 pl-0\">\r\n\t\t\t\t\t\t<div><b>{tv(pack)}</b></div>\r\n\t\t\t\t\t\t<div>{renderDeliveryTime(pack)}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-7 mb-0 pr-0\">\r\n\t\t\t\t\t\t{this.renderPrice(product, v)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>;\r\n\t\t})}</>;\r\n\t\t/*\r\n        return <>\r\n            {priceUI}\r\n\t\t</>;\r\n\t\t*/\r\n    }\r\n\r\n\t/*\r\n    private content = observer((param?: any) => {\r\n        let priceUI;\r\n        let { product, SalesRegionId, discount } = param;\r\n\r\n        let { renderDeliveryTime } = this.controller;\r\n        this.initPrices(product, SalesRegionId, discount);\r\n        if (this.prices && this.prices.length > 0) {\r\n            priceUI = this.prices.map((v: any, index: number) => {\r\n                let { pack, retail } = v;\r\n                if (retail) {\r\n                    return <div className=\"px-2\" key={pack.id}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                                <div><b>{tv(pack)}</b></div>\r\n                                <div>{renderDeliveryTime(pack)}</div>\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                                {this.renderPrice(v)}\r\n                            </div>\r\n                        </div>\r\n                    </div>;\r\n                } else {\r\n                    return <small>请询价</small>\r\n                }\r\n            });\r\n        }\r\n        return <>\r\n            {priceUI}\r\n        </>;\r\n\t})\r\n\t*/\r\n}\r\n\r\n/**\r\n * 应用场景 产品列表显示包装 table\r\n */\r\nexport class VPriceWithTr extends VPrice {\r\n    isShowTable: boolean = true;\r\n\r\n    render(product: Product): JSX.Element {\r\n        let { prices } = product;\r\n        if (!prices) return null;\r\n        return React.createElement(observer(() => {\r\n            return  <>{prices?.map((v: any, index: number) => {\r\n            let { pack } = v;\r\n            \r\n            return <tr className=\"article-product-list text-right\">\r\n                    <td data-title=\"包装\">\r\n                        {tv(pack)}\r\n                    </td>\r\n                <td data-title=\"库存\"> <span>{this.controller.renderDeliveryTime(pack,\"dark-333\")}</span></td>\r\n                {this.renderPrice(product, v)}\r\n            </tr>\r\n            })}</>;\r\n        }))\r\n    }\r\n}\r\n\r\n/**\r\n * 根据产品编号/包装规格查询产品，在客户手动输入或提交excel表格下单的场景下使用\r\n */\r\nexport class VPriceQuickOrder extends VPrice {\r\n    selectPack: any;\r\n\r\n    constructor(c: CProduct) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            selectPack: observable\r\n        });\r\n    }\r\n\r\n    renderPrice(param: any, item: any) {\r\n        let onQuantityChanged = async (context: Context, value: any, prev: any):Promise<void> => {\r\n            let { data } = context;\r\n            //let { pack, retail, vipPrice, promotionPrice, currency } = data;\r\n\t\t\tlet { pack } = data;\r\n            let { cApp } = this.controller;\r\n            let { cQuickOrder } = cApp;\r\n            await cQuickOrder.changeProductQuantity(param, pack, value);\r\n        }\r\n\r\n\t\tlet uiSchema: UiSchema = {\r\n\t\t\titems: {\r\n\t\t\t\tpack: { visible: false },\r\n\t\t\t\tretail: { visible: false },\r\n\t\t\t\tvipPrice: { visible: false },\r\n\t\t\t\tpromotionPrice: { visible: false },\r\n\t\t\t\tcurrency: { visible: false },\r\n\t\t\t\tquantity: {\r\n\t\t\t\t\twidget: 'custom',\r\n\t\t\t\t\tlabel: null,\r\n\t\t\t\t\tclassName: 'text-center',\r\n\t\t\t\t\tWidgetClass: MinusPlusWidget,\r\n\t\t\t\t\tonChanged: onQuantityChanged\r\n\t\t\t\t} as UiCustom\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n        let { retail, vipPrice, promotionPrice, /* quantity */ } = item;\r\n        // if (!quantity) return;\r\n        let right = null;\r\n        if (retail) {\r\n            let price: number = this.minPrice(vipPrice, promotionPrice);\r\n            let retailUI: any;\r\n            if (price) {\r\n                retailUI = <small className=\"text-muted\"><del>¥{retail}</del></small>;\r\n            }\r\n            else {\r\n                price = retail;\r\n            }\r\n            right = <div className=\"row\">\r\n                <div className=\"col-sm-6 mb-2 d-flex justify-content-end align-items-center\">\r\n                    <small className=\"text-muted\">{retailUI}</small>&nbsp; &nbsp;\r\n                    <span className=\"text-danger\">¥ <span className=\"h5\">{price}</span></span>\r\n                </div>\r\n                <div className=\"col-sm-6 mb-0 d-flex justify-content-end align-items-center\">\r\n                    <Form schema={this.schema} uiSchema={uiSchema} formData={item} />\r\n                </div>\r\n            </div >\r\n        } else {\r\n            right = <small>请询价</small>\r\n            if (this.isShowTable) right = <><td className=\"py-3\">请询价</td><td></td></>;\r\n        }\r\n        return right;\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n\r\n        let { id, product, QPacks, noPackTip, selectedPack } = param;\r\n        if (!product) return <></>;\r\n        if (QPacks && !QPacks.length) return <div className=\"text-danger small align-self-center col-6\">{noPackTip}</div>;\r\n        let { cApp } = this.controller;\r\n        let { cQuickOrder } = cApp;\r\n        this.selectPack = selectedPack;\r\n        let { renderDeliveryTime } = this.controller;\r\n        let pricesByPackUI = this.selectPack ? <div className=\"px-2 col-6 col-sm-7 mb-0\" key={this.selectPack?.pack?.id + 1}>\r\n            {this.renderPrice(param, this.selectPack)}\r\n        </div> : null;\r\n        return <>\r\n            <div className=\"row mx-0\">\r\n                <div className=\"col-6 col-sm-5 d-flex flex-column justify-content-center\">\r\n                    <div>\r\n                        <select defaultValue={this.selectPack?.pack?.id || ''} onChange={(e: any) => {\r\n                            this.selectPack = QPacks.find((i: any) => i.pack.id == e.target.value);\r\n                            cQuickOrder.selectedPack(param, this.selectPack);\r\n                        }} name=\"\" id=\"\" className=\"form-control\" >\r\n                            <option hidden value=\"\">选择包装</option>\r\n                            {\r\n                                QPacks?.map((v: any,index:number) => {\r\n                                    return <option key={index} value={v.pack.id}>{v.pack.obj?.radiox !==1 ? v.pack.obj?.radiox + \"*\" : \"\"} {v.pack.obj?.radioy}{v.pack.obj?.unit}</option>\r\n                                })\r\n                            }\r\n                        </select>\r\n                    </div>\r\n                    {this.selectPack && <div className=\"small\">{renderDeliveryTime(this.selectPack?.pack)}</div>}\r\n                </div>\r\n                {\r\n                    this.selectPack && this.selectPack.pack\r\n                        ? <>{pricesByPackUI}</>\r\n                    :null\r\n                }\r\n            </div>\r\n            </>        \r\n        }))\r\n    }\r\n}","import * as React from 'react';\r\nimport { Ax, nav, View } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { ProductImage } from 'tools/productImage';\r\nimport { observer } from 'mobx-react';\r\nimport { renderBrand, renderPropItem } from '../renders';\r\nimport { VFavorite } from './VFavorite';\r\nimport { VPriceWithTr } from './VPrice';\r\nimport classNames from 'classnames';\r\nimport { Product } from 'store';\r\n\r\nexport class VProuductView2 extends View<CProduct> {\r\n\t// @observable product: any;\r\n\t// @observable discount: number;\r\n\tonProductClick = async (product: Product) => {\r\n        let { id } = product;\r\n        let url = \"/product/\" + id;\r\n        this.navigate(url);\r\n    }\r\n\r\n\trender(param: any): JSX.Element {\r\n\t\treturn React.createElement(observer(() => {\r\n\t\t\tlet { product, dataSource, callback } = param;\r\n\t\t\tlet productListSource = dataSource ? true : false;\r\n\t\t\tlet { brand, chemical, props, id } = product;\r\n\t\t\tlet { description, descriptionC, origin, imageUrl } = props;\r\n\t\t\tlet { CAS, purity, molecularFomula, molecularWeight } = chemical || {};\r\n\t\t\tlet eName = <div className=\"pr-5 en-font-family\" style={{wordWrap:'break-word'}}><strong className=\"cursor-pointer\" onClick={()=> this.onProductClick(product)}   dangerouslySetInnerHTML={{__html:description|| ''}}></strong></div>;\r\n\t\t\tlet cName: any;\r\n\t\t\tif (descriptionC !== description) {\r\n\t\t\t\tcName = <div className=\"d-inline-block cursor-pointer\" onClick={()=> this.onProductClick(product)} dangerouslySetInnerHTML={{__html:descriptionC || ''}}></div>;\r\n\t\t\t}\r\n\t\t\treturn <div className=\"row mx-0 my-lg-2 w-100\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<div className=\"img-wrap\">\r\n\t\t\t\t\t\t<ProductImage chemicalId={imageUrl} className=\"mx-auto\" style={{ maxHeight: 192 }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10 each-product\">\r\n\t\t\t\t\t<div onClick={(event: React.MouseEvent) => { event.stopPropagation(); }}>\r\n\t\t\t\t\t\t<div>{this.renderVm(VFavorite, { product, callback: callback })}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<h3 className=\"ml-lg-3\">\r\n\t\t\t\t\t\t{eName}\r\n\t\t\t\t\t\t{cName}\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t!productListSource\r\n\t\t\t\t\t\t\t? <div className=\"row p-0 mx-0\">\r\n\t\t\t\t\t\t\t\t{renderPropItem('产品编号', origin)}\r\n\t\t\t\t\t\t\t\t{renderPropItem('CAS', <Ax onClick={(e) => { e.stopPropagation();nav.navigate(`/search/${ CAS || props.CAS }`);}}  href={`/search/${ CAS || props.CAS }` } className=\"text-primary\">{CAS || props.CAS}</Ax>)}\r\n\t\t\t\t\t\t\t\t{renderPropItem('纯度', purity || props.purity)}\r\n\t\t\t\t\t\t\t\t{renderPropItem('分子式', molecularFomula || props.molecularFomula)}\r\n\t\t\t\t\t\t\t\t{renderPropItem('分子量', molecularWeight || props.molecularWeight)}\r\n\t\t\t\t\t\t\t\t{renderBrand(brand)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t: <p className=\"ml-lg-3\">\r\n\t\t\t\t\t\t\t\t{renderPropItemC('产品编号', origin, null, false)}\r\n\t\t\t\t\t\t\t\t{renderPropItemC('CAS', <Ax onClick={(e) => { e.stopPropagation();nav.navigate(`/search/${ CAS || props.CAS }`);}} href={`/search/${ CAS || props.CAS }` } className=\"text-primary\">{CAS || props.CAS}</Ax>)}\r\n\t\t\t\t\t\t\t\t{brand && renderPropItemC('品牌', brand.name)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<div className=\"text-right pt-3\">\r\n\t\t\t\t\t\t<a className=\"button collapsed\" data-toggle=\"collapse\" href={`#description${id}`} role=\"button\"\r\n\t\t\t\t\t\t\taria-expanded=\"false\" aria-controls=\"collapseExample\" /* target=\"_blank\" */\r\n\t\t\t\t\t\t\tstyle={{position:\"absolute\",marginBottom:\"-10px\"}}\r\n\t\t\t\t\t\t\t// onClick={(event: React.MouseEvent) => { event.stopPropagation(); }}\r\n\t\t\t\t\t\t>{''}</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-12 mt-lg-2 collapse\" id={`description${id}`}\r\n\t\t\t\t\tonClick={(event: React.MouseEvent) => { event.stopPropagation(); }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"table-responsive-vertical shadow-z-1\">\r\n\t\t\t\t\t\t<table id=\"table\" className=\"table article-product-table\" style={{marginBottom:2}}>\r\n\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t<tr className=\"article-product-list text-right\">\r\n\t\t\t\t\t\t\t\t\t<th style={{paddingLeft:8,paddingRight:8}}>包装</th>\r\n\t\t\t\t\t\t\t\t\t<th style={{paddingLeft:8,paddingRight:8}}>库存</th>\r\n\t\t\t\t\t\t\t\t\t<th style={{paddingLeft:8,paddingRight:8}}>价格(RMB)</th>\r\n\t\t\t\t\t\t\t\t\t<th style={{paddingLeft:8,paddingRight:8}}>数量</th>\r\n\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t{this.renderVm(VPriceWithTr, product)}\r\n\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* <hr style={{width: \"97%\",height: \"1px\",marginBottom: \"35px\"}}></hr> */}\r\n\t\t\t</div>;\r\n\r\n\t\t\t// return <div className=\"row mx-0 my-3 bg-white\">\r\n\t\t\t// \t<div className=\"col-lg-4 d-flex\">\r\n\t\t\t// \t\t<ProductImage chemicalId={imageUrl} className=\"mx-auto\" style={{ maxHeight: 192 }} />\r\n\t\t\t// \t\t{/* <ProductImage chemicalId={imageUrl} className=\"w-100\" /> */}\r\n\t\t\t// \t</div>\r\n\t\t\t// \t<div className=\"col-lg-8 each-product\">\r\n\t\t\t// \t\t<div className=\"details\">\r\n\t\t\t// \t\t\t{eName}\r\n\t\t\t// \t\t\t{cName}\r\n\t\t\t// \t\t\t<div>{this.renderVm(VFavorite, { product, callback: callback })}</div>\r\n\t\t\t// \t\t\t{\r\n\t\t\t// \t\t\t\t!productListSource\r\n\t\t\t// \t\t\t\t\t? <div className=\"row p-0 mx-0\">\r\n\t\t\t// \t\t\t\t\t\t{renderPropItem('产品编号', origin)}\r\n\t\t\t// \t\t\t\t\t\t{renderPropItem('CAS', CAS || props.CAS)}\r\n\t\t\t// \t\t\t\t\t\t{renderPropItem('纯度', purity || props.purity)}\r\n\t\t\t// \t\t\t\t\t\t{renderPropItem('分子式', molecularFomula || props.molecularFomula)}\r\n\t\t\t// \t\t\t\t\t\t{renderPropItem('分子量', molecularWeight || props.molecularWeight)}\r\n\t\t\t// \t\t\t\t\t\t{renderBrand(brand)}\r\n\t\t\t// \t\t\t\t\t</div>\r\n\t\t\t// \t\t\t\t\t: <div className=\"row p-0 mx-0\">\r\n\t\t\t// \t\t\t\t\t\t{renderPropItemCustom('产品编号', origin, null, false)}\r\n\t\t\t// \t\t\t\t\t\t{renderPropItemCustom('CAS', CAS || props.CAS)}\r\n\t\t\t// \t\t\t\t\t\t{brand && renderPropItemCustom('品牌', brand.name)}\r\n\t\t\t// \t\t\t\t\t</div>\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t</div>\r\n\t\t\t// \t\t{!this.controller.showFavorites &&\r\n\t\t\t// \t\t\t<div>\r\n\t\t\t// \t\t\t\t<a className=\"button display-desktop collapsed\" data-toggle=\"collapse\" href={`#description${id}`} role=\"button\" aria-expanded=\"false\" aria-controls=\"jk\" target=\"_blank\"\r\n\t\t\t// \t\t\t\t\tonClick={(event: React.MouseEvent) => { event.stopPropagation(); }}>详情\r\n\t\t\t// \t\t\t\t</a>\r\n\t\t\t// \t\t\t</div>\r\n\t\t\t// \t\t}\r\n\t\t\t// \t</div>\r\n\t\t\t// \t<div className=\"container collapse col-lg-12 pt-2 px-0 border-top-0\"\r\n\t\t\t// \t\tonClick={(event: React.MouseEvent) => { event.stopPropagation(); }} id={`description${id}`}>\r\n\t\t\t// \t\t<table id=\"table\" className=\"table article-product-table table-striped\">\r\n\t\t\t// \t\t\t<thead>\r\n\t\t\t// \t\t\t\t<tr className=\"article-product-list\">\r\n\t\t\t// \t\t\t\t\t<th>包装</th>\r\n\t\t\t// \t\t\t\t\t<th>价格</th>\r\n\t\t\t// \t\t\t\t\t<th>数量</th>\r\n\t\t\t// \t\t\t\t\t{/* <th>收藏夹</th> */}\r\n\t\t\t// \t\t\t\t</tr>\r\n\t\t\t// \t\t\t</thead>\r\n\t\t\t// \t\t\t<tbody>\r\n\t\t\t// \t\t\t\t<>{this.renderVm(VPriceWithTr, product)}</>\r\n\t\t\t// \t\t\t</tbody>\r\n\t\t\t// \t\t</table>\r\n\t\t\t// \t</div>\r\n\t\t\t// </div>\r\n\r\n\t\t\t// return <div className=\"d-block mb-4 px-3 bg-white\">\r\n\t\t\t// \t<div className=\"py-2\">\r\n\t\t\t// \t\t{eName}\r\n\t\t\t// \t\t{cName}\r\n\t\t\t// \t\t<div>{this.renderVm(VFavorite, product)}</div>\r\n\t\t\t// \t</div>\r\n\t\t\t// \t<div className=\"row\">\r\n\t\t\t// \t\t<div className=\"col-3\">\r\n\t\t\t// \t\t\t<ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n\t\t\t// \t\t</div>\r\n\t\t\t// \t\t<div className=\"col-9\">\r\n\t\t\t// \t\t\t<div className=\"row\">\r\n\t\t\t// \t\t\t\t{renderPropItem('产品编号', origin)}\r\n\t\t\t// \t\t\t\t{renderPropItem('CAS', CAS)}\r\n\t\t\t// \t\t\t\t{renderPropItem('纯度', purity)}\r\n\t\t\t// \t\t\t\t{renderPropItem('分子式', molecularFomula)}\r\n\t\t\t// \t\t\t\t{renderPropItem('分子量', molecularWeight)}\r\n\t\t\t// \t\t\t\t{renderBrand(brand) /*tv(brand, renderBrand)*/ /* 这个地方会在调试器报警告 */}\r\n\t\t\t// \t\t\t</div>\r\n\t\t\t// \t\t</div>\r\n\t\t\t// \t</div>\r\n\t\t\t// \t{renderUnsold(discountinued)}\r\n\t\t\t// </div>\r\n\t\t}));\r\n\t}\r\n}\r\n\r\nfunction renderPropItemC(caption: string, value: any, captionClass?: string, CutLine?: Boolean) {\r\n\tif (value === null || value === undefined || value === '0') return null;\r\n\tlet capClass = captionClass ? classNames(captionClass) : classNames(\"\");\r\n\tlet valClass = captionClass ? classNames(captionClass) : \"\";\r\n\tlet cutLine: JSX.Element = <span className=\"mx-2\" style={{color:\"#333\"}}>|</span>;\r\n\tif (!CutLine && CutLine !== undefined) cutLine = null;\r\n\treturn <>\r\n\t\t{cutLine}\r\n\t\t<span className={classNames('', capClass)}>{caption}:</span>\r\n\t\t<span className={classNames('', valClass)}>{value}</span>\r\n\r\n\t</>\r\n}\r\n/* function renderPropItemCustom(caption: string, value: any, captionClass?: string, CutLine?: Boolean) {\r\n\tif (value === null || value === undefined || value === '0') return null;\r\n\tlet capClass = captionClass ? classNames(captionClass) : classNames(\"text-muted\");\r\n\tlet valClass = captionClass ? classNames(captionClass) : \"\";\r\n\tlet cutLine: JSX.Element = <span className=\"h-1c align-self-center mx-2\" style={{ borderRight: '1px solid #333' }}></span>;\r\n\tif (!CutLine && CutLine !== undefined) cutLine = null;\r\n\treturn <div className=\"col-6 col-lg-4 col-sm-6 px-0\">\r\n\t\t<span className={classNames('small', capClass)}> {caption}： </span>\r\n\t\t<span className={classNames('small', valClass)}>{value}</span>\r\n\t</div>;\r\n} */\r\n\r\n/**\r\n * 收藏列表（有收藏与取消功能）\r\n */\r\n/* export class VProductCarryFavorites extends View<CProduct>{\r\n\trender(param: any): JSX.Element {\r\n\t\tlet { product } = param;\r\n\t\treturn <div className='position-relative'>\r\n\t\t\t{renderProduct(product)}\r\n\t\t\t<div className='position-absolute' style={{ top: 20, right: -10 }}>\r\n\t\t\t\t{this.renderVm(VProductFavorateLabel, product.id)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n} */\r\n","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { View } from 'tonva-react';\r\nimport { CProduct } from '../CProduct';\r\nimport { ProductImage } from 'tools/productImage';\r\nimport { renderBrand, renderPropItem } from '../renders';\r\nimport { Product } from '../../store';\r\nimport { VChemicalInfoInCart } from './VChemicalInfo';\r\nimport { VPrice } from './VPrice';\r\n\r\n\r\nexport class VProductWithPrice extends View<CProduct> {\r\n\t/*\r\n    @observable product: any;\r\n    @observable discount: number;\r\n\r\n    private async getProudct(product: BoxId) {\r\n        if (this.product === undefined) {\r\n            let ret = await this.controller.getProductAndDiscount(product);\r\n            this.product = ret.product;\r\n            this.discount = ret.discount;\r\n        }\r\n    }\r\n\t*/\r\n    render(product: Product): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n\t\t\tlet { brand, props } = product;\r\n\t\t\tlet { description, descriptionC, origin, imageUrl } = props;\r\n\t\t\treturn <div className=\"d-block mb-2 px-3\">\r\n\t\t\t\t<div className=\"py-2\">\r\n\t\t\t\t\t<div><strong>{description}</strong></div>\r\n\t\t\t\t\t<div>{descriptionC}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row py-2\">\r\n\t\t\t\t\t<div className=\"col-3\">\r\n\t\t\t\t\t\t<ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t{renderPropItem('产品编号', origin)}\r\n\t\t\t\t\t\t\t{this.renderVm(VChemicalInfoInCart, product)}\r\n\t\t\t\t\t\t\t{renderBrand(brand)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"border-top pt-2\">\r\n\t\t\t\t\t{this.renderVm(VPrice, product) /*renderProductPrice(product, discount)*/}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t}));\r\n\t}\r\n    /*\r\n    render(product: BoxId): JSX.Element {\r\n        let { renderProduct, renderProductPrice } = this.controller;\r\n        return <div className=\"d-flex flex-column\">\r\n            <div>{renderProduct(product)}</div>\r\n            <div className=\"p-2 border-top\">{renderProductPrice(product, 1)}</div>\r\n        </div>\r\n    }\r\n    */\r\n}\r\n\r\n/**\r\n * 显示产品信息（不包含包装价格），特定于参数包含相关的CAS/Purity等信息），现应用于产品列表\r\n * @param product\r\n */\r\n/* export function renderProduct(product: any) {\r\n    let { brand, description, descriptionC, CAS, purity, molecularFomula, molecularWeight, origin, imageUrl, discountinued } = product;\r\n    return <div className=\"d-block mb-4 px-3 bg-white\">\r\n        <div className=\"py-2\">\r\n            <div className=\"mr-3\"><strong>{description}</strong></div>\r\n            <div>{descriptionC}</div>\r\n        </div>\r\n        <div className=\"row\">\r\n            <div className=\"col-3\">\r\n                <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n            </div>\r\n            <div className=\"col-9\">\r\n                <div className=\"row\">\r\n                    {productPropItem('产品编号', origin)}\r\n                    {productPropItem('CAS', CAS)}\r\n                    {productPropItem('纯度', purity)}\r\n                    {productPropItem('分子式', molecularFomula)}\r\n                    {productPropItem('分子量', molecularWeight)}\r\n                    {tv(brand, renderBrand)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        {unsoldProductsUI(discountinued)}\r\n    </div>\r\n} */\r\n","export function randomColor() {\r\n    let arr = ['#ad2031', '#239ab7', '#80a040', '#811f63', '#1B12AC'];\r\n    let i = Math.floor(Math.random() * arr.length);\r\n    return arr[i];\r\n    // return '#' + Math.random().toString(16).substr(-6);\r\n}","export default __webpack_public_path__ + \"static/media/logo_pointShop.14c48c64.png\";","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAC4CAYAAACy7z2+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACT1JREFUeNrsnU1u20YYQCdBlgXMrtqdWSB7K/sC4Q2iniDMCaKewMoN5BNEOkHkE5g+QeVFdy1K77KrBXSvauKPMaNQtjgznBlS7wGDIIAlkTNvvvnl8Nlms1EAx8gz5AfkB0B+AOQHQH4A5AdA/ihItmkkKan9v2K1TXeSVrX/w+OkkrKdfB5cvvZN/rEkXTCnBp+/3aZC0pLK8FX2rJavJwbfcbOTr8jvsHCmUjgnjr/7UgprfmTCJ5Kfk206c/zda8nP2TaVyG8uvc7E1x5+ay2FNRt4a5CK8HkHgaSJhQSuEvkPj0o6w94H+O2hVoKq9Xwb6Pc/yO8j/yOMpBtyGvg6qkow7bn0iUT68wiu5UZanBXyNw9mP0Umz60UWNFD8cdSgU8juqa1DKpXyP9txC889UNNuJBWoA9doUTGSm8ivb5oKkAM8scufr0VGMfUbDeQSbexD3k5Ch1MnkcQpfpQWEq6D39IHzpGdMt01aO8LKT8jzby6wxwPZV5sxNRdAa7nsteSCWIoRtUBZC+5mN+jPJPHc5CXMvgbvlEl6BaIT51JEcWuAK4nB27ke8qHhngV4tjucPK9k4FWmQMJf9IuhAuBk9j1X42JpMCtJ33DjkOcDVWWkjgaHsPuXzuxEEZ6nspveeglj9AWm3s0d+RWF5Huk1zy+u426aR5/zLHeTf1EH+6fsuHVxLEcLDEOJPHGTW0kHB7RZi0ZMKkDvIu9Th9SSOglnm20Xf3Z5EmrcTy2a6q0HSWPqfptfXdf9V3/dHiy5arrpZsEvke88su5DpkLs9kx40j4lER1PGEUb8meOWsqsWYDzkyF9azEz4nl0xHdB1sYJpGvHX8llfe+xTuW/TlvNSWt/BzfbYzvC8CjCrMpJuzFnACmAq/o2I5HsWRd/3lcXnf/QV4Hyu8NrU6A+BphNXUpiXLT93In3gkYPKNzMcF4WZPry/70UgT6KN/IXhwshamtPQq6lawrbPGNh01Uzn8YMtGu10f/6JcEIjWOQ3XRGcqzi2EUxErDacKbM9LInBrJMOEr+pOB7JLC2iv7cZH5+R3/SHQvT1n2qW24rZNpqtWo4zotonbzlW+eLlkOS3aQafqfgw6ZIc+iifrlhvey5+L8rcl/w2Mz0xym9aAXS3ZOkwWsawua6L1n5Q8kefEZ4qwGObuNoGiNjF1+OWf2Mu8+cqftKIr62aCl0f+PcneyJ/ototRMUuflWZTbjxdYE+5b82/FwWeeVsWwH0QHZ37r7Nnvw+iF9NDJjm5+DkLww/N1Xx07YCvK/JoadQD50Gvu2J+Ikyn6svhii/6f6SUxXwUbcOK8Bc/v7Qyl09uNOHEyQmynx/j7ezPn1vbCuU+SpvqOV6k27alePvjHU6UzkYuNfx+kyvb/ltxOhLX1cpuwWeJl71RHzb5zV+8RngfM/2FBYDX9OtAiHQXZrfHX3Xux6JX1iIv/Ddsod4gD1Vdnu++9QC6Erw1lL8eU+6OjanSATZvBhinr9Udgc/ncl3ZD3p/lwafnbRE/Gr0zNOLb/DezALeW6PbVTURHn0dUN3YNVSjuseVG5XR8kHK8OQK7y5snvoQXOuHqYYY+VOtZ++i/3VPtVZRbbiL0IGr9DbGyYW3YJ6N+hKhEkjlaWtzEXEfXt9bZ+U/SlxQY8qrHd7dt+4V3oeebvoAu1GkzIyadrMfce2mS9Vbt/scqH8Hvib7gTG++Aihy3dNRwjUcqRF74OY5pu3DJ3fDiT7bEebVCRpMzyGJcmck/XPhYH9rk9UgceN1d6uujxnou1PetnHIFEbUgCX2/u6BS274TzEGQmBzq9VAbH8nVdCVLLowMfy/xpoNZgGml03D2ycdZB8OnieMl9FfaubfNqesipj9PduiiI6pDb3FOETQzuY+VJ+FTyedVRPpeeWl2jw4ZV5LU5cXCK8iH3MemwRTDtM897KrzLU6APuRfT+7izPS689HS6btZRV6gp4k4d9U1ddN9cBZhMujSlhzz0NdFgOz780uefObhhHweh+qwE1fimahVGm/azDC6vY94yyIzkupcbfxSeAmHq6L4mep4/VXYbzeqbkyae9qNk8ls+X7e5lnwq9lxPF++s2rf1oWkhrFqree15DcDXukr1Qu2JI1fTapHL9EDWJm4lM+aeFi8mslLYh7cQDoVbKd+5p8XEXJxy+i61+sY2XbNmDlfxqkqwVH527OXK7YvSoDnKLz3tPaqeA54od2+R/2ZluWlXp+3bSZqamKUye+lZm+0DOS3AICL+uJZOHF53vttV3Lel2XUrUL+I+usubVqETLl9tSi07z5UrYBNUEt2ytJ18LqQHsh3rj21nz+TStDVQO7vbfq8TX/Jv5/3/N0P2/Rym36WdIZ7UVYGXY7/PVEZqjJ8KemnDicGJo9dy6EPs7gccMC9KHMpmKrLRoXusItjIz+VwJ7LWjehqbuXSrOvW9s3ZJdRpK/GIwdh+hjjWLU7aexYo3tRG+OY9IMzxjQHBZWZQR5bP8ObSiWggB74c5t+VW6nd1OpCB/J3q9dm5kEltL0S1w+wF4fsR9zRejy4fPNkQu/rI2VrOnq9IZRrTK8Rn7kN2CtHqbErSK8b/mbWoWqQqQDn9lAfvMx0ko97J/q/JS6vp/bg/zDIMjZPSGPLikVQECekwWA/ADID4D8AMgPgPwAyA+A/ADID4D8AMgPgPwAyA+A/ADID4D8AMgPgPwAyA+A/ADID4D8AMgPgPwAyA+A/ADID4D8AMgPyA+A/ADID4D8AMgPMDheBPztUt2/v2podPkiteuBeliG+NGQL6QDCAryA/IDID8A8gMgPwDyAyC/GzJJQ6PcpnlH3z0dqIeFJK+EXOTS4p8PsCCvO5T/XA0X7/KzvQGOFuQH5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+QH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+QH4A5AdAfgDkB0B+AOQHQH4A5AdAfgDkB0B+AOQHiI0XAX+73KbrAebpqsPvvh6oh2WIH/1fgAEA0xe+lNlgi+4AAAAASUVORK5CYII=\"","export default __webpack_public_path__ + \"static/media/homeTopicMap.2d38ac6a.jpg\";","export default __webpack_public_path__ + \"static/media/TriangleShadingO.4d691031.png\";","export default __webpack_public_path__ + \"static/media/TriangleShadingT.be0b38d7.png\";","export default __webpack_public_path__ + \"static/media/signTopicMap.7b9d1979.png\";","export default __webpack_public_path__ + \"static/media/Homemadelogo.72aca280.png\";","export default __webpack_public_path__ + \"static/media/signViceMap.4c375827.png\";","export default \"data:image/png;base64,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\"","import * as React from 'react';\r\nimport { FA, View } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { observable, makeObservable } from 'mobx';\r\n\r\nexport class VModalC extends React.Component<any,any> {\r\n    visible: boolean = true;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        let { visible } = this.props;\r\n        this.visible = visible;\r\n        makeObservable(this, {\r\n            visible: observable\r\n        });\r\n    }\r\n\r\n    medalOnClick = () => {\r\n        this.visible = false;\r\n    }\r\n\r\n    render() {\r\n        let { title, children, width, footer, onClose,onOk,onCancel } = this.props;\r\n\r\n        width = width || \"auto\";\r\n        if (footer === undefined) footer = <><button className=\"btn btn-sm btn-light\" onClick={onCancel} >cancel</button>\r\n            <button className=\"btn btn-sm btn-outline-success ml-2\"  onClick={onOk} >ok</button></>;\r\n        let footerUI: JSX.Element;\r\n        if (footer !== null) footerUI = <div className=\"px-3 py-2 border-top text-right\" >{footer}</div>;\r\n        document.body.setAttribute(\"style\", `overflow: ${this.visible ? \"hidden\" : \"auto\"};`);\r\n        return React.createElement(observer(() => {\r\n            if (!this.visible) return null;\r\n            return <div className=\"modal\" style={{ background: \"rgba(0,0,0,.3)\", display: \"block\" }}>\r\n              <div onClick={onCancel} className=\"d-flex justify-content-center align-content-center w-100 h-100 \" >\r\n                    <div onClick={(e: any) => { e.stopPropagation(); }}\r\n                        className=\"bg-white m-auto position-relative rounded\" style={{ minWidth: \"200px\", width: width }} >\r\n                        <div className=\"px-3 py-2 font-weight-bold border-bottom\">{title}</div>\r\n                        <div className=\"px-3 py-2\">{children}</div>\r\n                        {footerUI}\r\n                        <div onClick={onClose} className=\"position-absolute cursor-pointer\" style={{ right: 5, top: 0 }}>\r\n                            <FA name=\"times-circle-o\" size=\"lg\" className=\"text-secondary\" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n        }))\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, FA, tv, List, autoHideTips } from 'tonva-react';\r\nimport { CPointProduct, OrderSource } from './CPointProduct';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport { randomColor } from 'tools/randomColor';\r\nimport { pointIcon } from 'tools/images';\r\nimport { xs } from 'tools/browser';\r\nimport { VModalC } from './view/VModalC';\r\n\r\nexport class VExchangeOrder extends VPage<CPointProduct> {\r\n\t//@observable protected shippingAddressIsBlank: boolean = false;\r\n\tprotected shippingAddressIsBlank = observable.box<boolean>();\r\n    protected pageDesc: string = OrderSource.EXCHANGEORDER;\r\n    disBtn: boolean = false;\r\n\r\n    constructor(c: CPointProduct) {\r\n        super(c);\r\n        makeObservable(this, {\r\n            disBtn: observable\r\n        });\r\n    }\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private nullContact = () => {\r\n        return <span className=\"text-primary\">选择收货地址</span>;\r\n    }\r\n\r\n    protected renderPointProduct = (pointProduct: any) => {\r\n        let { product, quantity } = pointProduct;\r\n\t\tif (quantity <= 0) return;\r\n\t\tlet style:React.CSSProperties = { border:`2px solid ${randomColor()}` };\r\n\t\t// let style:React.CSSProperties = { height: '35vw',border:`2px solid ${randomColor()}` };\r\n\t\treturn tv(product, (v) => {\r\n\t\t\treturn <div className=\"w-100 d-flex flex-column mb-4\">{/* 20vh  */}\r\n\t\t\t\t<div title={v.description} className=\"w-100 z-height\" style={style} >\r\n\t\t\t\t\t<PointProductImage chemicalId={v.imageUrl} className=\"w-100 h-100\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"small w-100\">\r\n\t\t\t\t\t<div className=\"text-truncate w-100 my-1\">{v.descriptionC}</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-between\">\r\n\t\t\t\t\t\t{/*  <div>\r\n\t\t\t\t\t\t\t<FA name='database' className=\"text-warning\" />\r\n\t\t\t\t\t\t\t<span className=\"text-danger h5\"> {point}</span>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<img src={pointIcon} alt=\"\" style={{ height: 24 }} />\r\n\t\t\t\t\t\t\t<span className=\"text-danger h5 m-0 ml-1 align-self-end\"> {v.point}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>*{quantity}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t});\r\n    }\r\n\r\n    protected onSubmitOwn = async () => {\r\n        let { submitOrder } = this.controller;\r\n        await submitOrder();\r\n    }\r\n\r\n    protected onSubmit = async () => {\r\n        let { orderData, cApp } = this.controller;\r\n        let { cLottery } = cApp;\r\n        // 必填项验证\r\n        let { shippingContact } = this.pageDesc === OrderSource.EXCHANGEORDER ? orderData : cLottery.prizeOrderData;\r\n        if (!shippingContact) {\r\n            this.shippingAddressIsBlank.set(true);\r\n            //setTimeout(() => this.shippingAddressIsBlank = false, GLOABLE.TIPDISPLAYTIME);\r\n            return;\r\n        };\r\n        await this.onSubmitOwn();\r\n        this.disBtn = true;\r\n    }\r\n\r\n\t/*\r\n    protected renderTipsUI = () => {\r\n        let chevronRight = <FA name=\"chevron-right\" className=\"cursor-pointer\" />\r\n        let shippingAddressBlankTip = this.shippingAddressIsBlank ?\r\n            <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> 必须填写收货地址</div>\r\n            : null;\r\n        return {\r\n            chevronRight,\r\n            shippingAddressBlankTip\r\n        }\r\n\t}\r\n\t*/\r\n\r\n    protected renderContact = () => {\r\n        //let { chevronRight, shippingAddressBlankTip } = this.renderTipsUI();\r\n        let { orderData, onSelectShippingContact, cApp } = this.controller;\r\n        let data = this.pageDesc === OrderSource.EXCHANGEORDER ? orderData.shippingContact : cApp.cLottery.prizeOrderData.shippingContact;\r\n        return <div className=\"px-2\">\r\n            <div className=\"row py-3 bg-white mb-1\" onClick={() => { xs ? onSelectShippingContact() : this.changeVisible(true) }}>\r\n                <div className=\"col-3 text-muted pr-0\">收货地址:</div>\r\n                <div className=\"col-9\">\r\n\t\t\t\t\t<LMR className=\"w-100 align-items-center\"\r\n\t\t\t\t\t\tright={<FA name=\"chevron-right\" className=\"cursor-pointer\" />}>\r\n\t\t\t\t\t\t{tv(data, undefined, undefined, this.nullContact)}\r\n\t\t\t\t\t</LMR>\r\n                    {/*shippingAddressBlankTip*/}\r\n\t\t\t\t\t{autoHideTips(this.shippingAddressIsBlank, ()=><div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> 必须填写收货地址</div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    changeVisible = (visible?: boolean) => {\r\n        this.controller.visible = visible || false;\r\n    };\r\n\r\n    protected page = observer(() => {\r\n        let { pointProductsSelected, pointToExchanging: pointsSum ,visible} = this.controller;\r\n        let header = <div className=\"w-100 text-center\">兑换确认</div>;\r\n        let footer = <div className=\"d-block\">\r\n            <div className=\"w-100 px-3 d-flex justify-content-between\">\r\n                <div>总计:<span className=\"text-danger ml-2 mr-1 h2\" >{pointsSum}</span>分</div>\r\n                <button disabled={this.disBtn} type=\"button\" className=\"btn btn-danger m-1\" style={{backgroundColor:'#dc3545'}} onClick={this.onSubmit}>确认兑换</button>\r\n            </div>\r\n        </div>;\r\n        let vModel = React.createElement(observer(() => {\r\n            return <VModalC title=\"地址管理\" visible={visible} width={520}\r\n                onCancel={()=>{this.changeVisible()}} onClose={()=>{this.changeVisible()}} footer={null}>\r\n                {this.controller.renderContnet()}\r\n            </VModalC>\r\n        }))\r\n        return <Page header={header} right={<></>} footer={footer}>\r\n            {this.renderContact()}\r\n            {vModel}\r\n            <List items={pointProductsSelected} item={{\r\n                render: this.renderPointProduct,\r\n                className: 'col-6 col-md-4 col-lg-3 px-3 bg-transparent'\r\n                // className: 'w-50 px-3'\r\n            }}\r\n                className=\"row mx-0 mt-2 bg-transparent\"\r\n                // className=\"d-flex flex-wrap bg-transparent mt-2\"\r\n            ></List>\r\n        </Page>\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * 领取奖品页面\r\n */\r\nexport class VMyPrizeExchangeOrder extends VExchangeOrder {\r\n    //@observable shippingAddressIsBlank: boolean = false;\r\n    protected pageDesc: string = OrderSource.PRIZEORDER;\r\n\r\n    renderPointProduct = (pointProduct: any) => {\r\n        return <div>11111</div>\r\n    }\r\n\r\n    /*  protected onSubmitOwn = async () => {\r\n         let { cLottery } = this.controller.cApp;\r\n         await cLottery.submitOrder();\r\n     } */\r\n\r\n    protected page = observer(() => {\r\n        let { cApp } = this.controller;\r\n        let { cLottery } = cApp;\r\n        let footer = <div className=\"d-block\">\r\n            <div className=\"w-100 px-3 d-flex justify-content-end\">\r\n                <button type=\"button\" className=\"btn btn-danger m-1\" onClick={this.onSubmit}>确认领取</button>\r\n            </div>\r\n        </div>;\r\n\r\n        return <Page header=\"奖品领取预览\" footer={footer}>\r\n            {this.renderContact()}\r\n            <List items={cLottery.myPrizeLib} item={{ render: this.renderPointProduct }}\r\n\r\n            ></List>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { xsOrIpad, xs } from './browser';\r\n\r\n\r\nexport function pageHTitle(title:any) {\r\n    if (!xsOrIpad)  return <div className=\"text-center mt-5\"><h1>{title}</h1></div>;\r\n    return null;\r\n}\r\n\r\nexport function CrPageHeaderTitle(title:string) {\r\n    if (xs) return title;\r\n    return '';\r\n}","import * as React from 'react';\r\nimport { Page } from 'tonva-react';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { xs } from '../../tools/browser';\r\n\r\nexport class VPointRule extends React.Component {\r\n\r\n    render() {\r\n         let header = CrPageHeaderTitle('积分规则');\r\n        return <Page header={header}>\r\n            {pageHTitle('积分规则')}\r\n            <div className='bg-white p-2 mx-auto' style={{maxWidth: !xs ? 800 :'none'}}>\r\n                {/* <ol className=\"mb-3\">\r\n                    <li>订购产品满1元积1分（活动期间积分按活动规则执行），积分按消费额累计；付款后，积分变为有效积分，可以使用；</li>\r\n                    <li>特价产品、产业型产品等不产生积分；</li>\r\n                    <li>积分有效期为自然年三年，过期作废（示例：2010年1-12月份产生的积分在2012年12月31日作废清零，以此类推）；</li>\r\n                    <li>积分目前仅限兑换百灵威积分商城中的产品使用，不兑换现金；</li>\r\n                    <li>此积分政策只针对百灵威终端客户，经销商等不产生积分；</li>\r\n                </ol> */}\r\n                <div className=\" text-muted small\">\r\n                    <p className=\"m-0 pb-1\"><b>1，订购产品满1元积1分（活动期间积分按活动规则执行），积分按消费额累计；付款后，积分变为有效积分，可以使用；</b></p>\r\n                    <p className=\"m-0 pb-1\"><b>2，特价产品、产业型产品等不产生积分；</b></p>\r\n                    <p className=\"m-0 pb-1\"><b>3，积分有效期为自然年三年，过期作废（示例：2010年1-12月份产生的积分在2012年12月31日作废清零，以此类推）；</b></p>\r\n                    <p className=\"m-0 pb-1\"><b>4，积分目前仅限兑换百灵威积分商城中的产品使用，不兑换现金；</b></p>\r\n                    <p><b>5，此积分政策只针对百灵威终端客户，经销商等不产生积分；</b></p>\r\n                </div >\r\n                <div className=\"text-muted small py-2\">\r\n                    <p>百灵威保留本积分活动中条款的解释权利，并有根据需要取消本活动或增删、修订本规定的权利，并于百灵威官网、邮件、报纸或其他途径公告后生效。</p>\r\n                    <p>如有疑问，请致电百灵威客服中心：400-666-7788</p>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n","export const RevenueExpenditure = {\r\n    POINTHISTORY: '收支明细',\r\n    SIGNINHISTORY: '签到明细',\r\n}","import * as React from 'react';\r\nimport { VPage, Page, nav, List, FA, DropdownActions, DropdownAction, EasyDate, tv, Ax } from 'tonva-react';\r\nimport { CPointProduct, topicClump, topicClumps } from \"./CPointProduct\";\r\nimport { observer } from 'mobx-react-lite';\r\nimport { VPointRule } from './view/VPointRule';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport classNames from 'classnames';\r\nimport { logo_pointShop, signInIcon, exChangeIcon, homeTopicMap, triangleShadingO, triangleShadingT } from 'tools/images';\r\nimport { RevenueExpenditure } from './basicRefer';\r\nimport { randomColor } from 'tools/randomColor';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { xs } from '../tools/browser';\r\n\r\nexport class VMyPoint extends VPage<CPointProduct> {\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    /**\r\n     * 积分规则页面\r\n     */\r\n    private pointRules = () => nav.push(<VPointRule />);\r\n\r\n    /* 积分详情页面 \r\n    private getPointHistory = async () => {\r\n        this.controller.pointDetails();\r\n    }*/\r\n\r\n    private pointblock = (name: any, action: any, icon: any, width?: any) => {\r\n        return <div className={`text-center mx-2 mb-2 ${width}`} onClick={() => action()}>\r\n            <img src={icon} alt=\"\" className=\"w-2c h-2c\" />\r\n            <div className={`text-light small`}>{name}</div>\r\n        </div>\r\n    }\r\n\r\n    private recommendOrHot = (type: any, theme?: string, imgArr?: any[], action?: any) => {\r\n        if (!imgArr || !imgArr.length) return null;\r\n        let { id, name } = type;\r\n        let pointProductImage = (pointProduct: any, index: any) => {            \r\n            let { product } = pointProduct;\r\n            let clm = index !== 0 ? (index === 1 ? 'justify-content-center' : 'justify-content-end') : '';\r\n            return <div className={`d-flex align-items-center ${clm}`}>\r\n                <Ax style={{width: '91.6%'}} className=\"h-100\" href={\"/pointshop/product/\" + product?.id} >{tv(product, (v) => {\r\n                    return <PointProductImage chemicalId={v.imageUrl} className=\"bg-transparent p-0 z-height-more w-100\"\r\n                        style={{/*  width: '91.6%', */ border: `2px solid ${randomColor()}` }} />\r\n                })}</Ax>\r\n            </div>\r\n        }\r\n        return <div className=\"mb-4\" style={{ zIndex: 9 }}>\r\n            <h6 className='d-flex justify-content-between align-content-end bg-transparent '>\r\n                <small className={classNames(theme ? theme : '', 'align-self-end')} style={{ color: theme ? theme : '' }}>{name}</small>\r\n                <Ax href={\"/pointshop/productLine/\" + id} >\r\n                    <span style={{ color: '#808080' }} className=\"pl-2\"><small >更多 </small><FA name='angle-right' /></span>\r\n                </Ax>\r\n            </h6>\r\n            <List\r\n                className=\"row mx-0 bg-transparent justify-content-between\"\r\n                items={imgArr.slice(0, 3)}\r\n                item={{ render:pointProductImage, className: \"col-4 p-0 bg-transparent\" }}\r\n                none='暂无产品' />\r\n        </div>\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { myEffectivePoints, myPointTobeExpired, myTotalPoints, pointProductGenre, newPointProducts, hotPointProducts,\r\n            openExchangeHistory, openRevenueExpenditure, cApp } = this.controller;\r\n        let { currentUser } = cApp;\r\n        let { openPointSign } = cApp.cSignIn;\r\n        var date = new Date();\r\n        let dateYear = date.getFullYear();\r\n\r\n        let nowPoint = myPointTobeExpired;\r\n        let nowPointTip = nowPoint > 0 ?\r\n            <div className=\"alert alert-warning py-0 w-100 small rounded-0 m-0\" role=\"alert\">\r\n                <span className=\"text-muted\">友情提示: 将有{nowPoint}积分于{dateYear}-12-31过期</span>\r\n            </div>\r\n            : null;\r\n\r\n        let actions: DropdownAction[] = [\r\n            {\r\n                icon: 'get-pocket',\r\n                caption: RevenueExpenditure.POINTHISTORY,\r\n                action: () => openRevenueExpenditure(RevenueExpenditure.POINTHISTORY)\r\n            },\r\n            {\r\n                icon: 'history',\r\n                caption: '兑换记录',\r\n                action: ()=> nav.navigate(\"/pointshop/order\")  /* openExchangeHistory */\r\n            },\r\n            {\r\n                icon: 'book',\r\n                caption: '积分规则',\r\n                action: this.pointRules\r\n            }\r\n        ];\r\n        let right = <DropdownActions className=\"align-self-center mr-1 bg-transparent border-0 text-light\" icon=\"navicon\" actions={actions} />;\r\n\r\n        let none = <div className=\"mt-4 text-secondary d-flex justify-content-center\">『 无任何类型 』</div>;\r\n        let UINoExchangeTip: JSX.Element;\r\n        if (!currentUser?.hasCustomer) UINoExchangeTip = <div className=\"alert alert-warning m-0\">\r\n            您的个人信息不完善，无法兑换礼品.<br />\r\n            请完善您的<Ax href=\"/meInfo\" className=\"text-primary\" > 账户信息 </Ax>.\r\n            <br />完善后需要一点审核时间,请您耐心等待.\r\n        </div>;\r\n        if (!currentUser) {\r\n            UINoExchangeTip = <div className=\"alert alert-warning m-0\">\r\n                请<Ax href={\"/login\"} className=\"text-primary\" ><b>登录</b></Ax>后进行礼品兑换.<br />\r\n            </div>;\r\n        };\r\n        let header = CrPageHeaderTitle('积分商城');\r\n        if (!xs) right = null;\r\n        return <Page header={header} right={right} className=\"h-100 bg-white\">\r\n            <div className=\"row mx-0 mt-0 mt-sm-1\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 px-0 px-sm-1\">\r\n                    {pageHTitle(<div className=\"text-left\">积分商城</div>)}\r\n                    {renderDropdownActions(actions)}\r\n                    {UINoExchangeTip && <div className=\"d-none d-lg-block mb-2\">{UINoExchangeTip}</div>}\r\n                    <div>\r\n                        <div className=\"d-flex flex-column pb-4 w-100\" style={{ background: `url(${homeTopicMap}) no-repeat`, backgroundSize: 'cover' }}>{/* cover contain */}\r\n                            <>{nowPointTip}</>\r\n                            <img src={logo_pointShop} alt=\"img\" className=\"w-8c mt-4 ml-4 mb-3\" />\r\n                            < div className=\"d-flex mx-3 mt-2 ml-4 text-light justify-content-between\" >\r\n                                <div>\r\n                                    <div><small>当前</small> <span className=\"h5\">{myEffectivePoints}</span> <small>分可用</small></div>\r\n                                    <div className=\"mt-2\">{myTotalPoints > 0 ? <small>总分: {myTotalPoints}</small> : null}</div>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-end mt-1\" style={{ flex: 1 }}>\r\n                                    {this.pointblock(\"签到\", openPointSign, signInIcon)}\r\n                                    {this.pointblock(\"兑换\", ()=>{ nav.navigate(\"/pointshop/productLine/5002\") }, exChangeIcon)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {UINoExchangeTip && <div className=\"d-block d-lg-none mt-2\">{UINoExchangeTip}</div>}\r\n                    <div className=\"pt-3\">\r\n                        {/* 产品类别 */}\r\n                        {\r\n                            pointProductGenre.length\r\n                                ? <div>\r\n                                    <List className=\"d-flex flex-wrap pt-2 text-center px-2 bg-transparent justify-content-between\"\r\n                                        items={pointProductGenre}\r\n                                        item={{ render: this.renderGenreItem, className: 'w-25 bg-transparent' }} none={none} />\r\n                                    <p className=\"d-flex m-0 justify-content-end pr-1\"><img src={triangleShadingO} alt=\"\" className=\"h-3c\" /></p>\r\n                                </div>\r\n                                : null\r\n                        }\r\n                        {/* 新品推荐 热门产品 */}\r\n                        <div className='mb-2 px-4 bg-transparent position-relative' style={{ background: `url(${triangleShadingT}) no-repeat 2% 50% `, backgroundSize: '38px' }}>\r\n                            {this.recommendOrHot(topicClumps[5000], undefined, newPointProducts)}\r\n                            {this.recommendOrHot(topicClumps[5001], undefined, hotPointProducts)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-none d-lg-block py-md-5 my-md-5\"></div>\r\n                </div>\r\n            </div>\r\n        </Page >;\r\n    });\r\n\r\n    private renderGenreItem = (item: any) => {\r\n        let { name, imageUrl, id } = item;\r\n        return <div>\r\n            <label className=\"w-100 d-flex flex-column justify-content-center\">\r\n                <Ax href={\"/pointshop/productLine/\" + id} >\r\n                    {\r\n                        imageUrl\r\n                            ? <div className=\"m-auto\"><PointProductImage chemicalId={imageUrl ? imageUrl : ':0-0268.png'} className=\"w-2c\" /></div>\r\n                            : <FA name=\"leaf\" className='mt-2 text-success mb-2' size='lg' />\r\n                    }\r\n                    <div className='text-dark small'>{name}</div>\r\n                    </Ax>\r\n                </label>\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport function renderPointRecord(item: any) {\r\n    let { comments, point, date } = item;\r\n    return <div className=\"d-flex w-100 justify-content-between align-content-center small px-3 py-2\">\r\n        <div>\r\n            <div className=\"text-muted\">{comments}</div>\r\n            <div className=\"text-muted small\"><EasyDate date={date} /></div>\r\n        </div>\r\n        <div className=\"d-table h-100\">\r\n            <div className=\"font-weight-bolder h-100 d-table-cell align-middle text-danger\">{point >= 0 ? '+' : ''}{point}</div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport function renderDropdownActions(actions: any) {\r\n    if (xs) return null;\r\n    return <div className=\"row mx-0 justify-content-end mb-2\">\r\n        {actions.map((v: any,index:number) => {\r\n            return <div className='m-1 cursor-pointer' key={index} onClick={v.action}>\r\n                <FA name={v.icon} className=\"text-info\"></FA>\r\n                <span> {v.caption}</span>\r\n            </div>\r\n        })}\r\n    </div>\r\n}","\r\nexport function telephoneValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}(-\\d{3,4})?$/.test(value))\r\n        return \"固定电话格式不正确，请重新输入！(例: 0100109999;010-0109999;010-0109999-100...)\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function mobileValidation(value: string) {\r\n    if (value && !/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(value))\r\n        return \"手机号格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function emailValidation(value: string) {\r\n    if (value && !/\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/.test(value))\r\n        return \"Email格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function faxValidation(value: string) {\r\n    if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n        return \"传真号码格式不正确，请重新输入！\";\r\n    else\r\n        return undefined;\r\n}\r\n\r\nexport function addressDetailValidation(value: string) {\r\n    return (value && value.length > 200) ? \"详细地址最多200个字！\" : undefined;\r\n}\r\n\r\nexport function zipCodeValidation(value: string) {\r\n    return (value && value.length > 15) ? \"邮编过长，请修改后录入！\" : undefined;\r\n}\r\n\r\n\r\nexport function organizationNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function departmentNameValidation(value: string) {\r\n    return (value && value.length > 100) ? \"部门名称名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function salutationValidation(value: string) {\r\n    return (value && value.length > 100) ? \"单位名称最多100个字！\" : undefined;\r\n}\r\n\r\nexport function nameValidation(value: string) {\r\n    return (value && value.length > 50) ? \"姓名最多50个字！\" : undefined;\r\n}","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { VPage, Page, Form, Schema, UiSchema, Context, UiInputItem, UiIdItem, BoxId } from 'tonva-react';\r\nimport { tv } from 'tonva-react';\r\nimport { CSelectContact } from './CSelectContact';\r\nimport { addressDetailValidation, emailValidation, telephoneValidation, mobileValidation, organizationNameValidation, nameValidation } from 'tools/inputValidations';\r\nimport { observer } from 'mobx-react';\r\nimport { xsOrIpad } from '../tools/browser';\r\nimport { pageHTitle } from 'tools/pageHeaderTitle';\r\nimport classNames from 'classnames';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'name', type: 'string', required: true },\r\n    { name: 'organizationName', type: 'string', required: true },\r\n    { name: 'mobile', type: 'string', required: true },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'email', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: true },\r\n    { name: 'addressString', type: 'string', required: true },\r\n    { name: 'isDefault', type: 'boolean', required: false },\r\n    { name: 'isDefaultInvoice', type: 'boolean', required: false },\r\n];\r\n\r\nexport class VContact extends VPage<CSelectContact> {\r\n\r\n    private userContactData: any;\r\n    private form: Form;\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            id: { visible: false },\r\n            name: { widget: 'text', label: '姓名', placeholder: '姓名', rules: nameValidation } as UiInputItem,\r\n            organizationName: { widget: 'text', label: '单位名称', placeholder: '单位名称', rules: organizationNameValidation } as UiInputItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiInputItem,\r\n            telephone: { widget: 'text', label: '电话', placeholder: '电话', rules: telephoneValidation } as UiInputItem,\r\n            email: { widget: 'email', label: 'Email', placeholder: 'Email', rules: emailValidation } as UiInputItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区', placeholder: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <div className=\"text-truncate\">\r\n                            {country && country.id && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province && province.id && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city && city.id && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county && county.id && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </div>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', className: \"text-truncate\", rules: addressDetailValidation } as UiInputItem,\r\n            isDefault: { widget: 'checkbox', label: '默认收货地址', className:\"w-auto border-0\" },\r\n            isDefaultInvoice: { widget: 'checkbox', label: '默认发票地址', className:\"w-auto border-0\" },\r\n            submit: { widget: 'button', label: '提交' },\r\n        }\r\n    }\r\n\r\n    async open(userContactData: any) {\r\n        this.userContactData = userContactData;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onSaveContact = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        await this.controller.saveContact(context.form.data);\r\n        // await this.controller.cApp.cSelectShippingContact.saveContact(context.form.data);\r\n    }\r\n\r\n    private onDelContact = async () => {\r\n        let { contact } = this.userContactData;\r\n        if (await this.vCall(VConfirmDeleteContact, contact) === true) {\r\n            await this.controller.delContact(contact);\r\n            this.closePage();\r\n        };\r\n    }\r\n\r\n    ContactDataP = () => {\r\n        let { currentUser } = this.controller.cApp;\r\n        if (!currentUser) return;\r\n        let { defaultOrganizationName, defaultName, defaultMobile, address, addressString } = currentUser;\r\n        return {\r\n            'organizationName': defaultOrganizationName,\r\n            'name': defaultName,\r\n            'mobile': defaultMobile,\r\n            'address': address,\r\n            'addressString': addressString\r\n        };\r\n    }\r\n    saveButton = (isSave?: boolean) => {\r\n        let btnContent: string;\r\n        if (isSave === undefined || !isSave) {\r\n            let { fromOrderCreation } = this.controller;\r\n            btnContent = fromOrderCreation ? '保存并使用' : '保存';\r\n        } else {\r\n            btnContent = '保存并使用';\r\n        };\r\n        return <button type=\"button\" className=\"btn btn-primary w-100\" onClick={this.onSaveContact}>{btnContent}</button>\r\n    }\r\n\r\n    private page = () => {\r\n        let contactData = _.clone(this.userContactData.contact);\r\n        let titleH: string = `${contactData !== undefined ? \"编辑\" : '添加'}地址`;\r\n        let buttonDel: any;\r\n        if (contactData !== undefined) {\r\n            buttonDel = <button className=\"btn btn-sm btn-info\" onClick={this.onDelContact}>删除</button>;\r\n        } else {\r\n            contactData = this.ContactDataP();\r\n        };\r\n        let footer = <div className={classNames(!xsOrIpad ? 'w-25 mx-auto' : '')}>\r\n            {this.saveButton()}\r\n        </div>;\r\n        let header: any;\r\n        if (xsOrIpad) {\r\n            header = titleH;\r\n        } else {\r\n            buttonDel = null;\r\n        }\r\n        return <Page header={header} footer={footer} right={buttonDel}>\r\n            <div className=\"App-container container text-left position-relative\">\r\n                {pageHTitle(titleH)}\r\n                <div className=\"postion-img\" style={{ left: \"-33%\", top: 200 }}>\r\n                    <img src='/images/triangle.svg' />\r\n                </div>\r\n                <Form ref={v => this.form = v} className={classNames(\"my-3\", !xsOrIpad ? 'w-50 mx-auto' : '')}\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={contactData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3} />\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    render(param?: any): JSX.Element {\r\n        this.userContactData = param;\r\n        let contactData = _.clone(this.userContactData.contact);\r\n        if (contactData === undefined) contactData = this.ContactDataP();\r\n        let footer = this.saveButton(true);\r\n        /* 选择后的地址无法渲染  存在问题 后续处理  完成后处理保存问题 */\r\n        /* if (this.controller.cApp.cSelectShippingContact.TIT) {\r\n            let itemsAddress = this.uiSchema.items.address as UiIdItem;\r\n            itemsAddress = {\r\n                ...itemsAddress,\r\n                pickId:async (context: Context, name: string, value: number) => await this.controller.pickAddress(context, name, value),\r\n            }\r\n        } */\r\n        return React.createElement(observer(() => {\r\n            return <div className=\"App-container container text-left\" >\r\n                <Form ref={v => this.form = v} className=\"my-3 w-min-30c h-max-20c overflow-auto scroll-S\"\r\n                    schema={schema}\r\n                    uiSchema={this.uiSchema}\r\n                    formData={contactData}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3} />\r\n                {footer}\r\n            </div>\r\n        }));\r\n    }\r\n}\r\n\r\nexport class VConfirmDeleteContact extends VPage<CSelectContact> {\r\n    async open(contact: any) {\r\n        this.openPage(this.page, contact);\r\n    }\r\n\r\n    private onConfirm = async () => {\r\n        await this.returnCall(true);\r\n        this.closePage();\r\n    }\r\n\r\n    private onCancel = async () => {\r\n        await this.returnCall(false);\r\n        this.closePage();\r\n    }\r\n\r\n    private page = (contact: any) => {\r\n        return <Page header=\"删除地址\" back=\"close\">\r\n            <div className=\"w-75 mx-auto border border-primary rounded my-3 p-3 bg-white\">\r\n                <div className=\"p-4 position-relative\">\r\n                    <i className=\"fa fa-question-circle position-absolute fa-2x text-warning\" style={{ left: 0, top: 0 }} />\r\n                    <b className=\"\">是否删除该地址？</b>\r\n                </div>\r\n                <div className=\"d-flex mt-3 justify-content-end\">\r\n                    <button className=\"btn btn-danger mr-3\" onClick={this.onConfirm}>删除地址</button>\r\n                    <button className=\"btn btn-outline-info mr-3\" onClick={this.onCancel}>取消</button>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, FA, tv } from 'tonva-react';\r\nimport { CSelectContact } from './CSelectContact';\r\nimport { observer } from 'mobx-react';\r\nimport { xs, xsOrIpad } from '../tools/browser';\r\nimport classNames from 'classnames';\r\nimport { Modal } from 'antd';\r\nimport { VContact } from './VContact';\r\nconst { confirm } = Modal;\r\n\r\nexport class VContactList extends VPage<CSelectContact> {\r\n    protected contactSelectSource: string;\r\n    async open() {\r\n\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private onContactRender = (contact: any) => {\r\n        let { onEditContact, onContactSelected, delContact } = this.controller;\r\n        let right = <>\r\n            {\r\n                !xsOrIpad && <div className=\"p-2 cursor-pointer text-info\" onClick={() => this.onDelContact(contact)}>\r\n                    <FA name=\"trash-o\" />\r\n                </div>\r\n            }\r\n            <div className=\"p-2 cursor-pointer text-info\" onClick={() => onEditContact(contact)}>\r\n                <FA name=\"edit\" />\r\n            </div>\r\n        </>;\r\n        return <LMR right={right} className=\"px-3 py-2\">\r\n            <div onClick={() => onContactSelected(contact, this.contactSelectSource || undefined)}>\r\n                {tv(contact)}\r\n            </div>\r\n        </LMR>\r\n    }\r\n\r\n    private onDelContact = async (contact: any) => {\r\n        let { delContact } = this.controller;\r\n        confirm({\r\n            title: <div className=\"text-center pb-2 h5\">提示</div>,\r\n            content: '是否删除该地址？',\r\n            okText: '删除地址',\r\n            okType: 'danger',\r\n            cancelText: '取消',\r\n            style: { top: '35%' },\r\n            onOk() { delContact(contact); },\r\n            onCancel() { },\r\n        });\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { onNewContact, userContacts } = this.controller;\r\n        let footer = <div className=\"d-flex justify-content-center\">\r\n            <button type=\"button\" className={classNames(\"btn btn-primary\", !xs ? 'w-25' : ' w-100')} onClick={() => onNewContact()} >新增地址</button>\r\n        </div>;\r\n        let contactList = <List items={userContacts} item={{ render: this.onContactRender }} none=\"无地址\" />;\r\n        let header: any, title = '地址管理';\r\n        if (xsOrIpad) header = title;\r\n        return <Page footer={footer} header={header}>\r\n            <div className=\"row mx-0\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 px-0 mx-auto\" style={{ maxWidth: !xs ? 600 : 'none' }}>\r\n                    {!xsOrIpad && <div className=\"text-left mt-5 px-3\"><h1>{title}</h1></div>}\r\n                    {contactList}\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n\r\n\r\n    render(param?: any): JSX.Element {\r\n        this.contactSelectSource = param;\r\n        let { userContacts } = this.controller;\r\n        let footer = <button className=\"btn btn-primary mt-2 mx-auto w-50\"\r\n            onClick={() => {\r\n                this.openVPage(VContact, {});\r\n                /*\r\n                this.controller.cApp.cOrder.modalTitle = 'contactInfo';\r\n                this.controller.cApp.cOrder.editContact = undefined;\r\n                */\r\n            }} >添加新地址</button>;\r\n        let contactList = <List items={userContacts} item={{ render: this.onContactRender }} className=\"h-max-20c overflow-auto border-bottom scroll-S\"\r\n            none={<div className=\"w-100 d-flex justify-content-center text-secondary my-3\">您现未有任何地址信息，请添加</div>} />;\r\n        return React.createElement(observer(() => {\r\n            return <div className=\"d-flex flex-column px-2\" style={{minWidth:300}}>\r\n                {contactList}\r\n                {footer}\r\n            </div>;\r\n        }));\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, BoxId, tv, FA } from 'tonva-react';\r\n\r\nimport { CAddress } from './CAddress';\r\nimport { observer } from 'mobx-react';\r\nimport { xsOrIpad } from '../tools/browser';\r\nimport { pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { GLOABLE } from 'global';\r\n\r\nexport class VAddress extends VPage<CAddress> {\r\n    protected provinceId: number;\r\n    protected cityId: number;\r\n    protected countyId: number;\r\n    protected backLevel = 0;\r\n\r\n    async open(param: any) {\r\n        let provinces = await this.controller.getCountryProvince(GLOABLE.CHINA);\r\n        this.openPage(this.page, { provinces: provinces });\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        this.backLevel++;\r\n        let header = this.titleHeader('选择所在省市');\r\n        return <Page header={header}>\r\n            <>\r\n                {pageHTitle('选择所在省市')}\r\n                <div className=\"row no-gutters pb-5\">\r\n                    {param.provinces.map((v: any) => this.renderPCC(v.province, this.onProvinceClick))}\r\n                </div>\r\n            </>\r\n        </Page>\r\n    }\r\n\r\n    titleHeader = (title:string) => {\r\n        if (xsOrIpad) return title;\r\n        return '';\r\n    }\r\n\r\n    renderPCC = (pcc: BoxId, onClick: any) => {\r\n        return <div key={pcc.id} className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            {tv(pcc, (value) => {\r\n                let { id, chineseName } = value;\r\n                return <>\r\n                    <div className=\"pt-1 pb-1 px-2\" onClick={() => onClick(id)}\r\n                        style={{ border: '1px solid #eeeeee', marginRight: '-1px', marginBottom: '-1px' }}\r\n                    >\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-right\" className=\"text-info small\" />\r\n                            &nbsp; {chineseName}\r\n                        </span>\r\n                    </div>\r\n                </>;\r\n            })}\r\n        </div>\r\n    }\r\n\r\n    onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let len = cities.length;\r\n            if (len === 1) {\r\n                await this.onCityClick(cities[0].city.id);\r\n                return;\r\n            }\r\n            if (len > 1) {\r\n                this.backLevel++;\r\n                let header = this.titleHeader('选择所在城市');\r\n                this.openPageElement(<Page header={header}>\r\n                    <>\r\n                        {pageHTitle('选择所在城市')}\r\n                        <div className=\"row no-gutters pb-5\">\r\n                            {cities.map(v => this.renderPCC(v.city, this.onCityClick))}\r\n                        </div>\r\n                    </>\r\n                </Page>);\r\n                return;\r\n            }\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            let header = this.titleHeader('选择所在区县');\r\n            this.openPageElement(<Page header={header}>\r\n                <>\r\n                    {pageHTitle('选择所在区县')}\r\n                    <div className=\"row no-gutters pb-5\">\r\n                        {counties.map(v => this.renderPCC(v.county, this.onCountyClick))}\r\n                    </div>\r\n                </>\r\n            </Page>);\r\n        } else {\r\n            this.closePage(this.backLevel);\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        console.log('this.backLevel',this.backLevel);\r\n        \r\n        this.closePage(this.backLevel);\r\n        this.saveAddress();\r\n    }\r\n\r\n    saveAddress = async () => {\r\n        await this.controller.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n        // await this.controller.cApp.cAddress.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n\r\n\r\nexport class VAddressRW extends VAddress {\r\n    onProvinceClick = async (provinceId: any) => {\r\n        this.provinceId = provinceId;\r\n        let cities = await this.controller.cApp.cAddress.getProvinceCities(provinceId);\r\n        if (cities) {\r\n            let { cOrder } = this.controller.cApp;\r\n            let len = cities.length;\r\n            if (len === 1) {\r\n                cOrder.modalTitleS['countyChoice'].preLevel = 'provinceChoice';\r\n                await this.onCityClick(cities[0].city.id);\r\n                return;\r\n            }\r\n            if (len > 1) {\r\n                this.backLevel++;\r\n                cOrder.cities = cities;\r\n                cOrder.modalTitle = 'cityChoice';\r\n                cOrder.modalTitleS['countyChoice'].preLevel = 'cityChoice';\r\n                return;\r\n            }\r\n        } else {\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    onCityClick = async (cityId: any) => {\r\n        this.cityId = cityId;\r\n        let counties = await this.controller.cApp.cAddress.getCityCounties(cityId);\r\n        if (counties && counties.length > 0) {\r\n            this.backLevel++;\r\n            this.controller.cApp.cOrder.counties = counties;\r\n            this.controller.cApp.cOrder.modalTitle = 'countyChoice';\r\n        } else {\r\n            this.saveAddress();\r\n        }\r\n    }\r\n\r\n    onCountyClick = async (countyId: any) => {\r\n        this.countyId = countyId;\r\n        this.saveAddress();\r\n    }\r\n\r\n    saveAddress = async () => {\r\n        await this.controller.cApp.cOrder.saveAddress(GLOABLE.CHINA, this.provinceId, this.cityId, this.countyId);\r\n    }\r\n}\r\n\r\nexport class VProvince extends VAddressRW{\r\n    render(param?: any): JSX.Element {\r\n        return <div className=\"row no-gutters\">\r\n                {param.provinces.map((v: any) => this.renderPCC(v.province, this.onProvinceClick))}\r\n            </div>\r\n    }\r\n}\r\n\r\nexport class VCity extends VAddressRW{\r\n    render(param?: any): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n            return <div className=\"row no-gutters\">\r\n                {param?.cities.map((v:any) => this.renderPCC(v.city, this.onCityClick))}\r\n            </div>\r\n        }))\r\n    }\r\n}\r\n\r\nexport class VCounty extends VAddressRW{\r\n    render(param?: any): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n            return <div className=\"row no-gutters\">\r\n                {param?.counties.map((v: any) => this.renderPCC(v.county, this.onCountyClick))}\r\n            </div>\r\n        }))\r\n    }\r\n}","import { VAddress } from './VAddress';\r\nimport { CUqBase } from 'tapp';\r\n\r\nexport class CAddress extends CUqBase {\r\n    protected async internalStart() {\r\n        this.openVPage(VAddress);\r\n    }\r\n\r\n    getCountryProvince = async (countryId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCountryProvinces.table({ country: countryId });\r\n    }\r\n\r\n    getProvinceCities = async (provinceId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetProvinceCities.table({ province: provinceId });\r\n    }\r\n\r\n    getCityCounties = async (cityId: number): Promise<any[]> => {\r\n        return await this.uqs.common.GetCityCounties.table({ city: cityId });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.returnCall(addressId);\r\n    }\r\n}\r\n","import { observable, makeObservable } from 'mobx';\r\nimport { Context, BoxId } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VContactList } from './VContactList';\r\nimport { VContact } from './VContact';\r\nimport { CAddress } from './CAddress';\r\n\r\nexport abstract class CSelectContact extends CUqBase {\r\n    fromOrderCreation: boolean;\r\n    userContacts: BoxId[] = [];\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n        makeObservable(this, {\r\n            userContacts: observable\r\n        });\r\n    }\r\n\r\n    async internalStart(fromOrderCreation: boolean/*contactType: ContactType*/) {\r\n        this.fromOrderCreation = fromOrderCreation;\r\n        let userContactMaps = await this.cApp.currentUser?.getContacts();\r\n        this.userContacts = userContactMaps.map((v: any) => v.contact);\r\n        this.openVPage(VContactList);\r\n        if (this.fromOrderCreation && (!this.userContacts || this.userContacts.length === 0)) {\r\n            this.onNewContact();\r\n        }\r\n    }\r\n\r\n    protected abstract getIsDefault(userSetting: any, userContactId: number): Promise<boolean>;\r\n\r\n    renderContentList = (param?: any) => {\r\n        return this.renderView(VContactList, param);\r\n    }\r\n\r\n    /**\r\n     * 打开地址新建界面\r\n     */\r\n    onNewContact = async () => {\r\n        this.openVPage(VContact, { contact: undefined });\r\n    }\r\n\r\n    /**\r\n     * 打开地址编辑界面\r\n     */\r\n    onEditContact = async (userContact: BoxId) => {\r\n        let userContactId = userContact.id;\r\n        let contact = await this.uqs.customer.Contact.load(userContactId);\r\n        let userSetting = await this.cApp.currentUser?.getSetting();\r\n        contact.isDefault = await this.cApp.cSelectShippingContact.getIsDefault(userSetting, userContactId);\r\n        contact.isDefaultInvoice = await this.cApp.cSelectInvoiceContact.getIsDefault(userSetting, userContactId);\r\n        let userContactData: any = { contact: contact };\r\n        this.openVPage(VContact, userContactData);\r\n    }\r\n\r\n    delContact = async (contact: any) => {\r\n        let { id } = contact;\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        if (contact.isDefault === undefined || contact.isDefaultInvoice=== undefined) {\r\n            let userSetting = await currentUser.getSetting();\r\n            if (contact.isDefault === undefined) {\r\n                contact.isDefault = await this.cApp.cSelectShippingContact.getIsDefault(userSetting, id);\r\n            };\r\n            if (contact.isDefaultInvoice === undefined) {\r\n                contact.isDefaultInvoice = await this.cApp.cSelectInvoiceContact.getIsDefault(userSetting, id);\r\n            };\r\n        };\r\n        await currentUser.delContact(id);\r\n        if (contact.isDefault) {\r\n            this.cApp.cSelectShippingContact.setDefaultContact(undefined);\r\n        };\r\n        if (contact.isDefaultInvoice) {\r\n            this.cApp.cSelectInvoiceContact.setDefaultContact(undefined);\r\n        };\r\n        let index = this.userContacts.findIndex(v => v.id === id);\r\n        if (index > -1)\r\n            this.userContacts.splice(index, 1);\r\n    }\r\n\r\n    saveContact = async (contact: any) => {\r\n        let contactBox = await this.saveContactData(contact);\r\n        this.backPage();\r\n        if (this.fromOrderCreation) {\r\n            this.onContactSelected(contactBox);\r\n        }\r\n        /* let { Contact: contactTuid } = this.uqs.customer;\r\n        let newContact = await contactTuid.save(undefined, contact);\r\n        let { id: newContactId } = newContact;\r\n        let contactBox = contactTuid.boxId(newContactId);\r\n\r\n        let { currentUser } = this.cApp;\r\n        await currentUser.addContact(newContactId);\r\n        this.userContacts.push(contactBox);\r\n        let { id, isDefault } = contact;\r\n        if (isDefault === true || this.userContacts.length === 1) {\r\n            await this.setDefaultContact(contactBox);\r\n        }\r\n        // contact.id !== undefined表示是修改了已有的contact(我们只能用“替换”表示“修改”，所以此时需要删除原contact)\r\n        if (id !== undefined) {\r\n            await currentUser.delContact(id);\r\n            let index = this.userContacts.findIndex(v => v.id === id);\r\n            if (index > -1)\r\n                this.userContacts.splice(index, 1);\r\n        }\r\n        this.backPage();\r\n        if (this.fromOrderCreation) {\r\n            this.onContactSelected(contactBox);\r\n        } */\r\n    }\r\n\r\n    saveContactData = async (contact: any) => {\r\n        let { Contact: contactTuid } = this.uqs.customer;\r\n        let newContact = await contactTuid.save(undefined, contact);\r\n        let { id: newContactId } = newContact;\r\n        let contactBox = contactTuid.boxId(newContactId);\r\n\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        await currentUser.addContact(newContactId);\r\n        this.userContacts.push(contactBox);\r\n        let { id, isDefault, isDefaultInvoice } = contact;\r\n        if (isDefault === true || this.userContacts.length === 1) {\r\n            await this.cApp.cSelectShippingContact.setDefaultContact(contactBox);\r\n        };\r\n        if (isDefaultInvoice === true || this.userContacts.length === 1) {\r\n            await this.cApp.cSelectInvoiceContact.setDefaultContact(contactBox);\r\n        };\r\n        // contact.id !== undefined表示是修改了已有的contact(我们只能用“替换”表示“修改”，所以此时需要删除原contact)\r\n        if (id !== undefined) {\r\n            await currentUser.delContact(id);\r\n            let index = this.userContacts.findIndex(v => v.id === id);\r\n            if (index > -1)\r\n                this.userContacts.splice(index, 1);\r\n        };\r\n        return contactBox;\r\n    }\r\n\r\n    protected abstract setDefaultContact(contactId: BoxId): Promise<any>;\r\n\r\n    onContactSelected = async (contact: BoxId, source?: string) => {\r\n        if (this.fromOrderCreation) {\r\n            this.backPage();\r\n            this.returnCall(contact);\r\n        }\r\n        if (source === 'createOrder') {\r\n            await this.cApp.cOrder.onContactSelected(contact);\r\n        }\r\n\r\n        if (source === 'pointOrder') {\r\n            await this.cApp.cPointProduct.onContactSelected(contact);\r\n        }\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    getContactList = async () => {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        let userContactMaps = await currentUser.getContacts();\r\n        this.userContacts = userContactMaps.map((v: any) => v.contact);\r\n    }\r\n}\r\n\r\nexport class CSelectShippingContact extends CSelectContact {\r\n    async getIsDefault(userSetting: any, userContactId: number): Promise<boolean> {\r\n        if (userSetting !== undefined) {\r\n            let { shippingContact } = userSetting;\r\n            return shippingContact && shippingContact.id === userContactId;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async setDefaultContact(contactId: BoxId) {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        await currentUser.setDefaultShippingContact(contactId);\r\n    }\r\n}\r\n\r\nexport class CSelectInvoiceContact extends CSelectContact {\r\n    async getIsDefault(userSetting: any, userContactId: number): Promise<boolean> {\r\n        if (userSetting !== undefined) {\r\n            let { invoiceContact } = userSetting;\r\n            return invoiceContact && invoiceContact.id === userContactId;\r\n        }\r\n        return false;\r\n    }\r\n\r\n     async setDefaultContact(contactId: BoxId) {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        await currentUser.setDefaultInvoiceContact(contactId);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { VPage, Page, nav } from 'tonva-react';\r\nimport { CPointProduct } from './CPointProduct';\r\n\r\nexport class OrderSuccess extends VPage<CPointProduct> {\r\n\r\n    async open(orderCreateResult: any) {\r\n        this.openPage(this.page, orderCreateResult);\r\n    }\r\n\r\n    private page = (orderCreateResult: any) => {\r\n        return <Page header=\"兑换成功\" afterBack={()=>{ nav.navigate(\"/pointshop\") }} back=\"close\">\r\n            <div className=\"p-3 bg-white mb-3\">\r\n                <div className=\"mb-3\">兑换成功，感谢您对百灵威的厚爱！</div>\r\n                <p className=\"\">\r\n                    订单: <span className=\"h5 text-info\">{orderCreateResult.no}</span><br /><br />\r\n                    我们将立刻处理您的订单，请注意查收到货短信。\r\n                </p>\r\n            </div>\r\n        </Page>\r\n    }\r\n}","import { BoxId } from 'tonva-react';\r\nimport { observable, computed, makeObservable } from 'mobx';\r\n\r\nexport class pointOrder {\r\n    webUser: any;   // OK\r\n    organization: BoxId;\r\n    customer: any;  //OK\r\n    salesRegion: BoxId;   // OK\r\n\r\n    shippingContact: BoxId; //OK\r\n    exchangeItems: OrderItem[] = [];\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            shippingContact: observable,\r\n            exchangeItems: observable,\r\n            amount: computed\r\n        });\r\n    }\r\n\r\n    get amount() {\r\n        return this.exchangeItems.reduce((pv, cv) => (pv + cv.subAmount), 0);\r\n    };\r\n\r\n    getDataForSave() {\r\n        let exchangeItems: any[] = [];\r\n        this.exchangeItems.forEach(oi => {\r\n            exchangeItems.push({\r\n                product: oi.product, point: oi.point, quantity: oi.quantity //, pack: oi.pack,\r\n                , subAmount: oi.quantity * oi.point\r\n            })\r\n        });\r\n        return {\r\n            webUser: this.webUser,\r\n            organization: this.organization,\r\n            customer: this.customer,\r\n            shippingContact: this.shippingContact,\r\n            amount: this.amount,\r\n            exchangeitems: exchangeItems, // 前面的必须是小写的\r\n            salesRegion: this.salesRegion\r\n        }\r\n    }\r\n}\r\n\r\nexport class OrderItem {\r\n    param?: any;\r\n    product: BoxId;\r\n    pack: BoxId;\r\n    quantity: any;\r\n    point: any;\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            pack: observable,\r\n            quantity: observable,\r\n            point: observable,\r\n            subAmount: computed\r\n        });\r\n    }\r\n\r\n    get subAmount() {\r\n        return this.quantity * this.point;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, EasyDate, tv, List } from 'tonva-react';\r\nimport { CPointProduct } from './CPointProduct';\r\nimport { OrderItem } from './pointOrder';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport { xs } from 'tools/browser';\r\nconst ExchangeState: { [state: string | number]: string } = {\r\n    12: \"待发运\",\r\n    13: \"已发运\",\r\n    14: \"已完成\",\r\n    15: \"已取消\",\r\n    \"canceled\": \"已取消\",\r\n};\r\n\r\nexport class VExchangeHistoryDetail extends VPage<CPointProduct> {\r\n\r\n    async open(order: any) {\r\n\r\n        this.openPage(this.page, order);\r\n    }\r\n\r\n    exchangeTransportation = async (transportation: any) => {\r\n        let { cApp } = this.controller;\r\n        await cApp.cOrder.openOrderTrans(transportation);\r\n    }\r\n\r\n    private renderexchangeItem = (orderItem: OrderItem) => {\r\n        let { product, pack, quantity, point, param } = orderItem;\r\n        let transportation: any;\r\n        if (param?.transportation) {\r\n            let { carrier, waybillNumber } = param.transportation;\r\n            transportation = {transNumber: waybillNumber, expressLogistics: carrier};\r\n        };\r\n        let exchangeTransUI: JSX.Element;\r\n        if (transportation) exchangeTransUI = <div className=\"text-right\" >\r\n            <button onClick={() => { this.exchangeTransportation(transportation) }} className=\"btn btn-sm btn-outline-primary\" >查看物流</button>\r\n        </div>;\r\n        return <>\r\n            {tv(product, (v) => {\r\n                return <div className=\"row m-1 w-100\">\r\n                    <div title={v.description} className=\"col-4 col-sm-3 col-lg-2 m-0 p-0\"><PointProductImage chemicalId={v.imageUrl} className=\"w-100\"  /></div>\r\n                    <div className=\"col-8 col-sm-9 col-lg-10 small\">\r\n                        <div><label>{v.descriptionC}</label></div>\r\n                        <div className=\"d-flex justify-content-between my-3\">\r\n                            <div className=\"mt-1\"><b>{pack ? <>{tv(pack, (c) => <>{c.radioy}{c.unit}</>)}</> : v.grade}</b></div>\r\n                            <div>\r\n                                <span className=\"text-danger h6\">{(point * quantity)}</span>\r\n                                <small className=\"text-muted\">分 ({point} × {quantity})</small>\r\n                            </div>\r\n                        </div>\r\n                        {exchangeTransUI}\r\n                    </div>\r\n                </div>\r\n            })}\r\n        </>;\r\n    }\r\n\r\n    private page = (order: any) => {\r\n        let { brief, data } = order;\r\n        let { no, date, state } = brief;/* state: \"canceled\" */\r\n        let { exchangeItems, shippingContact, amount } = data;\r\n        let statestr: string = ExchangeState[state];\r\n        let header: any = <>订单详情: {no} {statestr ? `(${statestr})` : \"\" }</>\r\n        if (!xs) header = '';\r\n        let UI_CON_state = statestr ? <b className=\"float-right h5 text-danger\">兑换单{statestr}</b> : <></>;\r\n        return <Page header={header}>\r\n            { !xs && <div className=\"alert alert-info alert-signin mt-3\">订单编号 <a href=\"#\" className=\"alert-link\">{no}</a>  {UI_CON_state}</div>}\r\n            <List items={exchangeItems} item={{ render: this.renderexchangeItem }} />\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">收货地址:</div>\r\n                <div className=\"col-9\">{tv(shippingContact)}</div>\r\n            </div>\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">下单时间:</div>\r\n                <div className=\"col-9 text-right\"><EasyDate date={date} /></div>\r\n            </div>\r\n            <div className=\"bg-white p-3 my-1 text-right\">\r\n                <span className=\"text-danger font-weight-bold\">总积分: {amount}</span>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import { observer } from 'mobx-react';\r\nimport * as React from 'react';\r\n\r\nexport interface PColumnsItem{\r\n    id: number,\r\n    name:string,\r\n}\r\n\r\nexport interface PListTableProps{\r\n    columns: PColumnsItem[],\r\n    content?: any,\r\n}\r\n\r\nexport class ListTable extends React.Component<PListTableProps>{\r\n    /* constructor(props:any) {\r\n        super(props);\r\n    } */\r\n\r\n    render() {\r\n        let { columns, content } = this.props;\r\n        return  React.createElement(observer(() => {\r\n            return <div className=\"tab-pane fade show active mt-3\" id=\"nav-order-1\" role=\"tabpanel\">\r\n\t\t\t\t<div className=\"table-responsive-vertical shadow-z-1\">\r\n\t\t\t\t\t<table id=\"table\" className=\"table article-product-table order-wrap\">\r\n\t\t\t\t\t\t<thead style={{background:'#D8D8D8'}}>\r\n                            <tr>\r\n                                {columns.map((v: any) =>(<th key={v.id} className=\"py-2\">{v.name}</th>))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{content}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\t\t\t\t</div>\r\n\t\t\t</div>    \r\n\t\t}));\r\n    }\r\n}","import { VPage, Page, EasyDate, Ax, nav } from 'tonva-react';\r\nimport { CPointProduct } from './CPointProduct';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { ListTable } from 'tools/listTable';\r\n\r\nexport class VExchangeHistory extends VPage<CPointProduct> {\r\n\r\n    private exchangeHistory: any[] = [];        /*积分产品列表 */\r\n    async open(param?: any) {\r\n        this.exchangeHistory = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private renderExchangeHistory = (pointProduct: any, index: number) => {\r\n        let { openOrderDetail } = this.controller;\r\n        let { id, no, date } = pointProduct;\r\n        return <div className=\"p-3 justify-content-between\">\r\n            <div className=\"mr-5\" onClick={() => openOrderDetail(id)}><span className=\"small text-muted\">兑换单号: </span><strong>{no}</strong></div>\r\n            <div className=\"small text-muted\"><EasyDate date={date} /></div>\r\n        </div>;\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let header = CrPageHeaderTitle('兑换历史记录');\r\n        return <Page header={header}>\r\n            {pageHTitle('兑换历史记录')}\r\n            <div className=\"d-none d-lg-block p-2 mt-2 breadcrumbs\"><Ax href=\"/pointshop\" >商城首页 </Ax> 兑换记录</div>\r\n            {/* <List items={this.exchangeHistory} item={{ render: this.renderExchangeHistory }} none=\"暂无记录\"></List> */}\r\n            {this.historyListTable()}\r\n        </Page>;\r\n    });\r\n\r\n    historyListTable = () => {\r\n        if (!this.exchangeHistory.length)\r\n            return <div className=\"my-5 text-secondary d-flex justify-content-center\">暂无记录</div>;\r\n        let columns = [{ id: 1, name: '兑换单号' },{ id: 2, name: '日期' },{ id: 3, name: '详情' }];\r\n        let content = <>{\r\n            this.exchangeHistory.map((v: any) => {\r\n                let { id, date, no } = v;\r\n                return <tr className=\"article-product-list order-wrap-list\" key={id}>\r\n                    <td data-title={columns[0].name}>{no}</td>\r\n                    <td data-title={columns[1].name}><EasyDate date={date} /></td>\r\n                    <td data-title={columns[2].name}>\r\n                        <button onClick={() => nav.navigate(\"/pointshop/orderDetail/\" + id) /* this.controller.openOrderDetail(id) */}\r\n                            type='button' className=\"btn-primary w-4c\">详情</button>\r\n                    </td>\r\n                </tr>\r\n            })\r\n        }</>;\r\n        return <ListTable columns={columns} content={content} ></ListTable>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, Scroller, EasyDate, List } from 'tonva-react';\r\nimport { CPointProduct } from './CPointProduct';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { renderPointRecord } from './VMyPoint';\r\nimport { RevenueExpenditure } from './basicRefer';\r\nimport { xs } from 'tools/browser';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { ListTable } from 'tools/listTable';\r\n\r\nexport class VRevenueExpenditure extends VPage<CPointProduct> {\r\n    private showList: any = [];\r\n    private tipNone: string = '『 无 』';\r\n    async open(param?: any) {\r\n        this.openPage(this.page, { header: param });\r\n    }\r\n\r\n    private matchData = (header: string) => {\r\n        let { pagePointHistory, cApp } = this.controller;\r\n        let { POINTHISTORY, SIGNINHISTORY } = RevenueExpenditure;\r\n        switch (header) {\r\n            case POINTHISTORY:\r\n                this.showList = pagePointHistory;\r\n                this.tipNone = '『 未曾拥有过 不曾失去过 』';\r\n                return;\r\n            case SIGNINHISTORY:\r\n                this.showList = cApp.cSignIn.signinPageHistory;\r\n                this.tipNone = '『 从未得到过 开启首签之旅 』';\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    protected onScrollBottom = async (scroller: Scroller) => {\r\n        this.showList.more();\r\n    }\r\n\r\n    private page = observer((param: any) => {\r\n        let { header } = param;\r\n        let headerT = header;\r\n        this.matchData(header);\r\n        let none = <div className=\"mt-4 text-secondary d-flex justify-content-center\">{this.tipNone}</div>;\r\n        header = CrPageHeaderTitle(header);\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom}>\r\n            {pageHTitle(headerT)}\r\n            <div className=\"mx-auto\">\r\n                {\r\n                    xs \r\n                        ? <List items={this.showList} item={{ render: renderPointRecord }} none={none} />\r\n                        : this.historyListTable()\r\n                }\r\n            </div>\r\n        </Page>;\r\n    });\r\n\r\n    private historyListTable = (): JSX.Element => {\r\n        if (this.showList && this.showList.items && !this.showList.items.length)\r\n            return <div className=\"my-5 text-secondary d-flex justify-content-center\">{this.tipNone}</div>;\r\n        let columns = [{ id: 1, name: '简述' }, { id: 2, name: '积分说明' }, { id: 3, name: '日期' }, { id: 4, name: '收支' }];\r\n        let sources: { [s: number]: string } = { 1: \"积分券下单\", 2: \"签到\", 3: \"兑换\", 5: \"下单\", 8: \"抽奖\", 9: \"退货\" };\r\n        let PointTypes: { [type: number]: string } = { 1: \"总积分\", 2: \"有效积分\", 3: \"用掉的积分\" };\r\n        let content = <>{\r\n            this.showList && this.showList.items && this.showList.items.map((v: any) => {\r\n                let { id, date, comments, point, source, pointType } = v;\r\n                let desc = `${sources[source]}${PointTypes[pointType] ? `(${PointTypes[pointType]})` : \"\"}`;\r\n                // else desc = sources[source];\r\n                return <tr className=\"article-product-list order-wrap-list\" key={id}>\r\n                    <td data-title={columns[0].name}>{comments}</td>\r\n                    <td data-title={columns[1].name}>{desc}</td>\r\n                    <td data-title={columns[2].name}><EasyDate date={date} /></td>\r\n                    <td data-title={columns[3].name} className=\"text-danger font-weight-bolder\">{point >= 0 ? '+' : ''}{point}</td>\r\n                </tr>\r\n            })\r\n        }</>;\r\n        return <ListTable columns={columns} content={content} ></ListTable>;\r\n\t}\r\n}\r\n","export default __webpack_public_path__ + \"static/media/giftPlate.c5dd75b1.png\";","export default \"data:image/png;base64,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\"","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage, Page, FA, tv, Form, UiSchema, UiCustom } from 'tonva-react';\r\nimport { CPointProduct } from './CPointProduct';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport { MinusPlusWidget } from 'tools';\r\nimport { schema, TopicDivision } from './VPointProduct';\r\nimport giftPlate from 'images/giftPlate.png';\r\nimport { observable } from 'mobx';\r\nimport 已下架 from 'images/已下架.png';\r\n\r\nexport class VPointProductDetail extends VPage<CPointProduct> {\r\n    /* async open(param?: any) {\r\n        this.openPage(this.page);\r\n    } */\r\n\r\n    header() {\r\n        return \"产品详情\";\r\n    }\r\n\r\n    right() {\r\n        return this.controller.renderSelectedLable();\r\n    }\r\n\r\n    footer() {\r\n        return React.createElement(observer(() => {\r\n            let { pointToExchanging, myEffectivePoints } = this.controller;\r\n            let availablePoints = (myEffectivePoints - pointToExchanging) >= 0 ? (myEffectivePoints - pointToExchanging) : 0;\r\n            let pointsInsuffTip = availablePoints === 0 ? <span className=\"text-danger small\">( <FA name=\"exclamation-circle\" />积分不足 )</span> : null;\r\n            return <div className=\"d-flex justify-content-between m-2\">\r\n                <div className=\"align-self-center\">当前可用:<span className=\"text-danger h4\" >{availablePoints}</span>分 {pointsInsuffTip}</div>\r\n            </div>;\r\n        }));\r\n    }\r\n\r\n    content() {\r\n        return <this.page />;\r\n    };\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            product: { visible: false },\r\n            // pack: { visible: false },\r\n            quantity: {\r\n                widget: 'custom',\r\n                label: null,\r\n                className: 'text-center',\r\n                WidgetClass: MinusPlusWidget,\r\n                onChanged: this.controller.onQuantityChanged as any\r\n            } as UiCustom,\r\n            // point: { visible: false },\r\n            // imageUrl: { visible: false },\r\n        }\r\n    }\r\n\r\n    private renderVDefaultPost = () => {\r\n        return this.controller.renderVDefaultPost();\r\n    }\r\n\r\n    protected renderPointProduct = (pointProduct: any) => {\r\n        let { cApp } = this.controller;\r\n        let { currentUser } = cApp;\r\n        let { product, OffShelf } = pointProduct;\r\n        let OffShelfTip: any = undefined;\r\n        if (OffShelf) OffShelfTip = <div className=\"position-absolute w-25\" style={{ top: 0, left: 15 }}>\r\n            <img src={已下架} alt=\"\" className=\"w-100\" />\r\n        </div>\r\n        return <>\r\n            {tv(product, (v) => {\r\n                return <div className=\"w-100 row mx-0\">\r\n                    <div title={v.description} className=\"col-12 col-sm-6 position-relative\">\r\n                        <PointProductImage chemicalId={v.imageUrl} className=\"w-100 h-min-12c\" style={{}} />\r\n                        {OffShelfTip}\r\n                    </div>\r\n                    <div className=\"small col-12 col-sm-6 pt-sm-4\">\r\n                        <div className=\"mt-2\">{v.descriptionC}</div>\r\n                        <div className=\"my-2\">{v.grade}</div>\r\n                        <div className=\"row m-0 p-0\">\r\n                            <div className=\"col-5 m-0 p-0\">\r\n                                <span className=\"text-danger h5\">{v.point}</span>\r\n                                <small>分</small>\r\n                            </div>\r\n                            <div className=\"col-7 d-flex justify-content-end align-items-right m-0 p-0\">\r\n                                {\r\n                                    !OffShelf && currentUser?.hasCustomer\r\n                                        ? <Form schema={schema} uiSchema={this.uiSchema} formData={pointProduct} className=\"mr-2\" />\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { pointProductsDetail } = this.controller;\r\n        return <div className=\"row mx-0 mt-1\">\r\n            <div className=\"col-md-3 d-none d-md-block py-0 py-md-2 mb-0 mb-md-4\">\r\n                {this.controller.renderShopSideBar()}\r\n            </div>\r\n            <div className=\"col-md-9 px-0 px-md-1\">\r\n                <div className=\"\">{this.renderPointProduct(pointProductsDetail)}</div>\r\n                <div className=\"d-flex mt-2\"><img src={giftPlate} alt=\"\" className=\"m-auto w-75\" /></div>\r\n            </div>\r\n        </div>\r\n        // return <Page header='产品详情' right={right} footer={footer} className=\"bg-white\">\r\n        //     <div className=\"\">{this.renderPointProduct(pointProductsDetail)}</div>{/* nav-tabs */}\r\n        //     <div className=\"d-flex mt-2\"><img src={giftPlate} alt=\"\" className=\"m-auto w-75\" /></div>\r\n        //     {/* {pointProductsDetail.htmlFragment\r\n        //         ? <div className=\"mx-2 mt-1\">\r\n        //             {TopicDivision('产品介绍')}\r\n        //             <div dangerouslySetInnerHTML={{ __html: pointProductsDetail.htmlFragment }} className=\"w-100\"></div>\r\n        //         </div>\r\n        //         : <>{this.renderVDefaultPost()}</>\r\n        //     } */}\r\n        // </Page>;\r\n    });\r\n}\r\n","import * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport { View } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { CPointProduct } from './CPointProduct';\r\n\r\nexport class VSelectedLable extends View<CPointProduct> {\r\n\r\n    render(): JSX.Element { \r\n        return <this.content />\r\n    };\r\n\r\n    private content = observer(() => {\r\n        let { pointProductsSelected, openSelectedPointProduct } = this.controller;\r\n        let { length } = pointProductsSelected;\r\n        let count = 0\r\n        let badge, onClick:any, pointer;\r\n        if (length) {\r\n            for (let i of pointProductsSelected) {\r\n                count += i.quantity;\r\n            }\r\n        }\r\n        if (count > 0) {\r\n            onClick = openSelectedPointProduct;\r\n            pointer = 'cursor-pointer';\r\n            if (count < 100) badge = <u>{count}</u>;\r\n            else badge = <u>99+</u>;\r\n        }\r\n        return <div className={classNames('jk-cart ml-1 mr-2', pointer)} onClick={()=>{if(onClick){onClick()}}}>\r\n            <div>\r\n                <span className=\"fa-stack\">\r\n                    <i className=\"fa fa-square fa-stack-2x text-white\"></i>\r\n                    <i className=\"fa fa-shopping-cart fa-stack-1x text-info\"></i>\r\n                </span>\r\n                {badge}\r\n            </div>\r\n        </div>\r\n    });\r\n}","export default __webpack_public_path__ + \"static/media/infb.a542e5de.jpg\";","import * as React from 'react';\r\nimport { View } from 'tonva-react';\r\nimport { CPointProduct } from '../CPointProduct';\r\nimport infb from 'images/infb.jpg'\r\n\r\nexport class VDefaultPost extends View<CPointProduct> {\r\n\r\n    render(): JSX.Element {\r\n        return <this.content />;\r\n    }\r\n\r\n    private content = (): any => {\r\n        return <div className=\"pt-2 px-2 bg-white\">\r\n            {/* <div className=\"border-bottom border-danger h5 py-1 mb-2\">公司概况</div> */}\r\n            <div style={{ textIndent: '2em' }}>\r\n                <p>百灵威科技有限公司是一家致力于研发和生产化学及相关产品，集敏捷制造、全球营销和现代物流为一体的高科技企业。百灵威在中国内地、香港，欧洲及北美等多个国家和地区设有物流中心，实行专业化、个性化的一站式服务，为全球超过200,000 名科技和工业领域的客户提供产品资源及配套技术服务。</p>\r\n                <p>百灵威现代化的研发制造基地拥有一支富有创造天赋的专业团队，新技术、新产品层出不穷，J&K®、Amethyst®、J&K Scientific® 产品已多达30,000 种以上，并呈几何级数增长。作为国际化的资源平台公司，百灵威致力于促进全球产业链的合作，不断推进集约式发展，集成资源600,000 余种，包括高纯有机试剂、无机试剂、生化试剂、分析试剂、标准品、金属有机催化剂、医药中间体、超精细材料、以及实验室仪器、耗材等众多产品。百灵威的柔性生产线能够快速提供小批量、多品种的原料，满足实验、中试以至规模化生产的需要。</p>\r\n                <p>百灵威秉承“诚实守信、开拓创新、合作共赢、实现卓越”的价值观，致力于与化学、生物医药、精细化工、食品工业、现代农业、电子、日化、石化、纺织、生命科学、环境保护、疾病控制、新能源、新材料、航空航天等领域的客户建立互信、长久的合作关系，为实现“促进科技与工业发展，造福人类”的使命而不懈努力！</p>\r\n                <img alt=\"\" src={infb} className=\"w-100\" />\r\n            </div>\r\n        </div >\r\n    };\r\n}\r\n","import * as React from 'react';\r\nimport { View, Ax, List } from 'tonva-react';\r\nimport { CPointProduct, topicClumps } from '../CPointProduct';\r\n\r\nexport class VShopSideBar extends View<CPointProduct> {\r\n\r\n    render(): JSX.Element {\r\n        let { pointProductGenre } = this.controller;\r\n        let  Gengres = [{ id: null, name: \"商城首页\" },{ id: 5002, name: \"积分商城\" }, ...pointProductGenre, ...Object.values(topicClumps)];\r\n        return <List items={Gengres}\r\n            item={{\r\n                render: (el: any) => {\r\n                    let { id, name } = el;\r\n                    let url = id ? `/pointshop/productLine/${id}` : \"/pointshop\";\r\n                    return <><Ax href={url} className=\"w-100 text-center\" >{name}</Ax></>\r\n                },\r\n                className: \"py-2\"\r\n            }}\r\n            className=\"cus-list border rounded\"\r\n        />;\r\n\t}\r\n}\r\n","/* eslint-disable */\r\nimport { VPage } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { CApp } from 'tapp';\r\n\r\nexport class VError extends VPage<CApp> {\r\n\r\n    header() {\r\n        return this.isWebNav === true ? null : <></>;\r\n    }\r\n\r\n    right() {\r\n        return this.isWebNav === true ? null : <></>;\r\n    }\r\n\r\n    content() {\r\n        return <this.contentView />\r\n    }\r\n\r\n    private contentView = observer(() => {\r\n        return <div className=\"container my-3\">\r\n            <div className=\"row p-5 m-5\">\r\n                <div className=\"col text-center\">\r\n                    <i className=\"fa fa-exclamation fa-5x text-warning\" aria-hidden=\"true\"></i>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <p className=\"h3\">抱歉，页面无法访问...</p>\r\n                    <p className=\"text-mute\">\r\n                        请检查网址是否有误。\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    })\r\n}","import { BoxId, RowContext, QueryPager, nav } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { VPointProduct, VSelectedPointProduct } from 'pointMarket/VPointProduct';\r\nimport { VExchangeOrder } from './VExchangeOrder';\r\nimport { VMyPoint } from './VMyPoint';\r\nimport { CSelectShippingContact } from 'customer/CSelectContact';\r\nimport { OrderSuccess } from './OrderSuccess';\r\nimport { pointOrder, OrderItem } from './pointOrder';\r\nimport { VExchangeHistoryDetail } from './VExchangeHistoryDetail';\r\nimport { VExchangeHistory } from './VExchangeHistory';\r\nimport { VRevenueExpenditure } from './VRevenueExpenditure';\r\nimport { VPointProductDetail } from './VPointProductDetail';\r\nimport { VSelectedLable } from './VSelectedLable';\r\nimport { GLOABLE } from 'global';\r\nimport { VDefaultPost } from './view/VDefaultPost';\r\nimport moment from 'moment';\r\nimport { VShopSideBar } from './view/VShopSideBar';\r\nimport { VError } from 'tools/VError';\r\nimport { DxExchangeMainState } from '../uq-app/uqs/Jk积分商城/Jk积分商城';\r\n\r\nexport const topicClump = {\r\n    productGenre: '产品分类',\r\n    newRecommend: '新品推荐',\r\n    hotProduct: '热门产品',\r\n}\r\n\r\nexport const Arr: any[] = [\r\n    { id: 5000, name: topicClump.newRecommend, typeName: topicClump.newRecommend },\r\n    { id: 5001, name: topicClump.hotProduct, typeName: topicClump.hotProduct },\r\n];\r\n\r\nfunction Arrtoobj(arr: any[]) {\r\n    let obj: any = {};\r\n    arr.forEach((el: any) => {\r\n        obj[el.id] = el;\r\n    });\r\n    return obj;\r\n}\r\n\r\nexport const topicClumps: { [id: number]: { id: number, name: string, typeName: string } } = Arrtoobj(Arr);\r\n\r\nexport const OrderSource = {\r\n    EXCHANGEORDER: '兑换订单',\r\n    PRIZEORDER: '奖品订单',\r\n}\r\n\r\nexport const PointIntervals: { [state: string]: { startPoint: number, endPoint: number } } = {\r\n    \"below\": { startPoint: 0, endPoint: 10000 },\r\n    \"firstLevel\": { startPoint: 10000, endPoint: 50000 },\r\n    \"twoLevel\": { startPoint: 50000, endPoint: 150000 },\r\n    \"above\": { startPoint: 150000, endPoint: Infinity },\r\n}\r\n\r\nexport class CPointProduct extends CUqBase {\r\n\r\n    myPoints: any[] = [];                  /* 我的积分 */\r\n    myEffectivePoints: number = 0;         /* 我的积分(计算后) */\r\n    myTotalPoints: number = 0;             /* 我的积分(计算后) */\r\n    myPointTobeExpired: number = 0;        /* 我的快过期积分 */\r\n\r\n    pointProducts: any[] = [];             /* 可兑产品列表 */\r\n    newPointProducts: any[] = [];          /* 新品推荐 */\r\n    hotPointProducts: any[] = [];          /* 热门产品 */\r\n    pointProductsSelected: any[] = [];     /* 已选择产品列表 */\r\n    pointProductsDetail: any;              /* 详情产品 */\r\n    pointToExchanging: number = 0;              /* 将要兑换的积分总计 */\r\n    orderData: pointOrder = new pointOrder();   /* 正在提交的产品列表*/\r\n    couponId: number;                      /* 积分码 */\r\n    platformOrderId: any;                  /* 平台合同号 */\r\n    platformOrder: any[] = [];             /* 平台合同 */\r\n    pagePointHistory: QueryPager<any>;     /* 积分详情 */\r\n    pointProductGenre: any[] = [];         /* 产品类型列表 */\r\n\r\n    visible: boolean = false;\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            myPoints: observable,\r\n            myEffectivePoints: observable,\r\n            myTotalPoints: observable,\r\n            myPointTobeExpired: observable,\r\n            pointProducts: observable,\r\n            newPointProducts: observable,\r\n            hotPointProducts: observable,\r\n            pointProductsSelected: observable,\r\n            pointProductsDetail: observable,\r\n            pointToExchanging: observable,\r\n            orderData: observable,\r\n            couponId: observable,\r\n            platformOrderId: observable,\r\n            platformOrder: observable,\r\n            pagePointHistory: observable,\r\n            pointProductGenre: observable,\r\n            visible: observable,\r\n        });\r\n    }\r\n\r\n    protected async internalStart(param?: any) { }\r\n\r\n    /**\r\n     * 刷新积分\r\n     */\r\n    refreshMypoint = async () => {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        this.myPoints = await currentUser.getPoints();\r\n        this.myEffectivePoints = this.myPoints.reduce((v, e) => { return v + e.effectiveLeftPoint }, 0);\r\n        this.myTotalPoints = this.myPoints.reduce((v, e) => { return v + e.totalLeftPoint }, 0)\r\n        let date = new Date();\r\n        let dateYear = date.getFullYear();\r\n        this.myPointTobeExpired = this.myPoints.reduce((v, e) => { return v + ((dateYear - e.pointYear) > 1 ? e.effectiveLeftPoint : 0) }, 0);\r\n    }\r\n\r\n    /**\r\n     * 初始化可兑换产品列表(暂时弃用)\r\n     */\r\n    initPointProducts = () => {\r\n        if (this.pointProductsSelected.length) {\r\n            for (let i of this.pointProductsSelected) {\r\n                this.pointProducts.forEach((el: any) => {\r\n                    if (i.product.id === el.product.id) el.quantity = i.quantity;\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 清空选择的积分产品  \r\n     */\r\n    clearSelectedPointsProducts = () => {\r\n        this.orderData.exchangeItems = undefined;\r\n        this.pointProductsSelected.length = 0;\r\n        this.pointToExchanging = 0;\r\n    }\r\n\r\n    /**\r\n     * 积分管理页面\r\n     */\r\n    openMyPoint = async (param?: any) => {\r\n        await this.refreshMypoint();        /* 刷新积分 */\r\n        await this.getPointProductGenre();  /* 获取产品类型 */\r\n        this.newPointProducts = await this.getNewPointProducts();    /* 获取新品推荐 */\r\n        this.hotPointProducts = await this.getHotPointProducts();    /* 获取热门产品 */\r\n        this.openVPage(VMyPoint);\r\n    }\r\n\r\n    /**\r\n     * 可兑换产品页面\r\n     */\r\n    openPointProduct = async (param?: any) => {\r\n        let result: any;\r\n        if (param) {\r\n            let { id } = param;\r\n            result = topicClumps[id];\r\n            if (!result) {\r\n                let res: any = await this.uqs.积分商城.Genre.load(Number(id));\r\n                result = res ? { ...res, typeName: topicClump.productGenre } : undefined;\r\n            };\r\n            if (result) {\r\n                this.pointProducts = await this.getPointProductByDifferentPlot(result);\r\n            };\r\n        };\r\n        await this.getPointProductGenre();\r\n        await this.refreshMypoint();\r\n        this.openVPage(VPointProduct, result);\r\n    }\r\n\r\n    /**\r\n     * 可兑换产品的详情(可生成浏览量)\r\n     */\r\n    openPointProductDetail = async (pointProduct: any) => {\r\n        let { id, product } = pointProduct;\r\n        if (!product) pointProduct.product = await this.uqs.积分商城.PointProductLib.boxId(Number(id));\r\n        this.pointProductsDetail = pointProduct;\r\n        if (pointProduct.product) {\r\n            if (this.pointProductsSelected.length) {\r\n                for (let i of this.pointProductsSelected) {\r\n                    if (pointProduct.product.id === i.product.id)\r\n                        this.pointProductsDetail.quantity = i.quantity;\r\n                }\r\n            } else\r\n                this.pointProductsDetail.quantity = 0;\r\n            let fm = 'YYYY-MM-DD HH:mm:ss';\r\n            let findProduct = await this.getPointProductLibLoad(pointProduct.product.id);\r\n            if (findProduct !== undefined && moment(undefined, fm) >= moment(findProduct.endDate, fm))\r\n                this.pointProductsDetail.OffShelf = true;/* 是否可兑换（无法兑换） */\r\n            // this.pointProductsDetail.htmlFragment = await this.getPointProductDetailFragment(this.pointProductsDetail);\r\n            await this.setPointProductVisits(pointProduct.product?.obj);//生成浏览量\r\n        };\r\n        await this.refreshMypoint();\r\n        await this.getPointProductGenre();\r\n        this.openVPage(VPointProductDetail);\r\n    }\r\n\r\n    renderShopSideBar = () => {\r\n        return this.renderView(VShopSideBar);\r\n    }\r\n\r\n    onContactSelected = async (contact: BoxId) => {\r\n        this.orderData.shippingContact = contact;\r\n        this.visible = false;\r\n    }\r\n\r\n    renderContnet = () => {\r\n        return this.cApp.cSelectShippingContact.renderContentList(\"pointOrder\");\r\n    }\r\n\r\n    /**\r\n     * 据商品id 获取对应的商品所有信息\r\n     */\r\n    getPointProductLibLoad = async (id: number) => {\r\n        return await this.uqs.积分商城.PointProductLib.load(id);\r\n    }\r\n\r\n    /**\r\n     * 获取积分商品详情的html片段(编译后)\r\n     */\r\n    getPointProductDetailFragment = async (pointProduct: any) => {\r\n        // this.pointProductsDetail.htmlFragment = '<div style=\"color:red;text-align:center;margin-top:2rem;\">帖文 待开发</div>';\r\n        let result = await window.fetch(GLOABLE.CONTENTSITE + '/partial/pointproductdetail/' + pointProduct.product.id);\r\n        if (result.ok) {\r\n            let content = await result.text();\r\n            return content;\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 积分收支明细页面\r\n     */\r\n    openRevenueExpenditure = async (topic?: any) => {\r\n        await this.getPointHistory();\r\n        this.openVPage(VRevenueExpenditure, topic)\r\n    }\r\n\r\n    /**\r\n     * 积分兑换记录页面\r\n     */\r\n    openExchangeHistory = async () => {\r\n        /* let promises: PromiseLike<any>[] = [\r\n            this.uqs.积分商城.PointExchangeSheet.mySheets(undefined, 1, -10),\r\n            this.uqs.积分商城.PointExchangeSheet.mySheets(\"#\", 1, -100)\r\n        ];\r\n        let presult = await Promise.all(promises);\r\n        let exchangeHistory = presult[0].concat(presult[1]); */\r\n        let { JkPointshop, 积分商城 } = this.uqs;\r\n        /* \r\n        let as:any[] = await Jk积分商城.QueryID({\r\n            IDX: [Jk积分商城.ExchangeMain]\r\n        });\r\n        let exchangeHistorys = as.map((el: any) => {\r\n            let { id, no, createDate } = el;\r\n            return { id: id, no: no, date: createDate };\r\n        }); */\r\n        let result = new QueryPager<any>(积分商城.SearchExchangeOrders, 1000, 1000);\r\n        await result.first({\r\n            customer: this.cApp.currentUser?.currentCustomer\r\n        });\r\n        let exchangeHistorys: any[] = result?.items || [];\r\n        this.openVPage(VExchangeHistory, exchangeHistorys);\r\n    }\r\n\r\n    /**\r\n     * 历史兑换单详情页面\r\n     */\r\n    openOrderDetail = async (orderId: number) => {\r\n        // let order: any = await this.uqs.积分商城.PointExchangeSheet.getSheet(orderId);\r\n        /* if (!order || (this.user?.id !== order?.brief?.user)) {\r\n            this.openVPage(VError);\r\n            return;\r\n        }; */\r\n        let { JkPointshop, 积分商城, customer: customerUQ, deliver } = this.uqs;\r\n        let order = { brief: {}, data: {} };\r\n        let getOrder:any[] = await JkPointshop.IDDetailGet({\r\n            id: orderId,\r\n            main: JkPointshop.ExchangeMain,\r\n            detail: JkPointshop.ExchangeDetail,\r\n        });\r\n        let [mainArr, orderDetail] = getOrder;\r\n        if (!mainArr.length || !orderDetail.length) {\r\n            this.openVPage(VError);return;\r\n        };\r\n        let getDxExchagneMainState: any[] = await JkPointshop.ID<DxExchangeMainState>({\r\n            IDX: JkPointshop.DxExchangeMainState,\r\n            id: orderId,\r\n        });\r\n        let { id, no, createDate, shippingContact, amount, customer } = mainArr[0];\r\n        let { state } = getDxExchagneMainState[0] || { state: undefined };\r\n        order.brief = { id: id, no: no, date: createDate, state: state };\r\n        customer = customerUQ.Customer.boxId(customer);\r\n        shippingContact = customerUQ.Contact.boxId(shippingContact);\r\n        \r\n        let promise: PromiseLike<any>[] = [customer, shippingContact];\r\n        orderDetail.forEach((el: any) => {\r\n            el.product = 积分商城.PointProductLib.boxId(el?.item);\r\n            let getExchangeTransportation: any = deliver.GetPointExchangeDetailTransportation.obj({ pointExchangeDetail: el?.id });\r\n            getExchangeTransportation.then((data: any) => el.transportation = data || undefined);\r\n            promise.push(getExchangeTransportation);\r\n            promise.push(el.product);\r\n        });\r\n        await Promise.all(promise);\r\n        let exchangeItems = orderDetail.map((el: any) => {\r\n            let { product, point, quantity, subAmount, id, transportation } = el;\r\n            return { param: { id: id, transportation: transportation }, point: point, product: product, quantity: quantity, subAmount: subAmount };\r\n        });\r\n        order.data = {\r\n            amount: amount,\r\n            customer: customer,\r\n            exchangeItems: exchangeItems,\r\n            shippingContact: shippingContact,\r\n        };\r\n        this.openVPage(VExchangeHistoryDetail, order);\r\n    }\r\n\r\n    /**\r\n     * 已选择的可兑换产品页面\r\n     */\r\n    openSelectedPointProduct = async () => {\r\n        this.pointProductsSelected = this.pointProductsSelected.filter(v => v.quantity !== 0);\r\n        this.openVPage(VSelectedPointProduct);\r\n    }\r\n\r\n    /**\r\n     * 确认兑换订单预览页面\r\n     */\r\n    openExchangeOrder = async () => {\r\n        if (this.orderData.shippingContact === undefined) {\r\n            this.orderData.shippingContact = await this.getDefaultShippingContact();\r\n        }\r\n        this.pointProductsSelected = this.pointProductsSelected.filter(v => v.quantity !== 0);\r\n        await this.cApp.cSelectShippingContact.getContactList();\r\n        this.openVPage(VExchangeOrder);\r\n    }\r\n\r\n    /**\r\n     * 已选择的可兑换产品图标\r\n     */\r\n    renderSelectedLable() {\r\n        return this.renderView(VSelectedLable);\r\n    }\r\n\r\n    /**\r\n     * 默认帖文\r\n     */\r\n    renderVDefaultPost() {\r\n        return this.renderView(VDefaultPost);\r\n    }\r\n\r\n    // /*领取积分 */\r\n    // openPointDrawing = async (credits?: string) => {\r\n    //     /* \r\n    //     let lastPlatformId = await this.getLastPlatformOrder();\r\n    //     if (lastPlatformId)\r\n    //         this.platformOrder = await this.getPlatFormOrder(this.platformOrderId);\r\n    //     */\r\n    //     this.openVPage(VPlatformOrderPoint, credits);\r\n    // }\r\n\r\n    /* 展示 积分详情*/\r\n    /* pointDetails = async () => {\r\n        this.getPointHistory();\r\n        this.openVPage(VPointDetails);\r\n    } */\r\n\r\n    /**\r\n     * 浏览商品(数据埋点,生产浏览量PV)\r\n     */\r\n    setPointProductVisits = async (pointProduct: any) => {\r\n        return this.uqs.积分商城.SetPointProductVisits.submit({ pointProduct });\r\n    }\r\n\r\n    /**\r\n     * 获取产品类型\r\n     */\r\n    getPointProductGenre = async () => {\r\n        let { Genre } = this.uqs.积分商城;\r\n        this.pointProductGenre = await Genre.all();\r\n    }\r\n\r\n    /**\r\n     * 获取积分详情的数据\r\n     */\r\n    getPointHistory = () => {\r\n        let { currentUser } = this.cApp;\r\n        this.pagePointHistory = new QueryPager(this.uqs.积分商城.GetPointHistory, 15, 30);\r\n        this.pagePointHistory.first({ customer: currentUser?.currentCustomer, key: \"\" });\r\n    }\r\n\r\n    /**\r\n     * 获取可兑换产品(据 分类、新品推荐、热门产品)\r\n     */\r\n    getPointProductByDifferentPlot = async (plot: any) => {\r\n        let { productGenre, newRecommend, hotProduct } = topicClump;\r\n        switch (plot?.typeName) {\r\n            case productGenre:\r\n                return await this.filterByProductGenre(plot);\r\n            case newRecommend:\r\n                return await this.getNewPointProducts();\r\n            case hotProduct:\r\n                return await this.getHotPointProducts();\r\n            default:\r\n                return;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * 据类型筛选商品\r\n     */\r\n    filterByProductGenre = async (currentGenre: any) => {\r\n        // let pointProductFromGenre = await this.getProductsFromGenre(currentGenre);\r\n        let pointProductFromGenre = await this.uqs.积分商城.GetPointProductByGenre.table({ genre: currentGenre });\r\n        return pointProductFromGenre.map((v) => { return { genre: v.genre, product: v.pointProduct } });\r\n    }\r\n\r\n    /**\r\n     * 获取指定分类所属的商品\r\n     */\r\n    getProductsFromGenre = async (genre: any) => {\r\n        return await this.uqs.积分商城.PointProductGenre.table({ genre, pointproduct: undefined });\r\n    }\r\n\r\n    /**\r\n     * 获取新品推荐的产品\r\n     */\r\n    getNewPointProducts = async () => {\r\n        let result = await this.uqs.积分商城.GetNewPointProducts.table({});\r\n        return result.sort((a, b) => a.point - b.point).map((v) => { return { product: v.id } });\r\n    }\r\n\r\n    /**\r\n     * 获取热门产品\r\n     */\r\n    getHotPointProducts = async () => {\r\n        let result = await this.uqs.积分商城.GetHotPointProducts.table({});\r\n        return result.sort((a, b) => a.point - b.point).map((v) => { return { product: v.id } });\r\n    }\r\n\r\n    /**\r\n     * 获取积分区间的积分产品(积分划分)\r\n     */\r\n    getPointsIntervalProducts = async (state: any) => {\r\n        let pointInterval = PointIntervals[state] || PointIntervals[\"below\"];\r\n        this.pointProducts = await this.uqs.积分商城.GetPointProduct.table(pointInterval);\r\n        return this.pointProducts;\r\n    }\r\n\r\n    /**\r\n     * 获取商品源（兑换下单可用）\r\n     */\r\n    getProductSources = async (pointProduct: any) => {\r\n        return await this.uqs.积分商城.PointProductSource.obj({ pointProduct, sourceId: undefined });\r\n    }\r\n\r\n    onQuantityChanged = async (context: RowContext, value: any, prev: any) => {\r\n        let { data } = context;\r\n        let IsContain = 0;\r\n        let nowQuantity = value - (prev ? prev : 0);\r\n        /* let availablePoints = this.myEffectivePoints - this.pointToExchanging;\r\n        if (availablePoints <= 0) return;    */\r\n        // 当前产品详情的数量\r\n        this.pointProductsDetail.quantity = value;\r\n        // this.pointToExchanging = this.pointToExchanging + (data.point * nowQuantity);\r\n        this.pointToExchanging = this.pointToExchanging + (data.product.obj.point * nowQuantity);\r\n        this.pointProductsSelected.forEach(element => {\r\n            if (element.product.id === data.product.id) {\r\n                element.quantity = element.quantity + nowQuantity;\r\n                IsContain = IsContain + 1;\r\n            }\r\n        });\r\n        if (IsContain === 0) {\r\n            data.point = data.product.obj.point;\r\n            this.pointProductsSelected.push(data);\r\n        }\r\n    }\r\n\r\n    private createOrderFromCart = async () => {\r\n        let { currentUser, currentSalesRegion } = this.cApp;\r\n        this.orderData.webUser = currentUser.id;\r\n        this.orderData.salesRegion = currentSalesRegion.id;\r\n        if (currentUser.currentCustomer !== undefined) {\r\n            this.orderData.customer = currentUser.currentCustomer.id;\r\n        }\r\n        if (this.pointProductsSelected !== undefined && this.pointProductsSelected.length > 0) {\r\n            this.orderData.exchangeItems = this.pointProductsSelected.map(e => {\r\n                if (e.quantity <= 0) return undefined;\r\n                var item = new OrderItem();\r\n                item.product = e.product;\r\n                // item.pack = e.pack;\r\n                item.quantity = e.quantity;\r\n                item.point = e.point;\r\n                return item;\r\n            });\r\n        }\r\n    }\r\n    /**\r\n     * 生成兑换单兑换积分\r\n     */\r\n    submitOrder = async () => {\r\n        this.createOrderFromCart();\r\n\r\n        let PointExchangeSheet = this.uqs.积分商城.PointExchangeSheet;\r\n        let getDataForSave = this.orderData.getDataForSave();\r\n        let result: any = await PointExchangeSheet.save(\"PointExchangeSheet\", getDataForSave);\r\n        let { id, flow, state } = result;\r\n        await PointExchangeSheet.action(id, flow, state, \"submit\");\r\n\r\n        //暂时扣除已经兑换的积分;\r\n        this.myEffectivePoints = this.myEffectivePoints - this.pointToExchanging;\r\n        this.myTotalPoints = this.myTotalPoints - this.pointToExchanging;\r\n        if (this.pointToExchanging > this.myPointTobeExpired) {\r\n            this.myPointTobeExpired = 0;\r\n        } else {\r\n            this.myPointTobeExpired = this.myPointTobeExpired - this.pointToExchanging;\r\n        }\r\n\r\n        //兑换后清空选择的积分产品\r\n        /* this.orderData.exchangeItems = undefined;\r\n        this.pointProductsSelected.length = 0;\r\n        this.pointToExchanging = 0; */\r\n        this.clearSelectedPointsProducts();\r\n\r\n        // 打开下单成功显示界面\r\n        nav.popTo(this.cApp.topKey);\r\n        this.openVPage(OrderSuccess, result);\r\n    }\r\n\r\n    /**\r\n     * 获取当前webuser对应customer的最近一个订单 TODO:delete\r\n    getLastPlatformOrder = async () => {\r\n\r\n        let { currentCustomer } = this.cApp.currentUser;\r\n        let validationResult = await this.uqs.积分商城.GetLastPlatFormOrder.submit({ customer: currentCustomer && currentCustomer.id });\r\n        let { platformOrderId } = validationResult;\r\n        this.platformOrderId = validationResult.platformOrderId;\r\n        return platformOrderId;\r\n    }\r\n    */\r\n\r\n    /*\r\n    getPlatFormOrder = async (platformOrderId: string) => {\r\n        return await this.uqs.积分商城.GetPlatFormOrder.table({ platformOrderId: platformOrderId });\r\n    }\r\n    */\r\n\r\n    IsCouponCanUse = async (couponCode: string) => {\r\n        this.couponId = 0;\r\n        let { currentUser } = this.cApp;\r\n        let { salesTask } = this.uqs;\r\n        let validationResult = await salesTask.IsCanUseCoupon.submit({ code: couponCode, webUser: currentUser && currentUser.id });\r\n\r\n        let { result, id, types } = validationResult;\r\n        if (result === 1) {\r\n            this.couponId = id;\r\n            if (types !== 'credits')\r\n                result = 0;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 领取积分码 TODO:delete\r\n    receivePoint = async (orderId: string) => {\r\n        let { currentCustomer } = this.cApp.currentUser;\r\n        let { AddPlatformOrderPoint } = this.uqs.积分商城;\r\n        let result = await AddPlatformOrderPoint.submit({ orderId: orderId, couponId: this.couponId, customer: currentCustomer && currentCustomer.id });\r\n        let rtn = result.result;\r\n\r\n        return rtn;\r\n    }\r\n    */\r\n\r\n    private openMeInfoOptions: any;\r\n    /**\r\n     * 检查客户信息是否完善（不完善需补充完善后方可领取积分）\r\n     */\r\n    userInfoCompletedChecking = async (options: any): Promise<boolean> => {\r\n        await this.cApp.assureLogin();\r\n        let { cMe, currentUser } = this.cApp;\r\n        if (!currentUser.allowOrdering) {\r\n            cMe.openMeInfoFirstOrder(options);\r\n            return false;\r\n        }\r\n        return true;\r\n        /*\r\n        if (!this.isLogined) {\r\n            this.openMeInfoOptions = options;\r\n            nav.showLogin(this.loginCallback, true);\r\n            return false;\r\n        } else {\r\n            let { cMe, currentUser } = this.cApp;\r\n            if (!currentUser.allowOrdering) {\r\n                cMe.openMeInfoFirstOrder(options);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        */\r\n    }\r\n    /*\r\n    private loginCallback = async (user: User): Promise<void> => {\r\n        let { cApp } = this;\r\n        await cApp.currentUser.setUser(user);\r\n        await cApp.loginCallBack(user);\r\n        this.closePage(1);\r\n\r\n        let { cMe, currentUser } = this.cApp;\r\n        if (!currentUser.allowOrdering) {\r\n            cMe.openMeInfoFirstOrder(this.openMeInfoOptions);\r\n        }\r\n    };\r\n    */\r\n    /**\r\n     * TODO: delete\r\n     */\r\n    addUsedCoupon = async () => {\r\n        /* let { AddUsedCoupon } = this.uqs.积分商城;\r\n        let result = await AddUsedCoupon.submit({ couponId: this.couponId });\r\n        let rtn = result.result;\r\n        return rtn; */\r\n        return;\r\n    }\r\n\r\n    private defaultSetting: any;\r\n    private async getDefaultSetting() {\r\n        if (this.defaultSetting) return this.defaultSetting;\r\n        let { currentUser } = this.cApp;\r\n        return this.defaultSetting = await currentUser.getSetting() || {};\r\n    }\r\n    private contact0: BoxId;\r\n    private async getContact(): Promise<BoxId> {\r\n        if (this.contact0 === null) return;\r\n        if (this.contact0 !== undefined) return this.contact0;\r\n        let { currentUser } = this.cApp;\r\n        let contactArr = await currentUser.getContacts();\r\n        if (contactArr === undefined || contactArr.length === 0) {\r\n            this.contact0 = null;\r\n            return;\r\n        }\r\n        return this.contact0 = contactArr[0].contact;\r\n    }\r\n    async getDefaultShippingContact() {\r\n        let defaultSetting = await this.getDefaultSetting();\r\n        return defaultSetting.shippingContact || await this.getContact();\r\n    }\r\n\r\n    selectContact = async () => {\r\n        let cSelect = this.newC(CSelectShippingContact);\r\n        let contactBox = await cSelect.call<BoxId>(true);\r\n        return contactBox;\r\n    }\r\n\r\n    onSelectShippingContact = async () => {\r\n        this.orderData.shippingContact = await this.selectContact()\r\n    }\r\n}","import * as React from 'react';\r\nimport { CPointProduct } from 'pointMarket/CPointProduct';\r\nimport {\r\n    VPage, Page, Form, List, tv, ObjectSchema, NumSchema, UiSchema, UiCustom, FA, Tabs, TabProp, autoHideTips, Ax\r\n} from 'tonva-react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport { MinusPlusWidget } from 'tools';\r\nimport { observable, makeObservable } from 'mobx';\r\n//import { GLOABLE } from 'cartenv';\r\n//import { color } from 'order/VMyOrders';\r\nimport { randomColor } from 'tools/randomColor';\r\nimport { pointIcon, triangleShadingO } from 'tools/images';\r\nimport { topicClumps } from './CPointProduct';\r\nimport { xs } from '../tools/browser';\r\nimport classNames from 'classnames';\r\n\r\nexport const renderHr = (HRCL?: any, HRST?: any) => {\r\n    let styleObj = HRST ? HRST : { backgroundColor: '#007bff' };\r\n    return <div className={`flex-fill ${HRCL ? HRCL : 'px-2 text-primary'}`}>\r\n        <hr style={{ height: 1, border: 'none', ...styleObj }} />\r\n    </div>\r\n};\r\n\r\nexport const TopicDivision = (topic: any, CL?: any, ST?: any, HRCL?: any, HRST?: any) => {\r\n    return <div className={`text-center w-100 py-2 ${CL ? CL : 'px-2 text-primary'} d-flex justify-content-between align-items-center`} style={ST}>\r\n        {renderHr(HRCL, HRST)}{topic}{renderHr(HRCL, HRST)}\r\n    </div>\r\n}\r\n\r\n\r\nexport const schema = [\r\n    { name: 'product', type: 'object' } as ObjectSchema,\r\n    // { name: 'pack', type: 'object' } as ObjectSchema,\r\n    { name: 'quantity', type: 'number' } as NumSchema,\r\n    // { name: 'point', type: 'number' } as NumSchema,\r\n    // { name: 'imageUrl', type: 'string' } as StringSchema,\r\n];\r\n\r\nexport class VPointProduct extends VPage<CPointProduct> {\r\n    protected isShowSelectForm: boolean = false;\r\n    Gengres: any[] = [];\r\n    //@observable protected productIsNull: boolean = false;\r\n    //@observable protected pointIsEnough: boolean = false;\r\n    protected productIsNull = observable.box(false);\r\n    protected pointIsEnough = observable.box(false);\r\n    private currentInterval: string;\r\n    private themeName: string = '积分商城';\r\n    private tabs: TabProp[];\r\n    protected none: JSX.Element = <div className=\"my-4 text-secondary d-flex justify-content-center\">『 暂无可兑换产品 』</div>;\r\n    rankInterval: any = [\r\n        { caption: '1万以下', state: 'below', icon: 'superpowers', borderC: '#2c93ad' },\r\n        { caption: '1-5万', state: 'firstLevel', icon: 'superpowers', borderC: '#3CC43C' },\r\n        { caption: '5-15万', state: 'twoLevel', icon: 'superpowers', borderC: '#7c1e5e' },\r\n        { caption: '15万以上', state: 'above', icon: 'superpowers', borderC: '#0e2c8c' },\r\n    ];\r\n\r\n    constructor(c: CPointProduct) {\r\n        super(c);\r\n\r\n        makeObservable<VPointProduct, \"isShowSelectForm\">(this, {\r\n            isShowSelectForm: observable,\r\n            Gengres: observable,\r\n        });\r\n    }\r\n\r\n    header() {\r\n        return this.isWebNav === true ? <div>{this.themeName}</div> : this.themeName;\r\n    }\r\n\r\n    right() {\r\n        let right = this.controller.renderSelectedLable();\r\n        return <>{right}</>;\r\n    }\r\n\r\n    init(param?:any) {\r\n        if (param) this.themeName = param?.name;\r\n        let { pointProductGenre } = this.controller;\r\n        this.Gengres = [{ id: null, name: \"商城首页\" },{ id: 5002, name: \"积分商城\" }, ...pointProductGenre, ...Object.values(topicClumps)];\r\n        \r\n    };\r\n\r\n    content() {\r\n        return <this.page />;\r\n    }\r\n\r\n    /* async open(param?: any) {\r\n        if (param) {\r\n            this.themeName = param.name ? param.name : param;\r\n            await this.controller.getPointProductByDifferentPlot(param);\r\n        }\r\n        this.openPage(this.page);\r\n    } */\r\n    private getTabs = async () => {\r\n        let { getPointsIntervalProducts } = this.controller;\r\n        this.tabs = this.rankInterval.map((v: any) => {\r\n            let { caption, state, icon, borderC } = v;\r\n            return {\r\n                name: caption,\r\n                // caption: (selected: boolean) => TabCaptionComponent(caption, icon, color(selected)),\r\n                caption: (selected: boolean) => this.TabCaptionComponent(caption, icon, borderC, (selected ? '#ffffff' : 'transparent')),\r\n                content: () => {\r\n                    return <>{this.renderList()}</>\r\n                },\r\n                isSelected: this.currentInterval === state,\r\n                load: async () => {\r\n                    this.currentInterval = state;\r\n                    this.controller.pointProducts = await getPointsIntervalProducts(this.currentInterval);\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    private TabCaptionComponent = (label: string, icon: string, borderC: string, color: string) => <div\r\n        className={'py-2 d-flex justify-content-center align-items-center flex-column cursor-pointer '}>\r\n        <small className=\"w-4c text-center rounded-sm font-weight-bold\" style={{ color: borderC, border: `1px solid ${borderC}`, background: color }}>{label}</small>\r\n    </div>;\r\n\r\n    protected renderList = (isToDetail?: boolean) => {\r\n        let { pointProducts } = this.controller;\r\n        return <div style={{ background: `url(${triangleShadingO}) no-repeat 99% 230px,url(${triangleShadingO}) no-repeat 1% 480px`, backgroundSize: '2.5%' }}>\r\n            <List items={pointProducts} item={{\r\n                render: this.renderPointProduct,\r\n                className: 'col-6 col-md-4 col-lg-3 px-3 bg-transparent'\r\n            }} none={this.none}\r\n                className={`${pointProducts.length !== 0 ? 'row mx-0 mt-2 bg-transparent' : ''}`}\r\n            ></List>\r\n        </div>\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            product: { visible: false },\r\n            // pack: { visible: false },\r\n            quantity: {\r\n                widget: 'custom',\r\n                label: null,\r\n                className: 'text-center w-2c',\r\n                WidgetClass: MinusPlusWidget,\r\n                onChanged: this.controller.onQuantityChanged as any\r\n            } as UiCustom,\r\n            // point: { visible: false },\r\n            // imageUrl: { visible: false },\r\n        }\r\n    }\r\n\r\n    protected renderPointProduct = (pointProduct: any) => {\r\n        let { product } = pointProduct;\r\n        return <>\r\n            {tv(product, (v) => {\r\n                let cProductUI: JSX.Element = <><div title={v.description} className={classNames(\"w-100 cus-height\", this.isShowSelectForm ? \"z-height\" : \"\")}>\r\n                    <PointProductImage chemicalId={v.imageUrl} className=\"w-100 h-100\" style={{ border: `2px solid ${randomColor()}` }} />\r\n                </div>\r\n                    <div className=\"small w-100\">\r\n                        <div className=\"text-truncate w-100\">{v.descriptionC}</div>\r\n                        <>\r\n                            {\r\n                                this.isShowSelectForm\r\n                                    ? <div className=\"w-100 d-flex justify-content-between align-items-right mt-1\">\r\n                                        <small className=\"align-self-center mb-3 text-primary\" ><FA name=\"shopping-bag\" size='2x' /></small>\r\n                                        <Form schema={schema} uiSchema={this.uiSchema} formData={pointProduct} className=\"mr-2\" />\r\n                                    </div>\r\n                                    : null\r\n                            }\r\n                            <div className='d-flex'>\r\n                                <img src={pointIcon} alt=\"\" style={{ height: 24 }} />\r\n                                <span className=\"text-danger h5 m-0 ml-1 align-self-end\"> {v.point}</span>\r\n                            </div>\r\n                        </>\r\n                    </div></>;\r\n                let ProductUI: JSX.Element = this.isShowSelectForm ? cProductUI : <Ax href={\"/pointshop/product/\" + v.id} >{cProductUI}</Ax>;\r\n                return <div className=\"w-100 d-flex flex-column mb-4\">\r\n                   {ProductUI}\r\n                </div>\r\n            })}\r\n        </>\r\n    }\r\n\r\n    protected openExchangeOrder = async () => {\r\n        // 未选择产品\r\n        let { pointToExchanging, myEffectivePoints } = this.controller;\r\n\r\n        if (pointToExchanging < 1) {\r\n            this.productIsNull.set(true);\r\n            this.pointIsEnough.set(false);\r\n            //setTimeout(() => this.productIsNull = false, GLOABLE.TIPDISPLAYTIME);\r\n            return;\r\n        }\r\n        // 积分不足\r\n        if (pointToExchanging > myEffectivePoints) {\r\n            this.productIsNull.set(false);\r\n            this.pointIsEnough.set(true);\r\n            //setTimeout(() => this.pointIsEnough = false, GLOABLE.TIPDISPLAYTIME);\r\n            return;\r\n        }\r\n\r\n        this.controller.openExchangeOrder();\r\n    }\r\n\r\n    protected getRelatedUI = () => {\r\n        let { pointToExchanging, myEffectivePoints } = this.controller;\r\n        /*\r\n        let productIsNullTip = this.productIsNull ?\r\n            <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" />未选择产品</div>\r\n            : null;\r\n        let pointIsEnoughTip = this.pointIsEnough ?\r\n            <div className=\"text-danger small m-0 p-0\"><FA name=\"exclamation-circle\" />积分不足<br />剩余{myEffectivePoints}分</div>\r\n            : null;\r\n        */\r\n        let footer = <div className=\"d-block\">\r\n            <div className=\"w-100 px-3 d-flex justify-content-between\">\r\n                <div>总计:<span className=\"text-danger ml-2 mr-1 h2\" >{pointToExchanging}</span>分</div>\r\n                <div>\r\n                    {/*productIsNullTip*/autoHideTips(this.productIsNull, <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" />未选择产品</div>)}\r\n                    {/*pointIsEnoughTip*/autoHideTips(this.pointIsEnough, <div className=\"text-danger small m-0 p-0\"><FA name=\"exclamation-circle\" />积分不足<br />剩余{myEffectivePoints}分</div>)}\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-danger m-1\" style={{backgroundColor:'#dc3545'}} onClick={this.openExchangeOrder}>去兑换</button>\r\n            </div>\r\n        </div>;\r\n        return footer;\r\n    }\r\n\r\n    protected page = observer(() => {\r\n        this.getTabs();\r\n        return <div className=\"row mx-0 mt-1\">\r\n            <div className=\"col-md-3 d-none d-md-block py-0 py-md-2 mb-0 mb-md-4\">\r\n                {this.controller.renderShopSideBar()}\r\n            </div>\r\n            <div className=\"col-md-9 px-0 px-md-1\">\r\n                {\r\n                    this.themeName === '积分商城'\r\n                        ? <Tabs tabs={this.tabs} tabPosition=\"top\" size=\"lg\" />\r\n                        : <>\r\n                            {/* {TopicDivision(this.themeName)} */}\r\n                            {this.renderList()}\r\n                        </>\r\n                }\r\n            </div>\r\n        </div>\r\n    });\r\n}\r\n\r\n/**\r\n * 已选择的兑换产品列表\r\n */\r\nexport class VSelectedPointProduct extends VPointProduct {\r\n    isShowSelectForm: boolean = true;\r\n    protected none: JSX.Element = <div className=\"mt-4 text-secondary d-flex justify-content-center\">『 已清空您所选择的产品 』</div>;\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    page = observer(() => {\r\n        let { pointProductsSelected } = this.controller;\r\n        let footer = this.getRelatedUI();\r\n\r\n        // let right = <div className=\"mr-2\" onClick={clearSelectedPointsProducts}><FA name=\"trash-o\" className='text-light' /></div>;\r\n        // let none = <div className=\"mt-4 text-secondary d-flex justify-content-center\">『 已清空您所选择的产品 』</div>;\r\n        return <Page header='已选择兑换产品' right={<></>} footer={footer} >\r\n            <List\r\n                items={pointProductsSelected}\r\n                item={{\r\n                    render: this.renderPointProduct,\r\n                    className: 'col-6 col-md-4 col-lg-3 px-3 bg-transparent'\r\n                    // className: \"w-50 px-3\"\r\n                }}\r\n                none={this.none}\r\n                className='row mx-0 mt-2 bg-transparent'\r\n            // className=\"d-flex flex-wrap bg-transparent mt-2\"\r\n            />\r\n        </Page >\r\n    })\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport {\r\n    tv, VPage, Page, Form, ItemSchema, NumSchema, UiSchema,\r\n    ObjectSchema, RowContext, UiCustom, FormField, List, Ax\r\n} from 'tonva-react';\r\nimport { CProduct } from './CProduct';\r\nimport { MinusPlusWidget } from '../tools/minusPlusWidget';\r\nimport { ProductPackRow, Product } from '../store';\r\nimport { ProductImage } from 'tools/productImage';\r\nimport { renderPropItem, renderBrand } from './renders';\r\nimport { xs } from 'tools/browser';\r\nimport { pdfIcon } from 'tools/images';\r\nimport { VFavorite, VPrice } from './views';\r\nimport classNames from 'classnames';\r\nimport { TopicDivision } from 'pointMarket/VPointProduct';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst schema: ItemSchema[] = [\r\n    { name: 'pack', type: 'object' } as ObjectSchema,\r\n    { name: 'retail', type: 'number' } as NumSchema,\r\n    { name: 'vipPrice', type: 'number' } as NumSchema,\r\n    { name: 'promotionPrice', type: 'number' } as NumSchema,\r\n    { name: 'currency', type: 'string' },\r\n    { name: 'quantity', type: 'number' } as NumSchema,\r\n    { name: 'inventoryAllocation', type: 'object' } as ObjectSchema,\r\n    { name: 'futureDeliveryTimeDescription', type: 'string' }\r\n];\r\n\r\nexport const languageCaptions: { [language: string]: string } = {\r\n    'DE': '德文',\r\n    'EN': '英文',\r\n    'EN-US': '美式英文',\r\n    'CN': '中文',\r\n}\r\n\r\nconst SymbolSrcs:any[] = [\r\n    { name: \"LK\", src: \"GHS02.gif\" },\r\n    { name: \"LM\", src: \"GSH04.gif\" },\r\n    { name: \"LN\", src: \"GHS07.gif\" },\r\n    { name: \"LO\", src: \"GHS03.gif\" },\r\n    { name: \"LP\", src: \"GHS05.gif\" },\r\n    { name: \"LQ\", src: \"GHS09.gif\" },\r\n    { name: \"LR\", src: \"GHS01.gif\" },\r\n    { name: \"LS\", src: \"GHS06.gif\" },\r\n    { name: \"LT\", src: \"GHS08.gif\" },\r\n];\r\n\r\nconst basicInfoKey = [\r\n    // { insideKey: \"MF\", webKey: \"MF\" },\r\n    // { insideKey: \"MW\", webKey: \"MW\" },\r\n    { insideKey: \"Synonymity\", webKey: \"英文别名\" },\r\n    { insideKey: \"SynonymityC\", webKey: \"中文别名\" },\r\n    { insideKey: \"MP\", webKey: \"MP\" },\r\n    { insideKey: \"BP\", webKey: \"BP\" },\r\n    { insideKey: \"FP\", webKey: \"FP\" },\r\n    { insideKey: \"Density\", webKey: \"Density\" },\r\n    { insideKey: \"n20D\", webKey: \"n20D\" },\r\n    { insideKey: \"[a]20D\", webKey: \"[a]20D\" },\r\n    { insideKey: \"pH\", webKey: \"pH\" },\r\n    { insideKey: \"MDL\", webKey: \"MDL编码\" },\r\n    { insideKey: \"Beilstein\", webKey: \"Reaxys-RN (Beilstein)\" },\r\n    { insideKey: \"Merck\", webKey: \"Merck Index\" },\r\n    { insideKey: \"EINECS\", webKey: \"EC No.\" },\r\n];\r\nconst securityInfoKey = [\r\n    { insideKey: \"SpecialRequirement\", webKey: \"存储条件\" },\r\n    { insideKey: \"Hazard\", webKey: \"Symbol\" },\r\n    { insideKey: \"RiskSign\", webKey: \"Signal Word\" },\r\n    { insideKey: \"HValue\", webKey: \"Hazard Statements\" },\r\n    { insideKey: \"PValue\", webKey: \"Precautionary Statements\" },\r\n    { insideKey: \"UN\", webKey: \"UN\" },\r\n    { insideKey: \"HazardClass\", webKey: \"Hazard Class\" },\r\n    { insideKey: \"subrisk\", webKey: \"SubRisk\" },\r\n    { insideKey: \"PackingG\", webKey: \"Packing Group\" },\r\n    { insideKey: \"WGK\", webKey: \"WGK Germany\" },\r\n    { insideKey: \"RTECS\", webKey: \"RTECS\" },\r\n    { insideKey: \"TSCA\", webKey: \"TSCA\" },\r\n];\r\n\r\nexport class VPageProduct extends VPage<CProduct> {\r\n    //private productBox: BoxId;\r\n    //private discount: number;\r\n    p: boolean = false;\r\n\r\n    constructor(c: CProduct) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            p: observable\r\n        });\r\n    }\r\n\r\n    async open(param: any) {\r\n        //let { productData, product, discount } = param;\r\n        //let { getProductSpecFile, getProductMSDSFile } = this.controller;\r\n        //let page = xs ? this.page : this.lpage;\r\n        this.openPage(observer(() => {\r\n            let { cApp, product } = this.controller;\r\n            let { id } = product;\r\n            /* let CurrentUA = browser.versions.mobile;\r\n            let productPdfM = CurrentUA && (productMSDSFiles.length || productSpecFiles.length) ? true : false; */\r\n            let header: any, cartLabel: any;\r\n\r\n            if (xs) {\r\n                header = cApp.cHome.renderSearchHeader();\r\n                cartLabel = cApp.renderCartLabel();\r\n            }\r\n            /* let viewProduct = new ViewMainSubs<MainProductChemical, ProductPackRow>(this.renderProduct, this.renderPack);\r\n            viewProduct.model = product; */\r\n\r\n            return <Page header={header} right={cartLabel} className=\"bg-white\">\r\n                <section className=\"container mt-lg-2 product-sigle-page\">\r\n                    <div className=\"row\">\r\n                        {this.renderProduct(product)}\r\n                        <div className=\"d-block d-sm-none px-2 ml-2 my-3 w-100\" style={{ lineHeight: 1.8 }}>\r\n                            {TopicDivision('产品资料')}\r\n                            {this.material(product, true)}\r\n                        </div>\r\n                        {this.renderAssistInfo(product)}\r\n                    </div>\r\n                </section>\r\n            </Page>;\r\n            //} else {\r\n            /*\r\n            下面的做法大概不行，因为嵌套的层次较深，且都是observer的，上层observable的变化会嵌套执行下层的代码，而下层代码的render\r\n            会操作数据库，得不偿失（和React的可能还不一样，React只会更新必要的html，不会再执行查询DB的操作）\r\n            */\r\n            /*\r\n             let { controller, productBox } = this;\r\n             let { renderProductWithPrice } = controller;\r\n             return <Page header={header} right={cartLabel}>\r\n                 <div className=\"px-2 py-2 bg-white mb-3\">\r\n                     {renderProductWithPrice(productBox)}\r\n                 </div>\r\n             </Page>\r\n             */\r\n            //}\r\n        }));\r\n    }\r\n\r\n    /*\r\n    private lpage = () => {\r\n        //let { renderHeader, renderFooter } = this.controller.cApp;\r\n        let {product} = this.controller;\r\n        let {data} = product;\r\n           return <Page>\r\n             <section className=\"container mt-lg-2 product-sigle-page\">\r\n                    <div className=\"row\">\r\n                        {this.renderProduct(data.main, data.subs)}\r\n                    </div>\r\n                </section>\r\n        </Page>\r\n    }\r\n    */\r\n\r\n    /*\r\n    render(param: any) {\r\n\r\n        return <this.page />;\r\n    }\r\n    */\r\n    renderAssistInfo = (product: Product) => {\r\n        let { extention, descriptionPost, productCrumbs, standardSample } = product;\r\n        let basicInfoUI: JSX.Element, securityInfoUI: JSX.Element, descriptionPostUI: JSX.Element,\r\n            productCrumbsUI: JSX.Element, standardSampleUI: JSX.Element;\r\n        if (extention) {\r\n            extention = JSON.parse(extention.replace(/(\\t|\\n|\\r)*/g, \"\"));\r\n            let allContent = Object.keys(extention).map((el: any) => {\r\n                if (!extention[el] && extention[el].replace(/\\s*/g, '') == 'N/A') return;\r\n                if (el === 'TSCA') {\r\n                    let TSCAs: { [typeNum: number]: string } = { 0: '', 1: \"是\", 2: \"否\" };\r\n                    extention[el] = TSCAs[extention[el]] || \"\";\r\n                };\r\n                if (el === 'Hazard') {\r\n                    extention[el] = SymbolSrcs.map((o: any, ind: number) => {\r\n                        if (extention[el].indexOf(o.name) > -1) {\r\n                            return <img key={ind} className=\"w-3c mr-1\" src={\"/images/security/\" + o.src} alt=\"\" />;\r\n                        }\r\n                        return '';\r\n                    });\r\n                };\r\n                return el;\r\n            }).filter((el: any) => extention[el]);\r\n            let basicInfos: any[] = basicInfoKey.filter((v: any) =>  allContent.find((i: any) => v.insideKey === i));\r\n            let securityInfos: any[] = securityInfoKey.filter((v: any) => allContent.find((i: any) => v.insideKey === i));\r\n            let tableInfo = (data: any[]) => {\r\n                if (data.length === 0) return;\r\n                return <table className=\"product-table w-100\">\r\n                    <tbody>\r\n                        {data.map((v: any, index: number) => {\r\n                            let value = extention[v.insideKey];\r\n                            if (!value) return null;\r\n                            return <tr key={index}><th className=\"w-50\">{v.webKey}</th><td className=\"w-50\">{value}</td></tr>\r\n                        })}\r\n                    </tbody>\r\n                </table>\r\n            };\r\n            if (basicInfos.length) {\r\n                basicInfoUI = <>\r\n                    <div className=\"accordion background-grey mt-lg-1\">\r\n                        <div className=\"w-100 btn text-left collapsed\" data-toggle=\"collapse\" data-target=\"#description1\"\r\n                            role=\"button\" aria-expanded=\"false\" aria-controls=\"description1\">\r\n                            基本信息&emsp;<i className=\"fa fa-chevron-down\"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"container mt-lg-2 collapse show\" id=\"description1\">\r\n                        {tableInfo(basicInfos.slice(0, 6))}\r\n                        <div className=\"container collapse px-0\" id=\"description2\">\r\n                            {tableInfo(basicInfos.slice(6))}\r\n                        </div>\r\n                        {\r\n                            basicInfos.length > 6\r\n                                ? <p className=\"text-right\">\r\n                                    <a className=\"btn text-left collapsed\" onClick={() => this.p = !this.p}\r\n                                        data-toggle=\"collapse\" href=\"#description2\" role=\"button\" aria-expanded=\"false\" aria-controls=\"description2\">\r\n                                        {!this.p ? '更多' : '收起'} <i className={`fa ${!this.p ? 'fa-angle-right' : 'fa-angle-up'}`} aria-hidden=\"true\"></i>\r\n                                    </a>\r\n                                </p> : null\r\n                        }\r\n                    </div>\r\n                </>;\r\n            };\r\n            if (securityInfos.length) {\r\n                securityInfoUI = <>\r\n                    <div className=\"accordion background-grey mt-lg-1\">\r\n                        <a className=\"w-100 btn text-left collapsed\" data-toggle=\"collapse\" href=\"#description4\"\r\n                            role=\"button\" aria-expanded=\"false\" aria-controls=\"jk\" target=\"_blank\">\r\n                            安全信息&emsp;<i className=\"fa fa-chevron-down\"></i>\r\n                        </a>\r\n                    </div>\r\n                    <div className=\"container mt-lg-2 mb-lg-2 collapse show\" id=\"description4\">\r\n                        {tableInfo(securityInfos)}\r\n                    </div>\r\n                </>;\r\n            };\r\n        };\r\n        if (descriptionPost) {\r\n            descriptionPostUI = <>\r\n                <div className=\"accordion background-grey mt-lg-1\">\r\n                    <a className=\"w-100 btn text-left collapsed\" data-toggle=\"collapse\" href=\"#descriptionpost\"\r\n                        role=\"button\" aria-expanded=\"false\" aria-controls=\"jk\" target=\"_blank\">\r\n                        产品描述&emsp;<i className=\"fa fa-chevron-down\"></i>\r\n                    </a>\r\n                </div>\r\n                <div dangerouslySetInnerHTML={{ __html: descriptionPost || \"\" }}\r\n                    className=\"container mt-lg-2 mb-lg-2 collapse show\" id=\"descriptionpost\">\r\n                </div>\r\n            </>;\r\n        };\r\n        if (standardSample) {\r\n            let type = standardSample.components.some((el: any) => el?.matrix || el?.unit) ? \"Set Components\" : \"Analytes\";\r\n            let thead = type === \"Analytes\" ? [\"英文名称\", \"中文名称\", \"CAS\", \"目标浓度\"] : [\"产品编号\", \"英文名称\", \"中文名称\", \"浓度\", \"单位\"];\r\n            standardSampleUI = <>\r\n                <div className=\"accordion background-grey mt-lg-1\">\r\n                    <a className=\"w-100 btn text-left collapsed\" data-toggle=\"collapse\" href=\"#standardSample\"\r\n                        role=\"button\" aria-expanded=\"false\" aria-controls=\"jk\" target=\"_blank\">\r\n                        组分&emsp;<i className=\"fa fa-chevron-down\"></i>\r\n                    </a>\r\n                </div>\r\n                <div className=\"container mt-lg-2 mb-lg-2 collapse show\" id=\"standardSample\">\r\n                    <table className=\"w-100 text-break standardSampleTable\">\r\n                        <thead>\r\n                            <tr className={classNames(\"border-bottom\", type === \"Analytes\" ? \"analytes\" : \"components\" )}>\r\n                                {thead.map((el: any) => { return <th key={el}>{el}</th>})}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {standardSample.components.map((el: any, index: number) => {\r\n                                let { origin, description, descriptionC: descriptionCC, descriptionc, cas, concentration, matrix, unit } = el;\r\n                                let descriptionC = descriptionCC || descriptionc;\r\n                                let tds: JSX.Element;\r\n                                if (type === \"Analytes\") {\r\n                                    tds = <><td data-title=\"英文名称\">{description}</td>\r\n                                        <td data-title=\"中文名称\">{descriptionC}</td>\r\n                                        <td data-title=\"CAS\">{cas}</td>\r\n                                        <td data-title=\"目标浓度\">{concentration}</td></>;\r\n                                } else {\r\n                                    tds = <><td className=\"\" data-title=\"产品编号\"><Ax style={{ color: \"#781515\" }} href={`/search/${origin}?type=2`}>{origin}</Ax></td>\r\n                                        <td className=\"\" data-title=\"英文名称\">{description}</td>\r\n                                        <td className=\"\" data-title=\"中文名称\">{descriptionC}</td>\r\n                                        <td className=\"\" data-title=\"浓度\">{matrix}</td>\r\n                                        <td className=\"w-min-3c\" data-title=\"单位\">{unit}</td></>;\r\n                                };\r\n                                return <tr key={index} className=\"py-2 border-bottom\">{tds}</tr>\r\n                            })}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </>;\r\n        };\r\n        if (productCrumbs.length && productCrumbs.some((el: any[]) => el.length)) {\r\n            productCrumbsUI = <><div className=\"mt-lg-1\">\r\n                <div className=\"bg-nobackground-one\">产品分类</div>\r\n                </div>\r\n                <div className=\"mt-lg-1\">\r\n                    {productCrumbs.map((v: any[],index:number) => {\r\n                        if (!v.length) return;\r\n                        return <div key={index}>\r\n                            <Ax className=\"mint\" href={\"/product-catalog\"}>产品分类</Ax> <span style={{color:\"#a5a8ab\"}}>/</span>\r\n                            {v.map((el: any,i:number) => {\r\n                                return <span key={el.name}>\r\n                                    &nbsp;<Ax className=\"mint\" href={\"/product-catalog/\" + el.owner}>{el.name}</Ax>&nbsp;\r\n                                    { i !== v.length-1 ? <span style={{color:\"#a5a8ab\"}}>/</span> : \"\" }</span>\r\n                            })}\r\n                        </div>\r\n                    })}\r\n                </div>\r\n            </>;\r\n        };\r\n        \r\n        return <div className=\"col-lg-12 mt-lg-2 product-container\">{/* col-lg-9 */}\r\n            {basicInfoUI}\r\n            {descriptionPostUI}\r\n            {standardSampleUI}\r\n            {securityInfoUI}\r\n            {productCrumbsUI}\r\n        </div>\r\n    }\r\n\r\n    private material = (product: Product, showMob?: boolean) => {\r\n        let { id, productDocs } = product;\r\n        let Materials = [\r\n            { id: 1, name: \"化学品安全技术说明书（SDS）\", type: \"msds\" },\r\n            { id: 2, name: \"技术规格说明书（Specifications）\", type: \"spec\" },\r\n            { id: 3, name: \"质检报告 (COA)\", type: \"coa\" },\r\n            { id: 4, name: \"用户手册（UserManual）\", type: \"um\" },\r\n        ];\r\n        let effectArr: any[] = Materials.filter((el: any) => productDocs[el.type]);\r\n        return <div className={classNames('', !showMob ? 'd-none d-sm-block' : 'd-block d-sm-none')} >{/* left-below */}\r\n            {\r\n                effectArr.map((v: any) => {\r\n                    return <Ax key={v.name} href={'/product/mscu/' + v.type + '/' + id}>\r\n                        <div className=\"mint\" >{v.name}</div>\r\n                    </Ax>\r\n                })\r\n            }\r\n        </div>\r\n    }\r\n\r\n    private renderProduct = (product: Product) => {\r\n        let { id, brand, props, chemical, warnings } = product;\r\n        let { description, descriptionC, CAS, purity, molecularFomula, molecularWeight, origin, imageUrl, mdlnumber } = props;\r\n        let eName = <div className=\"py-2\"><strong dangerouslySetInnerHTML={{__html:description|| ''}}></strong></div>;\r\n        let cName: any;\r\n        if (descriptionC !== description) {\r\n            cName = <div dangerouslySetInnerHTML={{__html:descriptionC || ''}}></div>;\r\n        }\r\n        return <>\r\n            <div className=\"col-lg-4 \">\r\n                <div className=\"\">\r\n                    <div className=\"border px-1\">\r\n                        <ProductImage chemicalId={imageUrl} className=\"w-100 mb-2\" />\r\n                    </div>\r\n                    <div className=\"d-none d-sm-block\">{this.material(product)}</div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-lg-8\">\r\n                <div className=\"details\">\r\n                    {eName}\r\n                    {cName}\r\n                    <div className=\"row mx-3\">\r\n                        {renderPropItem('产品编号', origin, \"font-weight-bold\")}\r\n                        {renderPropItem('CAS', <Ax href={`/search/${ CAS || chemical.CAS }` } className=\"text-primary\">{CAS || chemical.CAS}</Ax> , \"font-weight-bold\")}\r\n                        {renderPropItem('纯度', purity || chemical.purity)}\r\n                        {renderPropItem('分子式', molecularFomula || chemical.molecularFomula)}\r\n                        {renderPropItem('分子量', molecularWeight || chemical.molecularWeight)}\r\n                        {renderBrand(brand)}\r\n                        {renderPropItem('MDL', (mdlnumber|| chemical.mdlnumber) ? <Ax href={`/search/${ mdlnumber|| chemical.mdlnumber }` } className=\"text-primary\">{mdlnumber|| chemical.mdlnumber}</Ax> : null)}\r\n                    </div>\r\n                    <div className=\"text-danger row mx-3\">{\r\n                        warnings.map((el: any) => {\r\n                            return <div key={el} className=\"col-sm-6\">{el}</div>;\r\n                        })\r\n                    }</div>\r\n                </div>\r\n                {this.renderVm(VFavorite, { product })}\r\n                {this.renderVm(VPrice, product)}\r\n            </div>\r\n        </>\r\n\r\n        // return <div className=\"mb-3 px-2\">\r\n        //     {eName}\r\n        //     {cName}\r\n        //     <div className=\"row mt-3\">\r\n        //         <div className=\"col-12 col-sm-3\">\r\n        //             <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n        //         </div>\r\n        //         <div className=\"col-12 col-sm-9\">\r\n        //             <div className=\"row mx-3\">\r\n        //                 {renderPropItem('产品编号', origin, \"font-weight-bold\")}\r\n        //                 {renderPropItem('CAS', CAS, \"font-weight-bold\")}\r\n        //                 {renderPropItem('纯度', purity)}\r\n        //                 {renderPropItem('分子式', molecularFomula)}\r\n        //                 {renderPropItem('分子量', molecularWeight)}\r\n        //                 {renderBrand(brand)}\r\n        //             </div>\r\n        //         </div>\r\n        //     </div>\r\n        //     {this.renderVm(VFavorite, { product })/*this.controller.renderFavoritesLabel(product)*/}\r\n        //     {this.renderVm(VPrice, product) /*renderProductPrice(product, discount)*/}\r\n        // </div>;\r\n        // { this.renderVm(VProductFavirateLabel, this.productBox) }\r\n    }\r\n\r\n    private arrTemplet = (item: ProductPackRow) => {\r\n        let { pack, retail, vipPrice, promotionPrice } = item;\r\n        let right = null;\r\n        if (retail) {\r\n            let price: number = this.minPrice(vipPrice, promotionPrice);\r\n            let retailUI: any;\r\n            if (price) {\r\n                retailUI = <small className=\"text-muted\"><del>¥{retail}</del></small>;\r\n            }\r\n            else {\r\n                price = retail;\r\n            }\r\n            right = <div className=\"row\">\r\n                <div className=\"col-sm-6 pb-2 d-flex justify-content-end align-items-center\">\r\n                    <small className=\"text-muted\">{retailUI}</small>&nbsp; &nbsp;\r\n                    <span className=\"text-danger\">¥ <span className=\"h5\">{price}</span></span>\r\n                </div>\r\n                <div className=\"col-sm-6 pb-2 d-flex justify-content-end align-items-center\"><FormField name=\"quantity\" /></div>\r\n            </div >\r\n        } else {\r\n            right = <small>请询价</small>\r\n        }\r\n\r\n        return <div className=\"px-2\">\r\n            <div className=\"row\">\r\n                <div className=\"col-4 p-0\">\r\n                    <div><b>{tv(pack)}</b></div>\r\n                    <div>{this.controller.renderDeliveryTime(pack)}</div>\r\n                </div>\r\n                <div className=\"col-8 p-0\">\r\n                    {right}\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private onQuantityChanged = async (context: RowContext, value: any, prev: any) => {\r\n        let { data } = context;\r\n        let { pack, retail, vipPrice, promotionPrice, currency } = data;\r\n        let price = this.minPrice(vipPrice, promotionPrice) || retail;\r\n        let { cApp, product } = this.controller;\r\n\t\tawait cApp.store.cart.changeQuantity(product, pack, value, price, retail, currency);\r\n\t\t/*\r\n        let { cCart } = cApp;\r\n        if (value > 0)\r\n            await cCart.add(product, pack, value, price, retail, currency);\r\n        else\r\n            await cCart.removeItem([{ productId: product.id, packId: pack.id }]);\r\n\t\t*/\r\n    }\r\n\r\n    private minPrice(vipPrice: any, promotionPrice: any) {\r\n        if (vipPrice || promotionPrice)\r\n            return Math.min(typeof (vipPrice) === 'number' ? vipPrice : Infinity, typeof (promotionPrice) === 'number' ? promotionPrice : Infinity);\r\n    }\r\n\r\n    private uiSchema: UiSchema = {\r\n        Templet: this.arrTemplet,\r\n        items: {\r\n            quantity: {\r\n                widget: 'custom',\r\n                className: 'text-center',\r\n                WidgetClass: MinusPlusWidget as any,\r\n                onChanged: this.onQuantityChanged\r\n            } as UiCustom\r\n        },\r\n    };\r\n\r\n    private renderPack = (pack: ProductPackRow) => {\r\n        return <>\r\n            <div className=\"sep-product-select\" />\r\n            <Form className=\"mx-3\" schema={schema} uiSchema={this.uiSchema} formData={pack} />\r\n        </>;\r\n    }\r\n\r\n    // private dealWithPDF = (fileName: string) => {\r\n    //     let shiftArr = fileName ? fileName.replace(/\\.pdf/ig, '').split('_') : [];\r\n    //     let lang = shiftArr[1];\r\n    //     let caption = languageCaptions[lang];\r\n    //     if (!caption) caption = languageCaptions['CN'];\r\n    //     return caption;\r\n    // }\r\n\r\n    // private renderPDF = (content: any) => {\r\n    //     let { fileName } = content;\r\n    //     let language = this.dealWithPDF(fileName);\r\n    //     let { ToVerifyPdf, product } = this.controller;\r\n    //     return <div className=\"mx-2 d-flex flex-column text-center\" onClick={() => { ToVerifyPdf({ content, product }) }}>\r\n    //         <img src={pdfIcon} alt=\"\" style={{ width: 24 }} />\r\n    //         <div className=\"small\">{language}</div>\r\n    //     </div>\r\n    // }\r\n\r\n    // private renderProductMaterial = () => {\r\n    //     let { MSDSFiles, specFiles, data } = this.controller.product;\r\n    //     let MaterialArr = [\r\n    //         { type: '化学品安全技术说明书(SDS)', content: MSDSFiles },\r\n    //         { type: '技术规格说明书(SPEC)', content: specFiles }\r\n    //     ];\r\n\r\n    //     let renderListItemPDF = (Material: any, index: number) => {\r\n    //         let { type, content } = Material;\r\n    //         if (content.length) {\r\n    //             /* return <div className=\"d-flex pt-2 border-bottom\">\r\n    //                 <div className=\"w-3c align-self-center mr-2 mb-2\" >{type}</div>\r\n    //                 <List items={content} item={{ render: this.renderPDF, className: 'px-2 border-left' }} className=\"d-flex bg-light mb-1\" />\r\n    //             </div> */\r\n    //             return <>\r\n    //                 <div className=\"accordion background-grey w-100\" style={{ background: '#F2F2F2' }}>\r\n    //                     <a className=\"w-100 btn text-left collapsed\" data-toggle=\"collapse\" href={`#description${index}`} role=\"button\" aria-expanded=\"false\" aria-controls=\"jk\" target=\"_blank\">\r\n    //                         {type}&emsp;<i className=\"fa fa-chevron-down\"></i>\r\n    //                     </a>\r\n    //                 </div>\r\n    //                 <div className=\"container collapse show w-100 pt-2 px-0 border border-top-0\" id={`description${index}`}>\r\n    //                     <List items={content} item={{ render: this.renderPDF, className: 'px-2' }} className=\"d-flex bg-light mb-1\" />\r\n    //                 </div>\r\n    //             </>\r\n    //         } else {\r\n    //             return null;\r\n    //         }\r\n    //     };\r\n    //     return <List items={MaterialArr} item={{ render: renderListItemPDF, className: \"d-block pb-2\" }} />;\r\n    // }\r\n}\r\n","/* eslint-disable */\r\nimport { VPage, Scroller, List } from 'tonva-react';\r\nimport { CProduct } from './CProduct';\r\nimport { Product } from '../store';\r\nimport Pagination from 'antd/lib/pagination/Pagination';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport class VPageList extends VPage<CProduct> {\r\n\r\n    private onProductClick = async (product: Product) => {\r\n        let { id } = product;\r\n        let url = \"/product/\" + id;\r\n        this.navigate(url);\r\n    }\r\n\r\n    onPageScrollBottom = async (scroller: Scroller) => {\r\n        scroller.scrollToBottom();\r\n        let { productsPager, esproductsPager } = this.controller;\r\n        if (!(esproductsPager instanceof Array))\r\n            esproductsPager.more();\r\n    }\r\n\r\n    private renderProduct = (p: Product) => {\r\n        return this.controller.cApp.cProduct.renderProduct(p, 'productList');\r\n    }\r\n\r\n\r\n    /*\r\n    async open() {\r\n        this.openPage(this.page)\r\n    }\r\n\r\n    private page = observer(() => {\r\n\r\n        let { productsPager, esproductsPager, cApp, searchKey, esProductsPagerMore, esProductsTotal, currentPage } = this.controller;\r\n        let { cHome, cCart } = cApp;\r\n        let header: any, cart: any;\r\n        if (xs) {\r\n            header = cHome.renderSearchHeader();\r\n            cart = cCart.renderCartLabel();\r\n        }\r\n        let none = <div className=\"p-3 text-warning\">[无]</div>\r\n\r\n        return <Page header={header} right={cart} onScrollBottom={this.onPageScrollBottom}>\r\n            <div className=\"breadcrumbs mb-4\"><small className=\"small text-muted\">搜索: </small>{searchKey}</div>\r\n            <div className=\"row mx-0 bg-light\">\r\n                <div className=\"col-lg-3 product-side d-none d-lg-block\">\r\n                    {this.controller.cApp.cProductCategory.renderRootSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 product-introduct px-0\">\r\n                    <List before={''} none={none} items={esproductsPager} item={{ render: this.renderProduct, onClick: this.onProductClick }} />\r\n                    <div className=\"text-center mt-3 mb-5 d-none d-sm-block\">\r\n                        <Pagination onChange={(v) => {\r\n                            document.body.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\r\n                            esProductsPagerMore(v);//scrollTo(0,0);\r\n                        }} defaultCurrent={currentPage} pageSize={20} hideOnSinglePage={true}\r\n                            total={esProductsTotal ? esProductsTotal.value : 0} showSizeChanger={false} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    });\r\n    */\r\n\r\n    header() {\r\n        return this.isWebNav === true ? null : this.controller.cApp.cHome.renderSearchHeader();\r\n    }\r\n\r\n    right() {\r\n        return this.isWebNav === true ? null : this.controller.cApp.renderCartLabel();\r\n    }\r\n\r\n    content() {\r\n        return <this.contentView />\r\n    }\r\n\r\n    private contentView = observer(() => {\r\n\r\n        let { productsPager, esproductsPager, cApp, searchKey, esProductsPagerMore, esProductsTotal, currentPage } = this.controller;\r\n        let none = <div className=\"p-3 text-warning\">[无]</div>;\r\n        return <section className=\"container mt-lg-2\">\r\n            <div className=\"breadcrumbs mb-1 mb-sm-2 mb-lg-4\"><small className=\" small text-muted\">搜索: </small>{searchKey}</div>\r\n            <div className=\"container display-mobile px-0\">\r\n                {cApp.cProductCategory.renderRootSideBarByMob()}\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-3 product-side display-desktop\">{/* d-none d-lg-block col-lg-3 product-side */}\r\n                    {/* col-lg-3 product-side display-desktop */}\r\n                    {cApp.cProductCategory.renderRootSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 product-introduct px-0\">\r\n                    <List before={''} none={none} items={esproductsPager} className=\"bg-white\"\r\n                        item={{ render: this.renderProduct,/*  onClick: this.onProductClick, */ className: \"py-3 border-bottom\" }} />\r\n                    <div className=\"text-center mt-lg-65\">\r\n                        <Pagination onChange={(v) => {\r\n                            document.body.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"nearest\" });\r\n                            esProductsPagerMore(v);//scrollTo(0,0);\r\n                        }} defaultCurrent={currentPage} pageSize={20} hideOnSinglePage={true}\r\n                            total={esProductsTotal ? esProductsTotal.value : 0} showSizeChanger={false} className=\"page-item\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>;\r\n    })\r\n}","import { CProduct } from './CProduct';\r\nimport { VPage, Page } from 'tonva-react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react-lite';\r\nimport Pdfh5 from 'pdfh5'\r\nimport \"pdfh5/css/pdfh5.css\";\r\n\r\nexport class VPagePDF extends VPage<CProduct> {\r\n    pdfh5: any;\r\n    fileName: string = '';      /* 文件名称 暂弃 */\r\n    fileUrl: any;               /* 文件路径 */\r\n    isFoundFile: boolean = true;/* 文件是否存在 */\r\n    fileContent: any;           /* 内容 */\r\n\r\n    constructor(c: CProduct) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            pdfh5: observable,\r\n            fileName: observable,\r\n            fileUrl: observable,\r\n            isFoundFile: observable,\r\n            fileContent: observable\r\n        });\r\n    }\r\n\r\n    async open(param?: any) {\r\n        // this.fileName = this.controller.currentFileName;\r\n        this.fileUrl = param?.fileUrl || '#';\r\n        this.fileContent = param?.content;\r\n        setTimeout(() => {this.parsRenderPDF()}, 50);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private parsRenderPDF = () => {\r\n        if (!this.fileUrl) {\r\n            this.isFoundFile = false;\r\n        } else {\r\n            this.isFoundFile = true;\r\n            this.pdfh5 = new Pdfh5(\"#PDFVIEW\", {\r\n                // pdfurl: this.fileUrl\r\n                data: this.fileContent\r\n            });\r\n        }\r\n    }\r\n\r\n    // showAci\r\n\r\n    /* dln = async () => {       \r\n        let downloadElement = document.createElement('a');\r\n        let href = window.URL.createObjectURL(new Blob([this.fileUrl])); //创建下载的链接\r\n        // let fileName ='';\r\n        downloadElement.href = href;\r\n        downloadElement.download = 'SDS.pdf';//decodeURIComponent(fileName)//解码\r\n        document.body.appendChild(downloadElement);\r\n        downloadElement.click();\r\n        document.body.removeChild(downloadElement);\r\n        window.URL.revokeObjectURL(href); //释放掉blob对象\r\n    } */\r\n\r\n    private page = observer(() => {\r\n        // let header = <div className=\"w-100 text-center\">{this.fileName}</div>;\r\n        // let right = <></>;// <div className=\"mr-2\" onClick={() => this.isShowActionSheet = true}><FA name='ellipsis-h' /></div>;\r\n        //setTimeout(() => {this.ParsRenderPDF()}, 50);\r\n        // return <Page header={header} right={right} >\r\n        return <Page >\r\n            <div className=\"text-right mt-1 rounded py-1 pr-3 d-none d-sm-block\" style={{background:'#f5f5f5'}}>\r\n                <a href={this.fileUrl} target=\"_blank\" rel=\"noreferrer\">\r\n                    <button className=\"btn btn-sm btn-success w-3c\" style={{backgroundColor: '#218838'}}>下载</button>\r\n                    {/* <FA name=\"cloud-download\" className=\"text-primary\" size='2x' /> */}\r\n                </a>\r\n            </div>\r\n            {/* <button onClick={()=>{this.dln()}} className=\"btn btn-primary\">下载</button> */}\r\n            {/* <div className=\"position-fixed d-flex flex-column justify-content-end\" style={{ top: 0, left: 0, bottom: 0, right: 0, background: 'rgba(0, 0, 0, .3)' }}>\r\n                <div className=\"\">\r\n                    <div>\r\n                        <button className=\"btn btn-light w-100\">下载</button>\r\n                    </div>\r\n                    <footer className=\"mt-2\">\r\n                        <button className=\"btn btn-light w-100\" onClick={() => this.isShowActionSheet = false}>取消</button>\r\n                    </footer>\r\n                </div>\r\n            </div> */}\r\n            {\r\n                this.isFoundFile \r\n                    ? <div id=\"PDFVIEW\" className=\"w-100 my-2\" style={{ height: '100vh',overflowY:'auto' }}></div>\r\n                    : <div className=\"text-center py-5\">NOT FOUND</div>\r\n            }\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { Page, VPage } from 'tonva-react';\r\nimport { CProduct } from './CProduct';\r\nimport { observer } from 'mobx-react';\r\nimport moment from 'moment';\r\nimport classNames from 'classnames';\r\nimport { xs } from 'tools/browser';\r\n\r\nconst BrandImg: { [brand: string]:string} = {\r\n    'J&K':'/images/coa/coa.jpg',\r\n    'Amethyst':'/images/coa/coaa10.jpg',\r\n};\r\n\r\nexport class VPageCoa extends VPage<CProduct> {\r\n\r\n    async open(param?: any) {\r\n        // let iframeList: any = document.querySelectorAll('body iframe');\r\n        // if (iframeList && iframeList.length) iframeList[iframeList.length - 1].setAttribute('class', \"test-iframe-d-n\");\r\n        let iframeLists: any = document.querySelectorAll('.class_qidian_wpa');\r\n        if (iframeLists && iframeLists.length) {\r\n            for (let key of iframeLists) { key.setAttribute('class', \"test-iframe-d-n\"); };\r\n        };\r\n        this.openPage(this.page, param);\r\n\t}\r\n\r\n\tpage = observer((param?: any) => {\r\n        let { content : COAContent } = param;\r\n        let { content, version, issueDate, lot, origin, product } = COAContent;\r\n        content = JSON.parse(content.replace(/(\\n|\\t|\\r)*/g, ''));\r\n        issueDate = moment(issueDate).format('YYYY-MM-DD');\r\n        let brand:any = product?.obj?.brand?.obj;\r\n        let arr1 = ['description','cas','molecularFormula','molecularWeight','issueDate'];\r\n        let OtherArr = Object.keys(content).filter((v: any) => !arr1.find((i: any) => i === v));\r\n        let header: any, title = '质检报告';\r\n        if (xs) header = title;\r\n        return <Page header={header}>\r\n            <div style={{visibility: \"hidden\"}} onClick={()=>{window.print();}} >打印</div>\r\n\t\t\t<div className=\"text-center w-100 mt-lg-2\">\r\n                <img src={BrandImg[brand?.name] || BrandImg['J&K']} className=\"w-75\" alt=\"\"/>\r\n                <h5 className=\"r-font-size font-weight-bolder\">CERTIFICATE OF ANALYSIS</h5>\r\n            </div>\r\n            <div className=\"border-bottom border-dark font-weight-bold py-1\" style={{ borderTopStyle:'double'}}>\r\n                <div className=\"row mx-0\">\r\n                    {renderCOAItem('catalogNO.',origin)}\r\n                    {renderCOAItem('LotNumber',lot?.obj?.lotnumber)}\r\n                </div>\r\n                <div className=\"row mx-0\">{renderCOAItem('ProductName',content['description'],null,'col-lg-5')}</div>\r\n                <div className=\"row mx-0\">{renderCOAItem('CAS',content['cas'],null,'col-lg-5')}</div>\r\n                <div className=\"row mx-0\">{renderCOAItem('Version',version,null,'col-lg-5')}</div>\r\n                <div className=\"row mx-0\">{renderCOAItem('Molecular Formula',content['molecularFormula'],null,'col-lg-5')}</div>\r\n                <div className=\"row mx-0\">\r\n                    {renderCOAItem('Molecular Weight', content['molecularWeight'])}\r\n                    {renderCOAItem('Issue Date',issueDate)}\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {\r\n                    OtherArr.map((v: any, index: number) => {\r\n                        let cont = content[v];\r\n                        if(Object.prototype.toString.call(cont) ===\"[object Object]\") {\r\n                            return <>\r\n                                <div className=\"row mx-0 font-weight-bold\">{renderCOAItem(v, ' ', null, 'col-lg-5')}</div>\r\n                                {\r\n                                    Object.keys(cont).map((i: any, o: number) => {\r\n                                        if(Object.prototype.toString.call(cont[i]) ===\"[object String]\"){\r\n                                            return <div className=\"row mx-0\"  key={o}>\r\n                                                {renderCOAItem(i, cont[i], 'ml-2 font-weight-normal', 'col-lg-5')}\r\n                                            </div>\r\n                                        };\r\n                                        return null;\r\n                                    })\r\n                                }\r\n                            </>\r\n                        };\r\n                        if(Object.prototype.toString.call(cont) ===\"[object String]\") {\r\n                            return <div className=\"row mx-0 font-weight-bold\" key={index}>\r\n                                {renderCOAItem(v, cont, null, 'col-lg-5')}\r\n                            </div>\r\n                        };\r\n                        return null;\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"mb-lg-5 mb-sm-5 mt-2\">\r\n                <img src=\"/images/coa/coa1.gif\" className=\"col-lg-4 col-sm-8 col-10\" alt=\"\"/>\r\n            </div>\r\n\t\t</Page>\r\n    })\r\n}\r\n\r\nfunction renderCOAItem(caption: string, value: any, captionClass?: string, valClass?: string) {\r\n    if (value === null || value === undefined || value === '0') return null;\r\n    let capClass = captionClass ? classNames(captionClass) : \"\";\r\n    valClass = valClass ? classNames(valClass) : \"\";\r\n    return <>\r\n        <div className={classNames(\"col-lg-2 col-sm-5 col-5\", capClass)}> {caption}</div>\r\n        <span className=\"mx-2\">:</span>\r\n        <div className={classNames(\"col-lg-2 col-sm-5 col-5\", valClass)} style={{wordWrap:'break-word'}}>{value}</div>\r\n    </>;\r\n}","import * as React from 'react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { Page, VPage, autoHideTips } from 'tonva-react';\r\nimport { CProduct } from './CProduct';\r\nimport { observer } from 'mobx-react';\r\nimport { xs } from '../tools/browser';\r\nimport { VPagePDF } from './VPagePDF';\r\nimport { languageCaptions } from './VPageProduct';\r\nimport { VPageCoa } from './VPageCoa';\r\n\r\nconst materialCaptions: { [type: string]: any } = {\r\n\t'msds': { type: 'MSDS', CName: \"化学品安全技术说明书\", EName: 'Safety Data Sheet (SDS)' },\r\n\t'spec': { type: 'SPEC', CName: \"技术规格说明书\", EName: 'Specifications (SPEC)' },\r\n\t'coa': { type: 'COA', CName: \"质检报告\", EName: 'Certificate of Analysis (COA)' },\r\n\t'um': { type: 'um', CName: \"用户手册\", EName: 'User Manual (UM)' },\r\n}\r\n\r\nconst defLangs = [{ language: \"CN\" }, { language: \"EN\" }, { language: \"DE\" }, { language: \"EN-US\" },];\r\n\r\nexport const docTypeWithCaptcha: any[] = [\"msds\", \"spec\", \"um\"];\r\n\r\nexport class VPageSkillSearch extends VPage<CProduct> {\r\n\tprivate productOrigin: HTMLInputElement;\r\n\tprivate productLot: HTMLInputElement;\r\n\tprivate captchaInput: HTMLInputElement;\r\n\tprivate selectVal: HTMLSelectElement;\r\n\tprivate productOriginTip = observable.box<string>();\r\n\tprivate productLotTip = observable.box<string>();\r\n\tprivate productLotTipNone = observable.box<string>();\r\n\tprivate captchaTip = observable.box<string>();\r\n\tbuttonDisable: boolean = false;\r\n\r\n\tconstructor(c: CProduct) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            buttonDisable: observable\r\n        });\r\n\t}\r\n\r\n\tasync open(param?: any) {\r\n\t\tthis.openPage(this.page, { origin: param });\r\n\t}\r\n\r\n\tpage = observer((param?: any) => {\r\n\r\n\t\tlet { materialType } = this.controller;\r\n\t\tlet assistContent = (docTypeWithCaptcha.includes(materialType)) ? <>{this.captchaUI(materialType)}</> : <>{this.lots()}</>;\r\n\t\tlet content = materialCaptions[materialType];\r\n\t\tlet header: any, right: any;\r\n\t\tif (xs) {\r\n\t\t\theader = <div className=\"w-100 text-center\">产品资料</div>;\r\n\t\t\tright = <></>;\r\n\t\t};\r\n\t\tlet { origin } = param;\r\n\t\treturn <Page header={header} right={right}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-12\"><h1 className=\"title my-4\">{content.CName}</h1></div>\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<div className=\"box\">\r\n\t\t\t\t\t\t\t<div className=\"content\">\r\n\t\t\t\t\t\t\t\t<p>{content.EName}</p>\r\n\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t\t\t\t<input ref={v => this.productOrigin = v} type=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control border-primary my-2' defaultValue={origin ? origin : ''} placeholder='产品编号' />\r\n\t\t\t\t\t\t\t\t\t\t{autoHideTips(this.productOriginTip, tip => <div className='small text-danger'>* {tip}</div>)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{assistContent}\r\n\t\t\t\t\t\t\t\t\t{autoHideTips(this.productLotTipNone, tip => <div className='small text-danger px-3'>* {tip}</div>)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary w-5c mt-2 mb-5\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={this.buttonDisable}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e: any) => { e.preventDefault(); this.buttonDisable = true; this.onSubmit();  }}>查询</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Page>\r\n\t})\r\n\r\n\tprivate lots = () => {\r\n\t\treturn <div className=\"col-md-3\">\r\n\t\t\t<input ref={v => this.productLot = v} type=\"text\"\r\n\t\t\t\tclassName='form-control border-primary my-2'\r\n\t\t\t\tplaceholder='产品批号' />\r\n\t\t\t{autoHideTips(this.productLotTip, tip => <div className='small text-danger'>* {tip}</div>)}\r\n\t\t</div>\r\n\t}\r\n\r\n\tprivate captchaUI = (type: string) => {\r\n\t\tlet { captcha, productMscuVersions, getCaptcha } = this.controller;\r\n\t\tlet langUI: undefined | JSX.Element;\r\n\r\n\t\tif (type === 'msds' || type === 'um') {\r\n\t\t\tlet langArr: any[] = productMscuVersions.length ? productMscuVersions : defLangs;\r\n\t\t\tlangUI = <select ref={v => this.selectVal = v} defaultValue='CN' className=\"p-1 mr-2 mb-2 text-dark\">\r\n\t\t\t\t{langArr.map((v: any) => (<option key={v.language} value={v.language}>{languageCaptions[v.language]}</option>))}\r\n\t\t\t</select>\r\n\t\t};\r\n\t\treturn <>\r\n\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t<input ref={v => this.captchaInput = v} type=\"text\"\r\n\t\t\t\t\tclassName='form-control border-primary my-2' placeholder='验证码' />\r\n\t\t\t\t{autoHideTips(this.captchaTip, tip => <div className='small text-danger'>* {tip}</div>)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"col-md-6 my-2\">\r\n\t\t\t\t{langUI}\r\n\t\t\t\t<img src={captcha} alt=\"\" className=\"border p-1 rounded-lg mb-1\" style={{ height: 35 }} />\r\n\t\t\t\t<button className=\"btn btn-link btn-block w-5c p-0 m-0 d-inline-block align-self-center\"\r\n\t\t\t\t\tonClick={(e: any) => { e.preventDefault(); getCaptcha() }}>换一张</button>\r\n\t\t\t</div>\r\n\t\t</>;\r\n\t}\r\n\r\n\tprivate onSubmit = async () => {\r\n\t\tlet productOrigin = this.productOrigin.value;\r\n\t\tlet productLot = this.productLot ? this.productLot.value : true;\r\n\t\tlet currtCaptcha = this.captchaInput ? this.captchaInput.value : true;\r\n\r\n\t\tif (!productOrigin) this.productOriginTip.set('产品编号不可为空');\r\n\t\tif (!productLot) this.productLotTip.set('产品批号不可为空');\r\n\t\tif (!currtCaptcha) this.captchaTip.set('验证码不可为空');\r\n\t\tthis.buttonDisable = false;\r\n\t\tif (!productOrigin || !productLot || !currtCaptcha) return;\r\n\t\tlet { getPDFFileUrl, getCaptcha } = this.controller;\r\n\t\tlet content: any = await getPDFFileUrl({\r\n\t\t\torigin: productOrigin, captcha: currtCaptcha,\r\n\t\t\tlang: this.selectVal ? this.selectVal.value : undefined, lot: productLot\r\n\t\t});\r\n\t\tif (content === undefined) return;\r\n\t\tif (content.status) {\r\n\t\t\tif (this.controller.materialType === 'coa') this.productLotTipNone.set(content.msg);\r\n\t\t\telse {\r\n\t\t\t\tthis.captchaTip.set(content.msg);\r\n\t\t\t\tawait getCaptcha();\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tthis.buttonDisable = true;\r\n\t\t\tif (this.captchaInput) this.captchaInput.value = '';\r\n\t\t\tif (this.productLot) this.productLot.value = '';\r\n\t\t\tif (this.controller.materialType === 'coa') this.openVPage(VPageCoa, content);\r\n\t\t\telse this.openVPage(VPagePDF, content);\r\n\t\t};\r\n\t\tthis.buttonDisable = false;\r\n\t}\r\n}\r\n","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage, List } from 'tonva-react';\r\nimport { CProduct } from './CProduct';\r\nimport { Product } from '../store';\r\nimport Pagination from 'antd/lib/pagination/Pagination';\r\nimport { observer } from 'mobx-react';\r\nimport { pageHTitle } from 'tools/pageHeaderTitle';\r\n\r\nexport class VStructure extends VPage<CProduct> {\r\n\r\n    init() {\r\n        \r\n    }\r\n\r\n    header() { return \"\";}\r\n\r\n    content() { return <this.contentView />}\r\n\r\n    callStructureSearchs = () => {\r\n        window.callStructureSearch();\r\n    }\r\n\r\n    private contentView = observer(() => {\r\n        return <div className=\"mb-5\">\r\n            {pageHTitle(<div className=\"text-left\">结构式搜索</div>)}\r\n            {/* 本地测试 在项目public中添加drawmoleculeGWT */}\r\n            {/* <iframe className=\"mx-auto\" id=\"drawmolecule\" src=\"/drawmoleculeGWT/Drawmolecule.html\" width=\"1014\" height=\"405\" scrolling=\"no\">\r\n                <script src='/drawmoleculeGWT/drawmolecule/drawmolecule.nocache.js'></script>\r\n            </iframe> */}\r\n            {/* 发布使用 */}\r\n            <iframe id=\"drawmolecule\" src=\"https://test.jkchemical.com/drawmoleculeGWT\" width=\"100%\" height=\"405\" scrolling=\"no\">\r\n                <script src='https://test.jkchemical.com/drawmoleculeGWT/drawmolecule/drawmolecule.nocache.js'></script>\r\n            </iframe>\r\n            <div><button onClick={() => { this.callStructureSearchs() }}\r\n                style={{border:\"none\"}} type=\"button\" className=\"rounded btn-secondary px-3 py-1\" >结构式查询</button></div>\r\n            <div className=\"h4 my-4 mb-3 pl-2\" style={{borderLeft:\"5px solid #DD9222\"}}>查询结果</div>\r\n            <div id=\"moleculeCanvases\" className=\"row mx-0\">\r\n                <div className=\"w-100 py-2 text-center rounded-sm border text-muted\" >暂无内容</div>\r\n            </div>\r\n        </div>\r\n    })\r\n}","import { observable, makeObservable } from 'mobx';\r\nimport { BoxId, QueryPager } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VPageProduct } from './VPageProduct';\r\nimport { VPageList } from './VPageList';\r\nimport { docTypeWithCaptcha, VPageSkillSearch } from './VPageSkillSearch';\r\nimport { VDelivery, VInCart, VProductWithPrice, VProuductView2 } from './views';\r\nimport { Product } from '../store';\r\nimport { GLOABLE } from 'global';\r\nimport { ElasticSearchPager, UrlGen, productUrlGen, productCatalogUrlGen, productStandardUrlGen } from '../tools/elasticSearchPager';\r\nimport { xs } from 'tools/browser';\r\nimport { VError } from '../tools/VError';\r\nimport { VStructure } from './VStructure';\r\n\r\nexport class CProduct extends CUqBase {\r\n    productsPager: QueryPager<Product>;\r\n    esproductsPager: ElasticSearchPager<Product> | any[];\r\n    esProductsTotal: any;\r\n    currentPage: number = 1;\r\n    //@observable productSpecFiles: any[] = [];\r\n    //@observable productMSDSFiles: any[] = [];\r\n    //@observable futureDeliveryTimeDescriptionContainer: { [cacheId: string]: string } = {};\r\n    //@observable chemicalInfoContainer: { [productId: number]: any } = {};\r\n\r\n    captcha: any;\r\n    materialType: string;\r\n    currentFileName: any;\r\n    currentLanguage: any;\r\n    currentProduct: any;\r\n    productMscuVersions: any[] = [];\r\n    showFavorites: Boolean = false;\r\n    searchUrl: string;\r\n\r\n    //@observable productData: any;\r\n    //@observable product: any;\r\n    //@observable discount: any;\r\n\r\n    // private salesRegion: any;\r\n    // private language: any;\r\n\r\n    product: Product;\r\n\r\n    searchKey: string;\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            esproductsPager: observable,\r\n            esProductsTotal: observable,\r\n            currentPage: observable,\r\n            captcha: observable,\r\n            materialType: observable,\r\n            currentFileName: observable,\r\n            currentLanguage: observable,\r\n            currentProduct: observable,\r\n            productMscuVersions: observable,\r\n            showFavorites: observable,\r\n            searchUrl: observable\r\n        });\r\n    }\r\n\r\n    protected async internalStart(param?: any) {\r\n        let { key, type } = param;\r\n        this.searchKey = key;\r\n        this.currentPage = 1;\r\n        this.searchByKey(Number(type));\r\n    }\r\n\r\n    private productConverter = (item: any, queryResults?: { [name: string]: any[] }): Product => {\r\n        let product = this.cApp.getProduct(item.id);\r\n        product.props = item;\r\n        // product.props.imageUrl = item.chemical.toString();\r\n        product.loadListItem();\r\n        return product;\r\n    }\r\n\r\n    searchAction = async (url: string, keyWord: any, urlGen: UrlGen) => {\r\n        let { currentSalesRegion } = this.cApp;\r\n        this.searchUrl = url;\r\n        // if (xs) {\r\n        this.esproductsPager = new ElasticSearchPager<Product>(url, urlGen, 10, 10);\r\n        this.esproductsPager.setItemConverter(this.productConverter);\r\n        await this.esproductsPager.first({\r\n            keyWord: keyWord,\r\n            salesRegion: currentSalesRegion.id\r\n        });\r\n        // };\r\n\r\n        /* if (!xs) {\r\n            this.searchUrl = url + '?key=' + keyWord;\r\n            // this.searchUrl = url + '/' + keyWord;\r\n            await this.esProductsPagerMore(this.currentPage);\r\n        }\r\n        this.openVPage(VPageList); */\r\n    }\r\n\r\n    private async searchByKey(type: number) {\r\n        let url = GLOABLE.CONTENTSITE + '/api/product/search';\r\n        if (type === 2) url = GLOABLE.CONTENTSITE + '/api/standard-sample';\r\n        let keyWord = encodeURIComponent(this.searchKey);\r\n        if (xs) {\r\n            let urlGen = new productUrlGen();\r\n            if (type === 2) urlGen = new productStandardUrlGen();\r\n            await this.searchAction(url, keyWord, urlGen);\r\n        };\r\n        if (!xs) {\r\n            this.searchUrl = url + '?key=' + keyWord + '&pageNumber=';\r\n            if (type === 2) this.searchUrl = url + '/' + keyWord + '/';\r\n            await this.esProductsPagerMore(this.currentPage);\r\n        };\r\n        this.openVPage(VPageList);\r\n        /* this.productsPager = new QueryPager<Product>(this.uqs.product.SearchProduct, 10, 10);\r\n        this.productsPager.setItemConverter(this.productConverter);\r\n        this.productsPager.first({\r\n            keyWord: this.searchKey,\r\n            salesRegion: currentSalesRegion.id\r\n        }); */\r\n    }\r\n\r\n    searchWebByKey(key: string) {\r\n        let { currentSalesRegion } = this.cApp;\r\n        this.productsPager = new QueryPager<any>(this.uqs.product.SearchProduct, 3, 3);\r\n        this.productsPager.setItemConverter(this.productConverter);\r\n        this.productsPager.first({ keyWord: key, salesRegion: currentSalesRegion.id })\r\n    }\r\n\r\n    async searchByCategory({ productCategory, name }: { productCategory: number; name: string }) {\r\n        this.searchKey = name; this.currentPage = 1;\r\n        let url = GLOABLE.CONTENTSITE + '/api/product-catalog';\r\n        let keyWord = productCategory + '/products';\r\n        if (xs) {\r\n            let urlGen = new productCatalogUrlGen();\r\n            await this.searchAction(url, keyWord, urlGen);\r\n        };\r\n        if (!xs) {\r\n            this.searchUrl = url + '/' + keyWord + '/';\r\n            await this.esProductsPagerMore(this.currentPage);\r\n        };\r\n        this.openVPage(VPageList);\r\n        /* this.productsPager = new QueryPager<any>(this.uqs.product.SearchProductByCategory, 10, 10);\r\n        this.productsPager.setItemConverter(this.productConverter);\r\n        await this.productsPager.first({\r\n            productCategory,\r\n            salesRegion: currentSalesRegion.id\r\n        }); */\r\n        // this.openVPage(VPageList);\r\n    }\r\n\r\n    esProductsPagerMore = async (page: number) => {\r\n        this.currentPage = page;\r\n        let url = this.searchUrl + page;\r\n        // let url = this.searchUrl + '/' + page;\r\n        let resp = await fetch(url, {\r\n            // mode: 'cors',\r\n            method: 'GET',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n        });\r\n        let ret = await resp.json();\r\n        let items = ret.hits.filter((v: any) => v);\r\n        let arr = [];\r\n        for (let key of items) {\r\n            if (!key) continue;\r\n            let product = this.productConverter(key);\r\n            arr.push(product);\r\n        }\r\n        this.esproductsPager = arr;\r\n        this.esProductsTotal = ret.total;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    showProductDetail = async (productId: BoxId | number | string, JumpSource?: any) => {\r\n        if (!productId) return;\r\n        if (typeof productId === 'string') {\r\n            productId = Number(productId);\r\n        }\r\n        this.product = this.cApp.getProduct(productId);\r\n        await this.product.loadDetail();\r\n        if (JumpSource) this.closePage();\r\n        if (!this.product.props) {\r\n            this.openVPage(VError);\r\n        } else {\r\n            this.openVPage(VPageProduct);\r\n        }\r\n    }\r\n\r\n    /*\r\n    renderProductPrice = (product: BoxId, discount: number) => {\r\n        return this.renderView(VProductPrice, { product: product, discount: discount });\r\n    }\r\n    */\r\n\r\n    renderProductWithPrice = (product: BoxId) => {\r\n        return this.renderView(VProductWithPrice, product);\r\n    }\r\n\r\n    /*\r\n    getProductPrice = async (product: BoxId, salesRegionId: number, discount: number) => {\r\n        let { id: productId } = product;\r\n        let { currentSalesRegion, cart, currentLanguage, uqs } = this.cApp;\r\n\r\n        let prices = await uqs.product.PriceX.table({ product: product, salesRegion: salesRegionId });\r\n        let priceSet = prices.filter(e => e.discountinued === 0 && e.expireDate > Date.now()).sort((a, b) => a.retail - b.retail).map(element => {\r\n            let ret: any = {};\r\n            ret.pack = element.pack;\r\n            ret.retail = element.retail;\r\n            if (discount !== 0)\r\n                ret.vipPrice = Math.round(element.retail * (1 - discount));\r\n            ret.currency = currentSalesRegion.currency;\r\n            ret.quantity = cart.getQuantity(productId, element.pack.id)\r\n            return ret;\r\n        });\r\n        let promises: PromiseLike<any>[] = [];\r\n        priceSet.forEach(v => {\r\n            promises.push(uqs.promotion.GetPromotionPack.obj({ product: productId, pack: v.pack, salesRegion: currentSalesRegion, language: currentLanguage }));\r\n        })\r\n        let results = await Promise.all(promises);\r\n\r\n        for (let i = 0; i < priceSet.length; i++) {\r\n            let promotion = results[i];\r\n            let discount = promotion && promotion.discount;\r\n            if (discount)\r\n                priceSet[i].promotionPrice = Math.round((1 - discount) * priceSet[i].retail);\r\n        }\r\n        return priceSet;\r\n    }\r\n    */\r\n\r\n    renderDeliveryTime = (pack: BoxId, defColor?: string) => {\r\n        let param = { pack: pack, defColor: defColor };\r\n        return this.renderView(VDelivery, param);\r\n    }\r\n\r\n    /*\r\n    renderChemicalInfoInCart = (product: BoxId) => {\r\n        return this.renderView(VChemicalInfoInCart, product);\r\n    }\r\n    */\r\n\r\n    /*\r\n    renderFavoritesLabel = (product: Product) => {\r\n        //let { cApp } = this;\r\n        //let { cFavorites } = cApp;\r\n        //return cFavorites.renderFavoritesLabel(product);\r\n        return this.renderView(VFavorite, product);\r\n    }\r\n    */\r\n\r\n    /**\r\n     *\r\n     */\r\n    renderProduct = (product: Product, dataSource?: string, callback?: any) => {\r\n        return this.renderView(VProuductView2, { product, dataSource, callback });\r\n    }\r\n\r\n    renderCartProduct = (product: Product) => {\r\n        return this.renderView(VInCart, product);\r\n    }\r\n\r\n    /**\r\n     * 在线预览PDF,开启验证\r\n     */\r\n    ToVerifyPdf = async (fileInfo: any) => {\r\n        //let { currentUser } = this.cApp;\r\n        let { content, product } = fileInfo;\r\n        let reg = /\\w*\\//ig\r\n        this.currentFileName = content.fileName ? content.fileName.replace(reg, '').toLocaleUpperCase() : undefined;\r\n        this.currentLanguage = content.language;\r\n        this.currentProduct = product;\r\n        await this.cApp.assureLogin();\r\n        //let loginCallback = async (user: User) => {\r\n        //    await currentUser.setUser(user);\r\n        //    this.closePage(1);\r\n        //    await this.openMaterial();\r\n        //};\r\n        //if (!this.isLogined)\r\n        //    nav.showLogin(loginCallback, true);\r\n        //else\r\n        // await this.openMaterial();\r\n    }\r\n\r\n    /**\r\n     * 获取PDF文件流\r\n     */\r\n    getPDFFileUrl = async (row: any) => {\r\n        // await this.cApp.assureLogin();\r\n        let { origin, captcha, lang, lot } = row;\r\n        if (this.materialType === 'msds')\r\n            return await this.fetchPdf(`/partial/productMsdsFileByOrigin/${lang}/${origin}/${captcha}`);\r\n        if (this.materialType === 'um')\r\n            return await this.fetchPdf(`/partial/productUserManualFileByOrigin/${lang}/${origin}/${captcha}`);\r\n        if (this.materialType === 'spec')\r\n            return await this.fetchPdf(`/partial/productSpecFileByOrigin/${origin}/${captcha}`);\r\n        if (this.materialType === 'coa') {\r\n            let getLot = await this.getLotByOrigin({ lotnumber: lot, origin: origin });/* LV50T103 911810  */\r\n            let res = {\r\n                status: 404,\r\n                msg: `暂时不能提供质检报告（COA）, 您可能输入了错误的产品编号（批号），或者您查询产品品牌暂时不能提供质检报告。`\r\n            };\r\n            if (!getLot) return res;\r\n            let getCoaByOrigin = await this.getCoaByOrigin(getLot.id);\r\n            if (!getCoaByOrigin) return res;\r\n            return {\r\n                content: {\r\n                    ...getLot,\r\n                    ...getCoaByOrigin,\r\n                    origin: origin\r\n                }\r\n            };\r\n        };\r\n    }\r\n\r\n    getCoaByOrigin = async (lotNumber: string | number) => {\r\n        return await this.uqs.product.COA.obj({ lot: lotNumber });\r\n    }\r\n\r\n    getLotByOrigin = async (row: any) => {\r\n        let { origin, lotnumber } = row;\r\n        return await this.uqs.product.GetLotByLotnumber.obj({ lotnumber: lotnumber, origin: origin });\r\n    }\r\n\r\n    fetchPdf = async (url: string) => {\r\n        let fileUrl = GLOABLE.CONTENTSITE + url;\r\n        let res = await window.fetch(fileUrl, {\r\n            credentials: 'include'\r\n        });\r\n        if (res.status === 200) {\r\n            let content = await res.arrayBuffer();\r\n            return {\r\n                content: content,\r\n                fileUrl: fileUrl,\r\n            };\r\n        } else {\r\n            return {\r\n                status: res.status,\r\n                msg: res.status !== 400 ? res.statusText : '验证码错误!'\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 获取验证码\r\n     */\r\n    getCaptcha = async () => {\r\n        let timer = (new Date()).getTime();\r\n        this.captcha = GLOABLE.CONTENTSITE + `/partial/captcha/?timer=${timer}`;\r\n    }\r\n\r\n    /**\r\n     * 产品资料页面\r\n     */\r\n    openMaterial = async (type?: string, id?: string) => {\r\n        type = type !== undefined ? type.toLowerCase() : type;\r\n        if (docTypeWithCaptcha.includes(type)) await this.getCaptcha();\r\n        this.materialType = type;\r\n        let origin: string;\r\n        if (!isNaN(Number(id))) {\r\n            this.product = this.cApp.getProduct(Number(id));\r\n            await this.product.loadBase();\r\n        }\r\n        if (this.product && this.product.props) {\r\n            origin = this.product.props.origin;\r\n            if (origin && (type === 'msds' || type === 'um')) {\r\n                let urls: { [type: string]: string } = {\r\n                    \"msds\": \"/partial/productMsdsVersion/\",\r\n                    \"um\": \"/partial/productUserManualVersion/\",\r\n                };\r\n                let url: string = urls[type] || \"/partial/productMsdsVersion/\";\r\n                let result = await window.fetch(GLOABLE.CONTENTSITE + url + origin);\r\n                if (result && result.ok) this.productMscuVersions = await result.json();\r\n                else this.productMscuVersions = [];\r\n            };\r\n        }\r\n        this.openVPage(VPageSkillSearch, origin);\r\n    }\r\n\r\n    openStructuredSearch = async () => {\r\n        this.openVPage(VStructure);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { View, FA } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\n\r\nexport class VModelByCreateOrder extends View<COrder>{\r\n\r\n    render() {\r\n        let { modalTitle, modalTitleS, renderModelContent } = this.controller;\r\n        let showBack = modalTitle && modalTitleS[modalTitle].preLevel;\r\n        // document.body.setAttribute(\"style\", `overflow: ${modalTitle ? \"hidden\" : \"auto\"};`);\r\n        return <div className='modal modal-dialog-show' style={{ display: modalTitle ? 'block' : 'none', background: \"rgba(0,0,0,.3)\", }}>\r\n            <div className=\"d-flex justify-content-center align-content-center w-100 h-100\" >\r\n                <div className=\"border bg-light m-auto rounded pb-4 position-relative\" style={{ maxWidth: 800 }}>\r\n                    <div className=\"position-absolute cursor-pointer\" style={{ right: 5, top: 0 }} onClick={() => { this.controller.modalTitle = ''; }}><FA name=\"times-circle-o\" className=\"text-primary\" /></div>\r\n                    {\r\n                        showBack &&\r\n                        <div className=\"position-absolute cursor-pointer\" style={{ left: 8, top: 8 }}\r\n                            onClick={() => { this.controller.modalTitle = modalTitleS[modalTitle]?.preLevel }}>\r\n                            <FA name=\"chevron-left\" className=\"text-break\" />\r\n                        </div>\r\n                    }\r\n                    <div className=\"text-center border-bottom h4 py-2\">{modalTitleS[modalTitle]?.title}</div>\r\n                    <div className=\"h-max-30c overflow-auto scroll-S\" style={{ overflowX: \"hidden\",minWidth:300}}>{renderModelContent()}</div>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, tv, List, LMR, FA, autoHideTips } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { OrderItem } from './Order';\r\nimport { CartPackRow } from '../store';\r\nimport classNames from 'classnames';\r\n//import { GLOABLE } from 'cartenv';\r\nimport { xs } from '../tools/browser';\r\nimport { VModelByCreateOrder } from './VModelByCreateOrder';\r\n\r\nexport class VCreateOrder extends VPage<COrder> {\r\n    private useShippingAddress: boolean = true;\r\n    //@observable private shippingAddressIsBlank: boolean = false;\r\n    //@observable private invoiceAddressIsBlank: boolean = false;\r\n\t//@observable private invoiceIsBlank: boolean = false;\r\n\tprivate shippingAddressTip = observable.box();\r\n\tprivate invoiceAddressTip = observable.box();\r\n\tprivate invoiceTip = observable.box();\r\n\tprivate comBininvoiceTip = observable.box();\r\n    orderNotes: HTMLTextAreaElement;\r\n    submitOrderEd: boolean = false;\r\n\r\n    constructor(c: COrder) {\r\n        super(c);\r\n\r\n        makeObservable<VCreateOrder, \"useShippingAddress\">(this, {\r\n            useShippingAddress: observable,\r\n            orderNotes: observable,\r\n            submitOrderEd: observable\r\n        });\r\n    }\r\n\r\n    async open(param: any) {\r\n        document.documentElement.scrollIntoView();\r\n        let { orderData } = this.controller;\r\n        if (orderData?.invoiceContact?.id !== orderData?.shippingContact?.id) {\r\n            this.useShippingAddress = false;\r\n        } else {\r\n            this.useShippingAddress = true;\r\n        };\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private nullContact = () => {\r\n        return <span className=\"text-primary\">选择收货地址</span>;\r\n    }\r\n\r\n    private packsRow = (item: CartPackRow, index: number) => {\r\n        let { pack, quantity, retail, price } = item;\r\n\r\n        let retailUI: any;\r\n        if (price !== retail) {\r\n            retailUI = <del>¥{retail * quantity}</del>;\r\n        }\r\n        return <div key={index} className=\"px-2 py-2 border-top\">\r\n            <div className=\"d-flex align-items-center\">\r\n                <div className=\"flex-grow-1\"><b>{tv(pack)}</b></div>\r\n                <div className=\"w-12c mr-4 text-right\">\r\n                    <small className=\"text-muted\">{retailUI}</small>&nbsp; &nbsp;\r\n                    <span className=\"text-danger h5\"><small>¥</small>{parseFloat((price * quantity).toFixed(2))}</span>\r\n                    <small className=\"text-muted\">(¥{parseFloat(price.toFixed(2))} × {quantity})</small>\r\n                </div>\r\n            </div>\r\n            <div>{this.controller.renderDeliveryTime(pack)}</div>\r\n        </div>;\r\n    }\r\n\r\n    private renderOrderItem = (orderItem: OrderItem) => {\r\n        let { product, packs } = orderItem;\r\n        let { controller, packsRow } = this;\r\n        return <div className=\"row w-100 mx-0\">\r\n                <div className=\"col-lg-6 pb-3\">{controller.renderOrderItemProduct(product)}</div>\r\n                <div className=\"col-lg-6\">{\r\n                    packs.map((p, index) => {\r\n                        return packsRow(p, index);\r\n                    })\r\n                }</div>\r\n            </div>\r\n    }\r\n\r\n    private orderItemKey = (orderItem: OrderItem) => {\r\n        let pack = orderItem.packs[0]?.pack;\r\n        let packID = pack ? String(pack.id) : '';\r\n        return orderItem.product.id + packID;\r\n    }\r\n\r\n    private renderCoupon = observer((param: any) => {\r\n        let { couponAppliedData, hasAnyCoupon, removeCoupon } = this.controller;\r\n        if (couponAppliedData['id'] === undefined) {\r\n            let tip = hasAnyCoupon ? \"有可用优惠卡/券，点击使用\" : \"输入优惠券/积分码\";\r\n            return <span className=\"text-primary\">{tip}</span>;\r\n        } else {\r\n            let { code, types } = couponAppliedData;\r\n            let { couponOffsetAmount, couponRemitted, point } = param;\r\n            let offsetUI, remittedUI, noOffsetUI;\r\n            let cancelCouponUI = <div\r\n                className=\"position-absolute text-primary border text-center border-primary dropdown-menu-right rounded-circle\"\r\n                style={{ border: 1, cursor: 'pointer', width: 19, height: 19, lineHeight: 1, top: 5, right: 5 }}\r\n                onClick={(e) => { e.stopPropagation(); removeCoupon(); }}\r\n            >&times;</div>\r\n            if (types === \"credits\") {\r\n                offsetUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                    <div className=\"text-muted\">积分:</div>\r\n                    <div className=\"text-right text-danger\">{point}<small>分</small></div>\r\n                </div>\r\n            }\r\n            else if (couponOffsetAmount || couponRemitted) {\r\n                if (couponOffsetAmount) {\r\n                    offsetUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                        <div className=\"text-muted\">折扣:</div>\r\n                        <div className=\"text-right text-danger\"><small>¥</small>{couponOffsetAmount.toFixed(2)}</div>\r\n                    </div>\r\n                }\r\n                if (couponRemitted) {\r\n                    remittedUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                        <div className=\"text-muted\">抵扣:</div>\r\n                        <div className=\"text-right text-danger\"><small>¥</small>{couponRemitted.toFixed(2)}</div>\r\n                    </div>\r\n                }\r\n            } else {\r\n                noOffsetUI = <div>谢谢惠顾</div>;\r\n            }\r\n            return <div className=\"mr-2 position-relative border-primary border px-3 py-1 rounded\">\r\n                <div className=\"text-success\">{code.substr(0, 4)} {code.substr(4)}</div>\r\n                {offsetUI}\r\n                {remittedUI}\r\n                {noOffsetUI}\r\n                {cancelCouponUI}\r\n            </div>\r\n        }\r\n    });\r\n\r\n    private onBuyerAccountChanged = () => {\r\n\r\n    }\r\n\r\n    private renderBuyerAccount = (item: any) => {\r\n        let { buyerAccount } = item;\r\n        return <div>{tv(buyerAccount, (v) => {\r\n            let { description, organization } = v;\r\n            return <>{description}{tv(organization, (o) => {\r\n                return <>{o.name}</>\r\n            }, undefined, () => null)}</>\r\n        })}</div>\r\n    }\r\n\r\n    private renderBuyerAccounts = observer(() => {\r\n        let { buyerAccounts } = this.controller;\r\n        if (!buyerAccounts || buyerAccounts.length === 0) return null;\r\n        return <div className=\"row mx-0 py-3 bg-white mb-1\">\r\n            <div className=\"col-4 col-sm-2 pb-2 text-muted\">订单账号:</div>\r\n            <div className=\"col-8 col-sm-10\">\r\n                <List items={buyerAccounts} item={{ render: this.renderBuyerAccount, onSelect: this.onBuyerAccountChanged }}></List>\r\n            </div>\r\n        </div>\r\n    })\r\n\r\n    private onSubmit = async () => {\r\n        let { orderData, activePushOrder } = this.controller;\r\n        // 必填项验证\r\n        let { shippingContact, invoiceContact, invoiceType, invoiceInfo } = orderData;\r\n        // let renderTip = (tip:string) => <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> {tip}</div>;\r\n        let combinTip: string = \"\";\r\n        if (!shippingContact) {\r\n            this.shippingAddressTip.set('必须填写收货地址');\r\n            combinTip = \"必须填写收货地址;\";\r\n            //this.shippingAddressIsBlank = true;\r\n            //setTimeout(() => this.shippingAddressIsBlank = false, GLOABLE.TIPDISPLAYTIME);\r\n            // return;\r\n        }\r\n        /* if (!invoiceContact) {\r\n            if (this.useShippingAddress) {\r\n\t\t\t\tthis.controller.orderData.invoiceContact = shippingContact; //contactBox;\r\n\t\t\t\tthis.invoiceAddressTip.set(null);\r\n                //this.invoiceAddressIsBlank = false;\r\n            } else {\r\n                //this.invoiceAddressIsBlank = true;\r\n\t\t\t\t//setTimeout(() => this.invoiceAddressIsBlank = false, GLOABLE.TIPDISPLAYTIME);\r\n\t\t\t\tthis.invoiceAddressTip.set(renderTip('必须填写发票地址'));\r\n                return;\r\n            }\r\n        } */\r\n        if (!invoiceContact && !this.useShippingAddress) {\r\n            this.invoiceAddressTip.set('必须填写发票地址');\r\n            combinTip += \"必须填写发票地址;\";\r\n            // return;\r\n        };\r\n        if (this.useShippingAddress) {\r\n            this.controller.orderData.invoiceContact = shippingContact; this.invoiceAddressTip.set(null);\r\n        };\r\n        if (!invoiceType || !invoiceInfo) {\r\n            //this.invoiceIsBlank = true;\r\n\t\t\t//setTimeout(() => this.invoiceIsBlank = false, GLOABLE.TIPDISPLAYTIME);\r\n            this.invoiceTip.set('必须填写发票信息');\r\n            combinTip += \"必须填写发票信息;\";\r\n        };\r\n        if (invoiceType && invoiceInfo) {\r\n            let invoiceInfoO: any = await invoiceInfo.assure();\r\n            let { taxNo, address, telephone, bank, accountNo } = invoiceInfoO.obj;\r\n            let validInvoice = invoiceType.id === 1 ? !taxNo : (!taxNo || !address || !telephone || !bank || !accountNo);\r\n            if (validInvoice) {\r\n                this.invoiceTip.set('您的发票信息不全,请补全发票信息;');\r\n                combinTip += \"您的发票信息不全,请补全发票信息;\";\r\n            };\r\n        };\r\n        if (combinTip !== \"\") {\r\n            this.comBininvoiceTip.set(combinTip);\r\n            return;\r\n        }\r\n        let endComments = this.orderNotes?.value ? this.orderNotes.value.replace(/(\\s|\\t|\\n)*/g, \"\") : \"\";\r\n        this.controller.orderData.comments = endComments;\r\n        if (!activePushOrder.maxAmount) {\r\n            this.comBininvoiceTip.set(\"订单总金额超出协议上限,不可下单!\");\r\n            return;\r\n        };\r\n        await this.controller.submitOrder();\r\n    }\r\n\r\n    saveShowModal = async (type: string) => {\r\n        this.controller.cApp.cSelectInvoiceContact.getContactList();\r\n        this.controller.modalTitle = 'contactList';\r\n        this.controller.replyToContactType = type;\r\n    }\r\n\r\n    renderTip = (tip:string) => <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> {tip}</div>;\r\n\r\n    private page = observer(() => {\r\n\r\n        let { cApp, orderData, onSelectShippingContact, onSelectInvoiceContact, onInvoiceInfoEdit, onCouponEdit, getValidCardForWebUser } = this.controller;\r\n\t\tlet { currentUser } = cApp;\r\n        let { allowOrdering } = currentUser;\r\n        let disableOrderBtn = () => { this.submitOrderEd = true; setTimeout(() => this.submitOrderEd = false, 5000); };\r\n        let footer = <div className=\"w-100 px-3 py-1\" style={{ backgroundColor: \"#f8f8f8\" }}>\r\n            {autoHideTips(this.comBininvoiceTip, <div className=\"alert alert-danger\">{this.comBininvoiceTip.get()}</div>,5000)}\r\n            <div className=\"d-flex justify-content-left\">\r\n                <div className=\"text-danger flex-grow-1 align-self-center\" style={{ fontSize: '1.8rem' }}><small>¥</small>{orderData.amount}</div>\r\n                <button type=\"button\"\r\n                    className={classNames('btn', { 'btn-danger': allowOrdering, 'btn-secondary': !allowOrdering })}\r\n                    style={{ backgroundColor: '#c82333' }}\r\n                    onClick={() => { disableOrderBtn(); this.onSubmit()}} disabled={!allowOrdering || this.submitOrderEd}>提交订单\r\n                </button>\r\n            </div>\r\n        </div>;\r\n\r\n        let chevronRight = xs ? <FA name=\"chevron-right\" className=\"cursor-pointer\" /> : <></>;\r\n\t\t/*\r\n        let shippingAddressBlankTip = this.shippingAddressIsBlank ?\r\n            <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> 必须填写收货地址</div>\r\n            : null;\r\n        let invoiceAddressBlankTip = this.invoiceAddressIsBlank ?\r\n            <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> 必须填写发票地址</div> : null;\r\n\t\t*/\r\n        let divInvoiceContact: any = null;\r\n        if (this.useShippingAddress === false) {\r\n            if (orderData.invoiceContact !== undefined) {\r\n                divInvoiceContact = <div className=\"col-8 col-sm-10 offset-4 offset-sm-2 d-flex\"\r\n                    onClick={() => { xs ? onSelectInvoiceContact() : this.saveShowModal('invoiceContact') }}>\r\n                    {tv(orderData.invoiceContact, undefined, undefined, this.nullContact)}\r\n                    <div>{chevronRight}</div>\r\n                </div>\r\n            } else {\r\n                divInvoiceContact = <div className=\"col-8 offset-4 offset-sm-2\">\r\n                    <button className=\"btn btn-outline-primary\"\r\n                        onClick={()=>{ xs ? onSelectInvoiceContact() : this.saveShowModal('invoiceContact')}}>选择发票地址</button>\r\n                    {/*invoiceAddressBlankTip*/}\r\n\t\t\t\t\t{autoHideTips(this.invoiceAddressTip, this.renderTip(this.invoiceAddressTip.get()))}\r\n                </div>\r\n            }\r\n\t\t}\r\n\t\t\r\n\t\tlet labeled = (label:string, content:JSX.Element, contentClass?:string):JSX.Element => {\r\n            return <>\r\n\t\t\t\t<div className=\"col-4 col-sm-2 pb-2 text-muted\">{label}</div>\r\n            \t<div className={classNames('col-8 col-sm-10', contentClass)}>{content}</div>\r\n\t\t\t</>;\r\n\t\t};\r\n\t\tlet renderPrice = (price:number, className?:string) => {\r\n\t\t\treturn <div className={classNames('text-right', className)}><small>¥</small>{price}</div>;\r\n\t\t}\r\n\r\n        let invoiceContactUI = <div className=\"row mx-0 py-3 bg-white mb-1\">\r\n\t\t\t{labeled('发票地址:', <label className=\"cursor-pointer\">\r\n\t\t\t\t<input type=\"checkbox\"\r\n\t\t\t\t\tdefaultChecked={this.useShippingAddress}\r\n\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\tthis.useShippingAddress = e.currentTarget.checked;\r\n\t\t\t\t\t\torderData.invoiceContact = undefined;\r\n\t\t\t\t\t\t//this.invoiceAddressIsBlank = false;\r\n\t\t\t\t\t\tthis.shippingAddressTip.set(null);\r\n\t\t\t\t\t}} /> 同收货地址\r\n\t\t\t</label>)}\r\n            {divInvoiceContact}\r\n        </div>\r\n\t\t/*\r\n\t\t            <div className=\"col-4 col-sm-2 pb-2 text-muted\">发票地址:</div>\r\n\t\t\t\t\t<div className=\"col-8 col-sm-10\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label className=\"cursor-pointer\">\r\n\t\t\t\t\t\t\t\t<input type=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tdefaultChecked={this.useShippingAddress}\r\n\t\t\t\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\t\t\t\tthis.useShippingAddress = e.currentTarget.checked;\r\n\t\t\t\t\t\t\t\t\t\torderData.invoiceContact = undefined;\r\n\t\t\t\t\t\t\t\t\t\t//this.invoiceAddressIsBlank = false;\r\n\t\t\t\t\t\t\t\t\t\tthis.shippingAddressTip.set(null);\r\n\t\t\t\t\t\t\t\t\t}} /> 同收货地址\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t*/\r\n\r\n        //let invoiceBlankTip = this.invoiceIsBlank ? <div className=\"text-danger small my-2\"><FA name=\"exclamation-circle\" /> 必须填写发票信息</div> : null;\r\n        let invoiceInfoUI = <div className=\"row mx-0 py-3 bg-white\" onClick={()=>{xs ? onInvoiceInfoEdit(): this.controller.modalTitle='invoiceInfo'}}>\r\n            {labeled('发票信息:',\r\n                <LMR className=\"w-100 align-items-center\" right={chevronRight}>\r\n                    {tv(orderData.invoiceType, (v) => <>{v.description}</>, undefined, () => <span className=\"text-primary\">填写发票信息</span>)}\r\n                    {tv(orderData.invoiceInfo, (v) => <> -- {v.title}</>, undefined, () => <></>)}\r\n                    {/*invoiceBlankTip*/}\r\n                    {autoHideTips(this.invoiceTip, this.renderTip(this.invoiceTip.get()))}\r\n                </LMR>)}\r\n        </div>\r\n\r\n        let freightFeeUI = <></>;\r\n\t\tlet freightFeeRemittedUI = <></>;\r\n\t\tlet {freightFee, freightFeeRemitted} = orderData;\r\n        if (freightFee) {\r\n            freightFeeUI = labeled('运费:', renderPrice(freightFee, 'text-danger'));\r\n            if (freightFeeRemitted) {\r\n                freightFeeRemittedUI = labeled('运费减免:', renderPrice(freightFeeRemitted, 'text-danger'));\r\n            }\r\n        }\r\n\r\n        let couponUI = <div className=\"row mx-0 py-3 bg-white\" onClick={()=>{xs ? onCouponEdit() : getValidCardForWebUser()}}>\r\n\t\t\t{labeled('优惠卡券:', \r\n                <LMR className=\"w-100 align-items-center\" right={chevronRight}>\r\n                    {React.createElement(this.renderCoupon,\r\n                        {\r\n                            couponOffsetAmount: orderData.couponOffsetAmount,\r\n                            couponRemitted: orderData.couponRemitted,\r\n                            point: orderData.point\r\n                        })}\r\n                </LMR>)}\r\n        </div>;\r\n        let header:any;\r\n        if(xs) header = \"订单预览\";\r\n        return <Page header={header} footer={footer}>\r\n             {!xs ? <div className=\"col-lg-12 px-3\"><h1 className=\"mt-4 mb-3\">订单信息</h1></div> :null }\r\n            <div className=\"px-2\">\r\n                <div className=\"row mx-0 py-3 bg-white\" onClick={()=>{ xs ? onSelectShippingContact() : this.saveShowModal('shippingContact')}}>\r\n\t\t\t\t\t{labeled('收货地址:',\r\n\t\t\t\t\t\t<>\r\n                        <LMR className=\"w-100 align-items-center\" right={chevronRight}>\r\n                            {tv(orderData.shippingContact, undefined, undefined, this.nullContact)}\r\n                        </LMR>\r\n                        {/*shippingAddressBlankTip*/}\r\n\t\t\t\t\t\t{autoHideTips(this.shippingAddressTip,this.renderTip(this.shippingAddressTip.get()))}\r\n                    </>)}\r\n                </div>\r\n                {invoiceContactUI}\r\n                {invoiceInfoUI}\r\n            </div>\r\n            <List items={orderData.orderItems} item={{ render: this.renderOrderItem,className:\"w-100\", key: this.orderItemKey as any }} />\r\n            <div className=\"px-2\">\r\n                <div className=\"row mx-0 py-3 pr-3 bg-white my-1\">\r\n\t\t\t\t\t{labeled('商品总额:', renderPrice(orderData.productAmounts))}\r\n                    {freightFeeUI}\r\n                    {freightFeeRemittedUI}\r\n                </div >\r\n                {couponUI}\r\n            </div>\r\n            <div className=\"px-2\">\r\n                <div>订单备注（可填）</div>\r\n                <textarea ref={ v => this.orderNotes = v } placeholder=\"您若有疑问或其他问题, 可添加备注\" className=\"w-100 rounded p-1 mx-1\" style={{ outline:'none', resize:\"none\", borderColor:\"#719ECE\" }} rows={3}></textarea>\r\n            </div>\r\n            {this.renderVm(VModelByCreateOrder)}\r\n        </Page>\r\n    })\r\n}","import { BoxId } from 'tonva-react';\r\nimport { observable, computed, makeObservable } from 'mobx';\r\nimport { Product, CartPackRow } from '../store';\r\n\r\nexport class Order {\r\n    webUser: number;\r\n    organization: BoxId;\r\n    customer: any;\r\n\r\n    shippingContact: BoxId;\r\n    invoiceContact: BoxId;\r\n    invoiceType: BoxId;\r\n    invoiceInfo: BoxId;\r\n    orderItems: OrderItem[] = [];\r\n\r\n    freightFee: number;\r\n    freightFeeRemitted: number;\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            shippingContact: observable,\r\n            invoiceContact: observable,\r\n            invoiceType: observable,\r\n            invoiceInfo: observable,\r\n            orderItems: observable,\r\n            freightFee: observable,\r\n            freightFeeRemitted: observable,\r\n            amount: computed,\r\n            productAmount: computed,\r\n            productAmounts: computed,\r\n            coupon: observable,\r\n            couponOffsetAmount: observable,\r\n            couponRemitted: observable,\r\n            point: observable\r\n        });\r\n    }\r\n\r\n    /*\r\n    @computed get amount() {\r\n        return parseFloat((this.orderItems.reduce((pv, cv) => (pv + cv.subAmount), 0) +\r\n            (this.freightFee ? this.freightFee : 0) +\r\n            (this.freightFeeRemitted ? this.freightFeeRemitted : 0) +\r\n            (this.couponOffsetAmount ? this.couponOffsetAmount : 0) +\r\n            (this.couponRemitted ? this.couponRemitted : 0)).toFixed(2));\r\n    };\r\n    */\r\n    /**\r\n     * 总金额\r\n     */\r\n    get amount() {\r\n        return parseFloat((this.orderItems.reduce((pv, cv) => (pv + cv.subAmount), 0) +\r\n            (this.freightFee ? this.freightFee : 0) +\r\n            (this.freightFeeRemitted ? this.freightFeeRemitted : 0)).toFixed(2));\r\n    };\r\n    // @computed get productAmount() {\r\n    //     return parseFloat(this.orderItems.reduce((pv, cv) => pv + cv.subAmount, 0).toFixed(2));\r\n    // };\r\n    /**\r\n     * 商品总额 -----> 已修 应用现价计算（参与运费减免计算）\r\n     */\r\n    get productAmount() {\r\n        return parseFloat(this.orderItems.reduce((pv, cv) => pv + cv.subAmount, 0).toFixed(2));\r\n    };\r\n\r\n    /**\r\n     * 商品总额(未应用券的价格) -----> 已修 应用目录价计算(总额恒定) 预览页展示所需\r\n     */\r\n    get productAmounts() {\r\n        return parseFloat(this.orderItems.reduce((pv, cv) => pv + cv.subListAmount, 0).toFixed(2));\r\n    };\r\n    currency: BoxId;\r\n    coupon: BoxId;\r\n    couponOffsetAmount: number;\r\n    couponRemitted: number;\r\n    point: number;\r\n    comments: string;\r\n    salesRegion: BoxId;\r\n\r\n    getDataForSave() {\r\n        let orderItems: any[] = [];\r\n        this.orderItems.forEach(oi => {\r\n            oi.packs.forEach(pk => {\r\n                this.currency = pk.currency;\r\n                orderItems.push({\r\n                    product: oi.product, pack: pk.pack, price: pk.price, quantity: pk.quantity\r\n                    , subAmount: pk.quantity * pk.price, retail: pk.retail\r\n                })\r\n            })\r\n        });\r\n        return {\r\n            webUser: this.webUser,\r\n            organization: this.organization,\r\n            customer: this.customer,\r\n            shippingContact: this.shippingContact,\r\n            invoiceContact: this.invoiceContact,\r\n            invoiceType: this.invoiceType,\r\n            invoiceInfo: this.invoiceInfo,\r\n            amount: this.amount,\r\n            currency: this.currency,\r\n            freightFee: this.freightFee,\r\n            freightFeeRemitted: this.freightFeeRemitted,\r\n            coupon: this.coupon,\r\n            couponOffsetAmount: this.couponOffsetAmount,\r\n            couponRemitted: this.couponRemitted,\r\n            point: this.point,\r\n            comments: this.comments,\r\n            orderitems: orderItems, // 前面的必须是小写的orderitems\r\n            salesRegion: this.salesRegion,\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    getDataForSave2(): any {\r\n        let orderItems: any[] = [];\r\n        this.orderItems.forEach(oi => {\r\n            oi.packs.forEach(pk => {\r\n                this.currency = pk.currency;\r\n                orderItems.push({\r\n                    product: oi.product.id, pack: pk.pack.id, price: pk.price, quantity: pk.quantity\r\n                    , subAmount: pk.quantity * pk.price, retail: pk.retail\r\n                })\r\n            })\r\n        });\r\n        return {\r\n            webUser: this.webUser,\r\n            organization: this.organization?.id,\r\n            customer: this.customer?.id,\r\n            shippingContact: this.shippingContact?.id,\r\n            invoiceContact: this.invoiceContact?.id,\r\n            invoiceType: this.invoiceType?.id,\r\n            invoiceInfo: this.invoiceInfo?.id,\r\n            amount: this.amount,\r\n            currency: this.currency,\r\n            freightFee: this.freightFee,\r\n            freightFeeRemitted: this.freightFeeRemitted,\r\n            coupon: this.coupon,\r\n            couponOffsetAmount: this.couponOffsetAmount,\r\n            couponRemitted: this.couponRemitted,\r\n            point: this.point,\r\n            comments: this.comments,\r\n            orderitems: orderItems, // 前面的必须是小写的orderitems\r\n            salesRegion: this.salesRegion?.id,\r\n        }\r\n    }\r\n}\r\n\r\nexport class OrderItem {\r\n    product: Product;\r\n    packs: CartPackRow[];\r\n    get subAmount() {\r\n        return this.packs.reduce((p, c) => {\r\n            return p + c.price * c.quantity\r\n        }, 0);\r\n    }\r\n    get subListAmount() {\r\n        return this.packs.reduce((p, c) => {\r\n            return p + c.retail * c.quantity\r\n        }, 0);\r\n    }\r\n\r\n    constructor(product: Product) {\r\n        makeObservable(this, {\r\n            packs: observable,\r\n            subAmount: computed,\r\n            subListAmount: computed\r\n        });\r\n\r\n        this.product = product;\r\n    }\r\n}","import { VPage, Page } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { xs } from '../tools/browser';\r\n\r\nexport class OrderSuccess extends VPage<COrder> {\r\n\r\n    async open(orderCreateResult: any) {\r\n\r\n        this.openPage(this.page, orderCreateResult);\r\n    }\r\n\r\n    private page = (orderCreateResult: any) => {\r\n        let header: any;\r\n        if (xs) {\r\n            header='下单成功'\r\n        }\r\n        return <Page header={header}>\r\n            <div style={{textAlign: \"center\",paddingTop:\"150px\"}}>\r\n                <p>下单成功，感谢您对百灵威的厚爱!<br/>\r\n                订单编号:<span className=\"mint\">{orderCreateResult.no}</span><br />\r\n                我们会加紧处理，请注意查收短信。</p>\r\n                <img src=\"images/shoppingcart.png\" alt=\"\" className=\"w-min-12c py-5 col-5 col-sm-4 \" />\r\n            </div>\r\n        </Page>\r\n        /* return <Page header=\"下单成功\" back=\"close\">\r\n            <div className=\"py-4 px-3 bg-white mb-3 d-flex\">\r\n                <FA name=\"list-alt\" className=\"text-success mr-3\" size=\"4x\" />\r\n                <div>\r\n                    <p className=\"text-primary\"><span className=\"h4\">下单成功！</span></p>\r\n                    <p className=\"\">\r\n                        订单: <span className=\"h5 text-info\">{orderCreateResult.no}</span><br /><br />\r\n                        <span className=\"text-muted\">我们会加紧处理，请注意查收短信。</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </Page> */\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, Tabs, TabCaptionComponent, TabProp, LMR } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { Ax, List, EasyDate } from 'tonva-react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { xs } from 'tools/browser';\r\nimport { ListTable } from 'tools/listTable';\r\nimport { GLOABLE } from 'global';\r\nimport { Pagination } from 'antd';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport const color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\nexport const OrdersPageSize: number = 15;/* 订单分页每页数量 */\r\n\r\nexport class VMyOrders extends VPage<COrder> {\r\n\r\n\t/*\r\n    @observable private pendingOrders: any[];\r\n    @observable private processingOrders: any[];\r\n    @observable private completedOrders: any[];\r\n\t@observable private allOrders: any[];\r\n\t*/\r\n\tsearchKey: HTMLInputElement;\r\n\tcurrentPage:  number = 1;\r\n\tlistAll:  any[] = [];\r\n\tprivate list: any[] = [];\r\n\tcurrentState: string;\r\n\tprivate tabs: TabProp[];\r\n\r\n\tconstructor(c: COrder) {\r\n        super(c);\r\n\r\n        makeObservable<VMyOrders, \"list\">(this, {\r\n            searchKey: observable,\r\n            currentPage: observable,\r\n            listAll: observable,\r\n            list: observable,\r\n            currentState: observable\r\n        });\r\n\t}\r\n\r\n\t/*\r\n    async open(param: any) {\r\n        this.currentState = param;\r\n        this.openPage(this.page);\r\n\t}\r\n\t*/\r\n\ttoRepeat = (arr: any[], key: string) => {\r\n\t\tlet obj: any = {};\r\n\t\treturn arr.filter(item => obj[item[key]] ? '' : (obj[item[key]] = true));\r\n\t};\r\n\r\n\tinit(param: any) {\r\n\t\tthis.currentState = param;\r\n\t\tlet { getMyOrders, searchMyOrders } = this.controller;\r\n\t\tlet oss = [\r\n\t\t\t{ caption: '待审核', state: 'processing', icon: 'desktop' },\r\n\t\t\t{ caption: '待发货', state: 'completed', icon: 'truck' },\r\n\t\t\t{ caption: '已发货', state: 'shipped', icon: 'truck' },\r\n\t\t\t{ caption: '所有订单', state: 'all', icon: 'file-text-o' },\r\n\t\t];\r\n\t\t/* let TabCaptionComponent = (label:string, icon:string, color:string) => <div \r\n\t\t\tclassName={'d-flex justify-content-center align-items-center flex-column cursor-pointer ' + color}>\r\n\t\t\t<div><i className={'fa fa-lg fa-' + icon} /></div>\r\n\t\t\t<small>{label}</small>\r\n\t\t</div>; */\r\n\t\tlet loadList = async (state: string) => {\r\n\t\t\tthis.currentState = state;\r\n\t\t\tthis.currentPage = 1;\r\n\t\t\tlet arr: any[] = await getMyOrders(this.currentState);\r\n\t\t\tthis.listAll = this.toRepeat(arr, \"id\");\r\n\t\t\tif (this.currentState === \"processing\") this.list = this.listAll;\r\n\t\t\telse {\r\n\t\t\t\tlet arr: any[] = [];\r\n\t\t\t\tif (this.currentState === \"all\") arr = await getMyOrders(\"processing\");\r\n\t\t\t\tthis.list = [arr, this.listAll.slice(0, OrdersPageSize)].flat();\r\n\t\t\t};\r\n\t\t};\r\n\t\tlet searchOrderByKey = async () => {\r\n\t\t\tlet value = this.searchKey?.value;\r\n\t\t\t// if (!value) return;\r\n\t\t\tlet arr: any = await searchMyOrders({ keyWord: value });\r\n\t\t\tthis.listAll = this.toRepeat(arr.items, \"id\");\r\n\t\t\tthis.list = this.listAll.slice(0, OrdersPageSize);\r\n\t\t};\r\n\t\tlet toSearchOrdersUI: JSX.Element = React.createElement(observer(() => {\r\n\t\t\tif (this.currentState !== \"all\") return null;\r\n\t\t\treturn <LMR className=\"py-2\" right={<button className=\"btn-sm btn-primary w-4c rounded-sm\"\r\n\t\t\t\tonClick={() => { searchOrderByKey() }} >查询</button>} >\r\n\t\t\t\t<form onSubmit={(e: any) => { e.preventDefault(); searchOrderByKey() }} >\r\n\t\t\t\t\t<input ref={(v) => this.searchKey = v} placeholder=\"查询订单 输入:订单号、产品名称、CAS等\" className=\"form-control\" type=\"text\" />\r\n\t\t\t\t</form>\r\n\t\t\t</LMR>\r\n\t\t}));\r\n\t\t\r\n\t\tthis.tabs = oss.map(v => {\r\n\t\t\tlet { caption, state, icon } = v;\r\n\t\t\treturn {\r\n\t\t\t\tname: caption,\r\n\t\t\t\tcaption: (selected: boolean) => TabCaptionComponent(caption, icon, color(selected)),\r\n\t\t\t\tcontent: () => {\r\n\t\t\t\t\treturn React.createElement(observer(() => {\r\n\t\t\t\t\t\tif (xs) return <List items={this.list} item={{ render: this.renderOrder }} none=\"[无]\" />;\r\n\t\t\t\t\t\treturn <>{ toSearchOrdersUI}{this.orderListTable(state) }</>\r\n\t\t\t\t\t}));\r\n\t\t\t\t},\r\n\t\t\t\tisSelected: this.currentState === state,\r\n\t\t\t\tload: async () => { await loadList(state);},\r\n\t\t\t\tonShown: async () => { await loadList(state);},\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tprivate orderListTable = (stateA: string): JSX.Element => {\r\n\t\t// if (!this.list.length) return <div className=\"w-100 text-center py-3\">无</div>;\r\n\t\tlet os: { [state: string]: string } = {\r\n\t\t\t'processing': '待审核',\r\n\t\t\t'completed': '待发货',\r\n\t\t\t'shipped': '已发货',\r\n\t\t\t\"11\":\"待审核\",\r\n\t\t\t\"12\":\"待发货\",\r\n\t\t\t\"13\":\"已发货\",\r\n\t\t};\r\n\t\tlet columns = [{ id: 1, name: '订单编号' }, { id: 2, name: '日期' }, { id: 3, name: '订单状态' }, { id: 4, name: '详情' }];\r\n\t\tlet content = <>{this.list.map((v: any,index:number) => {\r\n\t\t\tlet { id, no, date, state } = v;\r\n\t\t\treturn <tr className=\"article-product-list order-wrap-list\" key={id + index + no}>\r\n\t\t\t\t<td data-title={columns[0].name} className=\"mint\">{no}</td>\r\n\t\t\t\t<td data-title={columns[1].name}><EasyDate date={date} /></td>\r\n\t\t\t\t<td data-title={columns[2].name}>{os[state]}</td>\r\n\t\t\t\t<td data-title={columns[3].name}>\r\n\t\t\t\t\t<Ax href={\"/orderDetail/\" + id} className='w-100' target=\"_blank\">\r\n\t\t\t\t\t\t<button type='button' className=\"btn-primary btn-sm w-4c rounded-sm\">详情</button>\r\n\t\t\t\t\t</Ax>\r\n\t\t\t\t</td>\r\n\t\t\t</tr>\r\n\t\t})}</>;\r\n\t\tif(!this.list.length) content = <tr><td className=\"text-center py-3\" colSpan={4} >无订单</td></tr>\r\n\t\treturn <ListTable columns={columns} content={content} ></ListTable>;\r\n\t}\r\n\r\n\tprivate renderOrder = (order: any, index: number) => {\r\n\t\tlet { openOrderDetail } = this.controller;\r\n\t\tlet { id, no, date, state } = order;\r\n\t\treturn <div className=\"m-3\">\r\n\t\t\t<div className=\"d-flex w-100 justify-content-between cursor-pointer\" onClick={() => openOrderDetail(id)}>\r\n\t\t\t<div><span className=\"small text-muted\">订单: </span><strong>{no}</strong></div>\r\n\t\t\t<div className=\"small text-muted\"><EasyDate date={date} /></div>\r\n\t\t</div></div>;\r\n\t\t/* return <Ax href={\"/orderDetail/\" + id } className='w-100 m-3' target='_blank'>\r\n\t\t\t<div className=\"d-flex w-100 justify-content-between cursor-pointer\">\r\n\t\t\t<div><span className=\"small text-muted\">订单: </span><strong>{no}</strong></div>\r\n\t\t\t<div className=\"small text-muted\"><EasyDate date={date} /></div>\r\n\t\t</div></Ax>; */\r\n\t}\r\n\r\n\theader() {\r\n\t\tif (!xs) return '';\r\n\t\treturn '订单管理';\r\n\t}\r\n\r\n\tchangeShowOrders = async (value: any) => {\r\n\t\tdocument.body.scrollIntoView({ behavior: \"smooth\", block: \"end\", inline: \"start\" });\r\n\t\tthis.currentPage = value;\r\n\t\tlet arr: any[] = [];\r\n\t\tif (this.currentState === \"all\" && value === 1) arr = await this.controller.getMyOrders(\"processing\");\r\n\t\tthis.list = [arr, this.listAll.slice((value - 1) * OrdersPageSize, value * OrdersPageSize)].flat();\r\n\t};\r\n\r\n\tcontent(): JSX.Element {\r\n\t\tlet title = !xs ? <div className=\"text-left mt-5\"><h1>订单管理</h1></div> : null;\r\n\t\treturn React.createElement(observer(() => {\r\n\t\t\tlet paginationUI: JSX.Element;\r\n\t\t\tif (this.currentState !== \"processing\") {\r\n\t\t\t\tpaginationUI = <Pagination onChange={(v) => { this.changeShowOrders(v); }} current={this.currentPage}\r\n\t\t\t\t\tdefaultCurrent={1} pageSize={OrdersPageSize} hideOnSinglePage={true}\r\n\t\t\t\t\ttotal={this.listAll.length} showSizeChanger={false} className=\"page-item text-center\" />;\r\n\t\t\t};\r\n\t\t\treturn <div className=\"row mx-0 bg-light my-1\">\r\n\t\t\t\t<div className=\"col-lg-3 d-none d-lg-block\">\r\n\t\t\t\t{this.controller.cApp.cMe.renderMeSideBar()}\r\n\t\t\t</div>\r\n\t\t\t\t<div className={`col-lg-9 px-0 mx-auto ${!xs ? 'px-2' : ''}`} style={{ maxWidth: !xs ? 800 : 'none' }}>\r\n\t\t\t\t\t{title}\r\n\t\t\t\t\t<div className=\"mb-5 reset-z-header-boxS\">\r\n\t\t\t\t\t\t<Tabs tabs={this.tabs} tabPosition=\"top\" tabBg={!xs ? 'bg-light' : ''} />\r\n\t\t\t\t\t\t{paginationUI}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"alert alert-info alert-signin my-2\">\r\n\t\t\t\t\t\t<div>原官网历史订单\r\n\t\t\t\t\t\t<a className=\"text-primary\" href={GLOABLE.CONTENTSITE + \"/Member/Center/SaleOrderList.aspx?language=zh-CN\"}\r\n\t\t\t\t\t\t\t\ttarget=\"_blank\" rel=\"noreferrer\"><b>查询</b></a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t}));\r\n\t};\r\n\r\n\tprivate page = () => {\r\n\r\n\t\tlet { getMyOrders } = this.controller;\r\n\t\tlet oss = [\r\n\t\t\t{ caption: '待审核', state: 'processing', icon: 'desktop' },\r\n\t\t\t{ caption: '待发货', state: 'completed', icon: 'truck' },\r\n\t\t\t{ caption: '所有订单', state: 'all', icon: 'file-text-o' },\r\n\t\t];\r\n\t\tlet tabs = oss.map(v => {\r\n\t\t\tlet { caption, state, icon } = v;\r\n\t\t\treturn {\r\n\t\t\t\tname: caption,\r\n\t\t\t\tcaption: (selected: boolean) => TabCaptionComponent(caption, icon, color(selected)),\r\n\t\t\t\tcontent: () => {\r\n\t\t\t\t\treturn <List items={this.list} item={{ render: this.renderOrder }} none=\"[无]\" />\r\n\t\t\t\t},\r\n\t\t\t\tisSelected: this.currentState === state,\r\n\t\t\t\tload: async () => {\r\n\t\t\t\t\tthis.currentState = state;\r\n\t\t\t\t\tthis.list = await getMyOrders(this.currentState);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t});\r\n\t\t/*\r\n        let tabs = [{\r\n            name: '待审核',\r\n            caption: (selected: boolean) => TabCaptionComponent(\"待审核\", \"desktop\", color(selected)),\r\n            content: () => {\r\n                return <List items={this.processingOrders} item={{ render: this.renderOrder }} none=\"无待审核订单\" />\r\n            },\r\n            isSelected: this.currentState === 'processing',\r\n            load: async () => {\r\n                this.currentState = 'processing';\r\n                this.processingOrders = await getMyOrders(this.currentState);\r\n            }\r\n        }, {\r\n            name: '待发货',\r\n            caption: (selected: boolean) => TabCaptionComponent(\"待发货\", \"truck\", color(selected)),\r\n            content: () => {\r\n                return <List items={this.completedOrders} item={{ render: this.renderOrder }} none=\"还没有已完成的订单\" />\r\n            },\r\n            isSelected: this.currentState === 'completed',\r\n            load: async () => {\r\n                this.currentState = 'completed';\r\n                this.completedOrders = await getMyOrders(this.currentState);\r\n            }\r\n        }, {\r\n            name: '所有订单',\r\n            caption: (selected: boolean) => TabCaptionComponent(\"所有订单\", \"file-text-o\", color(selected)),\r\n            content: () => {\r\n                return <List items={this.allOrders} item={{ render: this.renderOrder }} none=\"还没有订单\" />\r\n            },\r\n            isSelected: this.currentState === 'all',\r\n            load: async () => {\r\n                this.currentState = 'all';\r\n                this.allOrders = await getMyOrders(this.currentState);\r\n            }\r\n\t\t}];\r\n\t\t*/\r\n\t\t// return <Page header=\"我的订单\" tabs={tabs} tabPosition=\"top\" />\r\n\t\t//return <Tabs tabs={tabs} tabPosition='top' />\r\n\t\treturn <Page header=\"我的订单\">\r\n\t\t\t<Tabs tabs={tabs} tabPosition=\"top\" />\r\n\t\t</Page>\r\n\t}\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage, Page, BoxId, EasyDate, Ax, Tuid, nav, List, tv } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { OrderItem } from './Order';\r\nimport { xs } from '../tools/browser';\r\nimport classNames from 'classnames';\r\nimport { observable, makeObservable } from 'mobx';\r\n//import { CartItem } from '../cart/Cart';\r\n\r\nexport class VOrderDetail extends VPage<COrder> {\r\n    /* orderTrans: any[] = [];\r\n\r\n    constructor(c: COrder) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            orderTrans: observable\r\n        });\r\n    } */\r\n\r\n    async open(order: any) {\r\n\r\n        this.openPage(this.page, order);\r\n    }\r\n\r\n\r\n    private packsRow = (item: any, index: number) => {\r\n        let { pack, quantity, price, currency } = item;\r\n\r\n        return <div key={index} className={classNames('px-2 py-2', index !== 0 ? 'border-top' : '')}>\r\n            <div className=\"d-flex align-items-center\">\r\n                <div className=\"flex-grow-1\"><b>{tv(pack)}</b></div>\r\n                <div className=\"w-12c mr-4 text-right\">\r\n                    <span className=\"text-danger h5\"><small>¥</small>{parseFloat((price * quantity).toFixed(2))}</span>\r\n                    <small className=\"text-muted\">(¥{parseFloat(price.toFixed(2))} × {quantity})</small>\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    againCreatOrder = async (initialData: OrderItem[]) => {\r\n\t\t/*\r\n        let { uqs, currentSalesRegion, cCart } = this.controller.cApp;\r\n        let { product: p } = uqs;\r\n        let { PriceX } = p;\r\n        let promises: PromiseLike<void>[] = [];\r\n        initialData.forEach((e: any) => e.packs.forEach((v: any) => {\r\n            promises.push(PriceX.obj({ product: e.product, pack: v.pack, salesRegion: currentSalesRegion }))\r\n        }));\r\n        let prices: any[] = await Promise.all(promises);\r\n        let orderData: CartItem[] = [];\r\n        let productPromises: Promise<any>[] = [];\r\n        for (let key of initialData) {\r\n            let { product, packs } = key;\r\n            let filtPacksByProductId = prices.filter((v: any) => Tuid.equ(v.product, product) && v.discountinued === 0 && v.expireDate > Date.now());\r\n            if (!filtPacksByProductId.length) continue;\r\n            for (let i of packs) {\r\n                let findPack = filtPacksByProductId.find((v: any) => Tuid.equ(v.pack, i.pack));\r\n                if (!findPack) continue;\r\n                product = this.controller.cApp.getProduct(product.id);\r\n                productPromises.push(product.loadListItem());\r\n                orderData.push({\r\n                    product: product,\r\n                    packs: [{ pack: i.pack, quantity: i.quantity || 1, price: findPack.retail, retail: findPack.retail, currency: findPack.salesRegion?.obj?.currency }],\r\n                    $isSelected: true,\r\n                    $isDeleted: false,\r\n                    createdate: Date.now()\r\n                })\r\n            };\r\n        };\r\n        await Promise.all(productPromises);\r\n        orderData.forEach((v: any) => {\r\n            let newPrices: any[] = v.product?.prices || [];\r\n            let findPack = newPrices.find((i: any) => Tuid.equ(i.pack, v.packs[0].pack));\r\n            if (findPack) {\r\n                let { vipPrice, promotionPrice } = findPack;\r\n                v.packs[0].price = this.minPrice(vipPrice, promotionPrice) || v.packs[0].price;\r\n            };\r\n        });\r\n        cCart.againOrderCart(orderData);\r\n\t\t*/\r\n\t\tawait this.controller.cApp.store.cart.againCreatOrder(initialData);\r\n        nav.navigate('/cart');\r\n    }\r\n\r\n    private renderOrderItem = (orderItem: any /* OrderItem */, index: number) => {\r\n        let { product, packs, param } = orderItem;\r\n        let { id } = product;\r\n        let { controller, packsRow } = this;\r\n        let transportation: any;\r\n        if (param?.transportation) {\r\n            let { carrier, waybillNumber } = param.transportation;\r\n            transportation = {transNumber: waybillNumber, expressLogistics: carrier};\r\n        };\r\n        let orderTransUI: JSX.Element;\r\n        if (transportation) orderTransUI = <span className=\"mr-2 cursor-pointer btn btn-sm btn-info\"\r\n            style={{ background: \"#17a2b8\" }}\r\n            onClick={() => controller.openOrderTrans(transportation)} >查看物流</span>;\r\n        return <div className=\"row my-1 w-100 mx-0\">\r\n            <div className=\"col-lg-6 pb-3\">{controller.renderOrderItemProduct(product)}</div>\r\n            <div className=\"col-lg-6\">{\r\n                packs.map((p:any, index:number) => {\r\n                    return packsRow(p, index);\r\n                })\r\n            }</div>\r\n            <div className=\"text-right w-100 px-3\">\r\n                <Ax className=\"mx-2 text-info font-weight-bold\" href={'/product/mscu/MSDS/' + id}>SDS</Ax>\r\n                {orderTransUI}\r\n                <div className=\"btn btn-sm btn-info float-left float-lg-right cursor-pointer\"\r\n                    style={{ background: \"#17a2b8\" }} onClick={() => { this.againCreatOrder([orderItem]) }}>\r\n                    再次购买\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    private page = (order: any) => {\r\n\r\n        let { brief, data } = order;\r\n        let { id, no, state, description, date } = brief;\r\n        let { orderItems, currency, shippingContact, invoiceContact, invoiceType, invoiceInfo, amount, comments, couponOffsetAmount, couponRemitted\r\n            , freightFee, freightFeeRemitted } = data;\r\n        let couponUI;\r\n        if (couponOffsetAmount || couponRemitted) {\r\n            let offsetUI, remittedUI;\r\n            if (couponOffsetAmount) {\r\n                offsetUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                    <div className=\"text-muted\">折扣:</div>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{couponOffsetAmount}</div>\r\n                </div>\r\n            }\r\n            if (couponRemitted) {\r\n                remittedUI = <div className=\"d-flex flex-row justify-content-between\">\r\n                    <div className=\"text-muted\">抵扣:</div>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{couponRemitted}</div>\r\n                </div>\r\n            }\r\n            couponUI = <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">优惠券:</div>\r\n                <div className=\"col-9\">\r\n                    {offsetUI}\r\n                    {remittedUI}\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        /* let freightFeeUI, freightFeeRemittedUI;\r\n        if (freightFee) {\r\n            freightFeeUI = <>\r\n                <div className=\"text-right text-danger\"><small>¥</small>{freightFee}</div>\r\n            </>\r\n            if (freightFeeRemitted) {\r\n                freightFeeRemittedUI = <>\r\n                    <div className=\"text-right text-danger\"><small>¥</small>{freightFeeRemitted}(减免)</div>\r\n                </>\r\n            }\r\n        } */\r\n        let orderAgainUI = <div className=\"px-3 py-2 border-bottom\" style={{userSelect: \"none\"}}>\r\n            <span className=\"align-middle\">若需再次购买该订单中所有产品，请 </span>\r\n            <button className=\"btn btn-sm btn-secondary cursor-pointer\" title='可直接下单再次购买订单中产品'\r\n                style={{ background: \"#6c757d\" }}\r\n                onClick={() => { this.againCreatOrder(orderItems) }}>再次下单</button>\r\n            {/* <button className=\"btn btn-primary w-50\" onClick={async () => { this.controller.orderAgain(order.data) }}>再次下单</button> */}\r\n        </div>\r\n\r\n        let commentsUI = comments ? <div className=\"bg-white row no-gutters p-3 my-1\">\r\n            <div className=\"col-3 text-muted\">备注:</div>\r\n            <div className=\"col-9\">{comments}</div>\r\n        </div> : null;\r\n\r\n        let header: any\r\n        if (xs) header = <>订单详情: {no}</>            //orderAgainUI\r\n        let infoArr: any[] = [\r\n            { name: \"收货地址:\", value: tv(shippingContact), isShow: shippingContact },\r\n            { name: \"发票地址:\", value: tv(invoiceContact), isShow: invoiceContact },\r\n            { name: \"发票信息:\", value: invoiceTemplate(invoiceType, invoiceInfo), isShow: invoiceType || invoiceInfo },\r\n        ];\r\n        return <Page header={header} footer={<></>}>\r\n            {!xs && <div className=\"alert alert-info alert-signin mt-3\">订单编号 {no}</div>}\r\n            {orderAgainUI}\r\n            <List items={orderItems} item={{ render: this.renderOrderItem }} />\r\n            {\r\n                infoArr.map((el: any) => {\r\n                    if (!el.isShow) return null;\r\n                    return <div className=\"bg-white row no-gutters p-3 my-1\" key={el.name}>\r\n                        <div className=\"col-3 text-muted\">{el.name}</div>\r\n                        <div className=\"col-9\">{el.value}</div>\r\n                    </div>\r\n                })\r\n            }\r\n            {/* <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">运费:</div>\r\n                <div className=\"col-9\">{freightFeeUI}{freightFeeRemittedUI}</div>\r\n            </div> */}\r\n            {couponUI}\r\n            <div className=\"bg-white row no-gutters p-3 my-1\">\r\n                <div className=\"col-3 text-muted\">下单时间:</div>\r\n                <div className=\"col-9 text-right\"><EasyDate date={date} /></div>\r\n            </div>\r\n            {commentsUI}\r\n            <div className=\"bg-white p-3 my-1 text-right\">\r\n                <span className=\"text-danger font-weight-bold\">总金额: {amount}{tv(currency)}</span>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n\r\nfunction invoiceTemplate(invoiceType: BoxId, invoiceInfo: BoxId): JSX.Element {\r\n    return <>\r\n        {tv(invoiceType, invoiceTypeUI, undefined, () => <></>)}<br />\r\n        {tv(invoiceInfo, invoiceInfoUI, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nfunction invoiceTypeUI(values: any) {\r\n    let { id, description } = values;\r\n    return <>{description}</>;\r\n}\r\n\r\nfunction invoiceInfoUI(values: any) {\r\n    let { id, title, taxNo, address, telephone, bank, accountNo } = values;\r\n    return <>{title}</>;\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, UiSchema, UiInputItem, Form, Context, tv, BoxId, FA, autoHideTips, Schema } from 'tonva-react';\r\nimport { CInvoiceInfo } from './CInvoiceInfo';\r\nimport { xs } from 'tools/browser';\r\nimport { VMeSideBar } from 'me/VMeSideBar';\r\nimport { CrPageHeaderTitle } from 'tools/pageHeaderTitle';\r\n\r\nconst schema: Schema = [\r\n    { name: 'id', type: 'id', required: false },\r\n    { name: 'title', type: 'string', required: false },\r\n    { name: 'taxNo', type: 'string', required: false },\r\n    { name: 'address', type: 'id', required: false },\r\n    { name: 'telephone', type: 'string', required: false },\r\n    { name: 'bank', type: 'string', required: false },\r\n    { name: 'accountNo', type: 'string', required: false },\r\n];\r\n\r\nconst uiSchema: UiSchema = {\r\n    items: {\r\n        id: { visible: false },\r\n        title: {\r\n            widget: 'text', label: '单位全称', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                return (value && value.length > 200) ? '单位全称最多200个字！' : undefined;\r\n            }\r\n        } as UiInputItem,\r\n        taxNo: {\r\n            widget: 'text', label: '纳税人识别码', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                if (value) {\r\n                    value = value.trim();\r\n                    var regArr = [/^[\\da-z]{10,15}$/i, /^\\d{6}[\\da-z]{10,12}$/i, /^[a-z]\\d{6}[\\da-z]{9,11}$/i, /^[a-z]{2}\\d{6}[\\da-z]{8,10}$/i, /^\\d{14}[\\dx][\\da-z]{4,5}$/i, /^\\d{17}[\\dx][\\da-z]{1,2}$/i, /^[a-z]\\d{14}[\\dx][\\da-z]{3,4}$/i, /^[a-z]\\d{17}[\\dx][\\da-z]{0,1}$/i, /^[\\d]{6}[\\da-z]{13,14}$/i],\r\n                        j = regArr.length;\r\n                    for (var i = 0; i < j; i++) {\r\n                        if (regArr[i].test(value)) {\r\n                            return undefined;\r\n                        }\r\n                    }\r\n                    return '纳税人识别码格式不正确，请重新输入！';\r\n                }\r\n            }\r\n        } as UiInputItem,\r\n        address: {\r\n            widget: 'text', label: '注册地址', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                return (value && value.length > 200) ? '注册地址最多200个字！' : undefined;\r\n            }\r\n        } as UiInputItem,\r\n        telephone: {\r\n            widget: 'text', label: '注册电话', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                if(value) value = value.trim();\r\n                if (value && !/^(\\(\\d{3,4}\\)|\\d{3,4}-|\\s)?\\d{7,14}$/.test(value))\r\n                    return \"注册电话格式不正确，请重新输入！\";\r\n                else\r\n                    return undefined;\r\n            }\r\n        } as UiInputItem,\r\n        bank: {\r\n            widget: 'text', label: '开户银行', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                return (value && value.length > 100) ? '开户银行名称最多100个字！' : undefined;\r\n            }\r\n        } as UiInputItem,\r\n        accountNo: {\r\n            widget: 'text', label: '银行账号', placeholder: '必填',\r\n            rules: (value: string) => {\r\n                if(value) value = value.trim();\r\n                // if (value && !/^([1-9]{1})(\\d{14}|\\d{17}|\\d{18}|\\d{15})$/.test(value))\r\n                /* 银行卡位数校验 现已开放 11-30位,后期可针对具体银行进行细化校验 */\r\n                /* 二次修改  客户银行卡号存在 0开头,暂时只校验数字及数位 */\r\n                if (value && !/^\\d{8,30}$/.test(value.replace(/\\s*/g, \"\")))\r\n                    // if (value && !/^([1-9]{1})(\\d{10,29})$/.test(value.replace(/\\s*/g, \"\")))\r\n                    return \"银行账号格式不正确，请重新输入！\";\r\n                else\r\n                    return undefined;\r\n            }\r\n        } as UiInputItem,\r\n        submit: { widget: 'button', label: '提交' },\r\n    }\r\n}\r\n\r\nconst commonRequired = {\r\n    id: false,\r\n    title: true,\r\n    taxNo: true,\r\n    address: false,\r\n    telephone: false,\r\n    bank: false,\r\n    accountNo: false,\r\n    isDefault: false,\r\n};\r\n\r\nconst valueAddedRequired = {\r\n    id: false,\r\n    title: true,\r\n    taxNo: true,\r\n    address: true,\r\n    telephone: true,\r\n    bank: true,\r\n    accountNo: true,\r\n    isDefault: false,\r\n}\r\n\r\nconst commonVisible = {\r\n    id: false,\r\n    title: true,\r\n    taxNo: true,\r\n    address: false,\r\n    telephone: false,\r\n    bank: false,\r\n    accountNo: false,\r\n    isDefault: true,\r\n};\r\n\r\nconst valueAddedVisible = {\r\n    id: false,\r\n    title: true,\r\n    taxNo: true,\r\n    address: true,\r\n    telephone: true,\r\n    bank: true,\r\n    accountNo: true,\r\n    isDefault: true,\r\n}\r\n\r\nexport class VInvoiceInfo extends VPage<CInvoiceInfo> {\r\n    private form: Form;\r\n    //@observable showTip: boolean = false;\t\r\n    //saveTip: string = \"\";\r\n    private saveTip = observable.box();\r\n    private invoiceInfoData: any;\r\n\r\n    constructor(c: CInvoiceInfo) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            invoiceType: observable,\r\n            InvoiceTypeChecked: observable\r\n        });\r\n    }\r\n\r\n    async open(origInvoice?: any) {\r\n        this.invoiceInfo(origInvoice);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    invoiceInfo = (origInvoice?: any) => {\r\n        let { invoiceType, invoiceInfo } = origInvoice;\r\n        this.invoiceType = (invoiceType && invoiceType.id) || 1;\r\n        if (invoiceInfo) {\r\n            invoiceInfo.assure();\r\n            this.invoiceInfoData = { ...invoiceInfo.obj };\r\n        } else {\r\n            this.invoiceInfoData = { 'title': this.controller.cApp.currentUser?.defaultOrganizationName };\r\n        }\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { form } = context;\r\n        let { data } = form;\r\n        let invoice = {\r\n            invoiceType: this.invoiceType,\r\n            invoiceInfo: data,\r\n        };\r\n        this.invoiceInfoData = data;\r\n\r\n        let tip: string;\r\n        try {\r\n            await this.controller.saveInvoiceInfo(invoice);\r\n            tip = \"发票信息已经保存\";\r\n        } catch (error) {\r\n            tip = \"发票信息保存失败，请稍后再试\";\r\n        }\r\n        //this.showTip = true;\r\n        //setTimeout(() => { this.showTip = false; }, 2000);\r\n        this.saveTip.set(tip);\r\n    }\r\n\r\n    private onSaveInvoice = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    invoiceType: number;\r\n\r\n    private buildForm(): JSX.Element {\r\n        let requiredFields: any = this.invoiceType === 1 ? commonRequired : valueAddedRequired;\r\n        let visibleFields: any = this.invoiceType === 1 ? commonVisible : valueAddedVisible;\r\n        schema.forEach(e => {\r\n            let { items } = uiSchema;\r\n            e.required = requiredFields[e.name];\r\n            items[e.name].visible = visibleFields[e.name];\r\n        });\r\n\r\n        return React.createElement(observer(() => {\r\n            return <Form ref={v => this.form = v} className=\"my-3\"\r\n                schema={schema}\r\n                uiSchema={uiSchema}\r\n                formData={this.invoiceInfoData}\r\n                onButtonClick={this.onFormButtonClick}\r\n                fieldLabelSize={3} />\r\n        }))\r\n    }\r\n\r\n    private onInvoiceTypeClick = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        this.invoiceType = parseInt(event.currentTarget.value);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let frm = this.buildForm();\r\n\r\n        /*\r\n        let tipUI = this.showTip ? (<div className=\"alert alert-primary\" role=\"alert\">\r\n            <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n            {this.saveTip}\r\n        </div>) : null;\r\n        */\r\n        let header = CrPageHeaderTitle('发票');\r\n        return <Page header={header}>\r\n            <div className=\"row mx-0 bg-light my-1\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 px-0\">\r\n                    {!xs && <div className=\"text-center mt-5\"><h1>发票</h1></div>}\r\n                    {this.renderInvoiceContent()}\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    });\r\n\r\n    InvoiceTypeChecked: boolean;\r\n    render(param?: any): JSX.Element {\r\n        return React.createElement(observer(() => {\r\n            if (!this.InvoiceTypeChecked) {\r\n                let { origInvoice } = param;\r\n                this.invoiceInfo(origInvoice);\r\n                this.InvoiceTypeChecked = true;\r\n            };\r\n            return <>{this.renderInvoiceContent()}</>\r\n        }));\r\n    }\r\n\r\n    renderInvoiceContent = () => {\r\n        let frm = this.buildForm();\r\n        return <>\r\n            <div className=\"px-3 mx-auto\" style={{ maxWidth: !xs ? 600 : 'none' }}>\r\n                <div className=\"form-group row py-3 mb-1 bg-white\">\r\n                    <div className=\"col-12 col-sm-3 pb-2 text-muted\">发票类型:</div>\r\n                    <div className=\"col-12 col-sm-9\">\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input className=\"form-check-input\" type=\"radio\" name=\"invoiceType\" id=\"common\" value=\"1\"\r\n                                onChange={(event) => this.onInvoiceTypeClick(event)} checked={this.invoiceType === 1}></input>\r\n                            <label className=\"form-check-label\" htmlFor=\"common\">增值税普通发票</label>\r\n                        </div>\r\n                        <div className=\"form-check form-check-inline\">\r\n                            <input className=\"form-check-input\" type=\"radio\" name=\"invoiceType\" id=\"valueAdded\" value=\"2\"\r\n                                onChange={(event) => this.onInvoiceTypeClick(event)} checked={this.invoiceType === 2}></input>\r\n                            <label className=\"form-check-label\" htmlFor=\"valueAdded\">增值税专用发票</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"p-3 bg-white mx-auto\" style={{ maxWidth: !xs ? 600 : 'none' }}>\r\n                {frm}\r\n                <button type=\"button\"\r\n                    className=\"btn btn-primary w-100\"\r\n                    onClick={this.onSaveInvoice}>确定</button>\r\n                {/*tipUI*/}\r\n                {autoHideTips(this.saveTip, <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                    {this.saveTip.get()}\r\n                </div>)}\r\n            </div>\r\n        </>\r\n    }\r\n}\r\n","import { CUqBase } from 'tapp';\r\nimport { VInvoiceInfo } from './VInvoiceInfo';\r\n//import { CCartApp } from 'CCartApp';\r\n//import { Tuid } from 'tonva-react';\r\n\r\nexport class CInvoiceInfo extends CUqBase {\r\n    fromOrderCreation: boolean;\r\n\r\n    async internalStart(origInvoice: any, fromOrderCreation: boolean) {\r\n        this.fromOrderCreation = fromOrderCreation;\r\n        this.openVPage(VInvoiceInfo, origInvoice);\r\n    }\r\n\r\n    async saveInvoiceInfo(invoice: any) {\r\n        let invoiceBox =  await this.saveInvoiceInfoData(invoice);\r\n        /* let { invoiceType, invoiceInfo } = invoice;\r\n        let newInvoiceInfo = await this.uqs.customer.InvoiceInfo.save(undefined, invoiceInfo);\r\n\r\n        let { id: newInvoiceInfoId } = newInvoiceInfo;\r\n        let invoiceBox = {\r\n            invoiceType: this.uqs.common.InvoiceType.boxId(invoiceType),\r\n            invoiceInfo: this.uqs.customer.InvoiceInfo.boxId(newInvoiceInfoId),\r\n        }\r\n        // if (isDefault === true || !this.fromOrderCreation) {\r\n        let { currentUser } = this.cApp;\r\n        await currentUser.setDefaultInvoice(invoiceBox.invoiceType, invoiceBox.invoiceInfo);\r\n        // } */\r\n        if (this.fromOrderCreation) {\r\n            this.backPage();\r\n            this.returnCall(invoiceBox);\r\n        }\r\n    }\r\n\r\n    async saveInvoiceInfoData(invoice: any) {\r\n        let { invoiceType, invoiceInfo } = invoice;\r\n        let newInvoiceInfo = await this.uqs.customer.InvoiceInfo.save(undefined, invoiceInfo);\r\n\r\n        let { id: newInvoiceInfoId } = newInvoiceInfo;\r\n        let invoiceBox = {\r\n            invoiceType: this.uqs.common.InvoiceType.boxId(invoiceType),\r\n            invoiceInfo: this.uqs.customer.InvoiceInfo.boxId(newInvoiceInfoId),\r\n        }\r\n        // if (isDefault === true || !this.fromOrderCreation) {\r\n        let { currentUser } = this.cApp;\r\n        await currentUser.setDefaultInvoice(invoiceBox.invoiceType, invoiceBox.invoiceInfo);\r\n        // }\r\n        return invoiceBox;\r\n    }\r\n}","import { CartPackRow } from \"../store\";\r\n\r\nexport function groupByProduct(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems.sort((a, b) => a.price - b.price)) {\r\n        let { product, pack, quantity, price, retail, currency } = packItem;\r\n        let packRow: CartPackRow = {\r\n            pack: pack,\r\n            price: price,\r\n            retail: retail,\r\n            quantity: quantity,\r\n            currency: currency && currency.id\r\n        }\r\n        let cpi = result.find(e => e.product.id === product.id);\r\n        if (cpi === undefined) {\r\n            cpi = { product: product, packs: [] };\r\n            result.push(cpi);\r\n        }\r\n        cpi.packs.push(packRow);\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function groupByProduct1(packItems: any[]) {\r\n    let result: any[] = [];\r\n    for (let packItem of packItems) {\r\n        let { product, pack, quantity, price, retail, currency, param } = packItem;\r\n        let packRow: CartPackRow = {\r\n            pack: pack,\r\n            price: price,\r\n            retail: retail,\r\n            quantity: quantity,\r\n            currency: currency && currency.id\r\n        }\r\n        let cpi = { product: product, packs: [packRow] };\r\n        let cparam = { param: param || undefined };\r\n        result.push({ ...cpi, ...cparam });\r\n    }\r\n    return result;\r\n}","/* eslint-disable */\r\nimport { UQs } from 'uq-app';\r\nimport { Tuid, BoxId } from 'tonva-react';\r\nimport { Order } from 'order/Order';\r\nimport moment from 'moment';\r\n\r\nexport const activityTime = {\r\n    startDate: '2020-09-01',\r\n    endDate: '2020-09-30'\r\n}\r\n\r\nexport class CouponBase {\r\n\r\n    constructor(protected id: BoxId, private code: number, expiredDate: Date, private isValid: boolean) {\r\n        this.expiredDate = new Date(expiredDate);\r\n    }\r\n\r\n    protected expiredDate: Date;\r\n\r\n    getCodeShow() {\r\n        let codeShow = String(this.code);\r\n        let p1 = codeShow.substr(0, 4);\r\n        let p2 = codeShow.substr(4);\r\n        return p1 + ' ' + p2;\r\n    }\r\n\r\n    isAvaliable() {\r\n        return this.isValid && this.expiredDate.getTime() > Date.now()\r\n    }\r\n}\r\n\r\nexport interface OrderPriceStrategy {\r\n\r\n    applyTo(order: Order, uqs: UQs): Promise<void>;\r\n}\r\n\r\nexport function createOrderPriceStrategy(couponData: any): OrderPriceStrategy {\r\n    let { id, code, discount, preferential, validitydate, isValid, types, discountSetting } = couponData;\r\n    switch (types) {\r\n        case \"coupon\":\r\n            if (discountSetting && discountSetting.length > 0)\r\n                return new VIPCard(id, code, validitydate, isValid, discountSetting);\r\n            else\r\n                return new Coupon(id, code, validitydate, isValid, discount, preferential);\r\n            break;\r\n        case \"coupon_sale\":\r\n            return new CouponSale(id, code, validitydate, isValid, discount, preferential);\r\n            break;\r\n        case \"vipcard\":\r\n            return new VIPCard(id, code, validitydate, isValid, discountSetting);\r\n            break;\r\n        case \"credits\":\r\n            return new Credits(id, code, validitydate, isValid);\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\n/**\r\n * 优惠券的价格验证策略：成交价格取优惠券折扣价与所购产品品牌折扣价中较高者\r\n */\r\nexport class Coupon extends CouponBase implements OrderPriceStrategy {\r\n\r\n    constructor(protected id: BoxId, code: number, expiredDate: Date, isValid: boolean, protected discount: number, protected preferential: number) {\r\n        super(id, code, expiredDate, isValid);\r\n    }\r\n    async applyTo(orderData: Order, uqs: UQs) {\r\n        orderData.coupon = this.id\r\n        if (this.isAvaliable()) {\r\n            if (this.discount) {\r\n                let { orderItems, salesRegion } = orderData;\r\n                if (orderItems !== undefined && orderItems.length > 0) {\r\n                    let { salesTask, product: uqsProduct } = uqs;\r\n                    let couponOffsetAmount = 0;\r\n                    for (let i = 0; i < orderItems.length; i++) {\r\n                        let oi = orderItems[i];\r\n\t\t\t\t\t\tlet { product, packs } = oi;\r\n\t\t\t\t\t\tlet { brand } = product;\r\n                        //let { ProductX } = uqsProduct;\r\n                        //let productTuid: any = await ProductX.load(product)\r\n                        // 获取品牌的折扣\r\n                        let { BottomDiscount } = salesTask;\r\n                        let brandDiscountMap: any = await BottomDiscount.obj({ brand, salesRegion: salesRegion.id });\r\n\r\n                        for (let j = 0; j < packs.length; j++) {\r\n                            let pk = packs[j];\r\n                            // 折扣价格取底线折扣价和折扣价格中较高者\r\n                            let lastDiscount = Math.min((brandDiscountMap ? brandDiscountMap.discount : 0), this.discount);\r\n                            let discountPrice = Math.round(pk.retail * (1 - lastDiscount));\r\n                            // 最终价格取折扣价格和显示的价格（可能会有市场活动价)中较低者\r\n                            pk.price = Math.round(Math.min(pk.price, discountPrice));\r\n                            couponOffsetAmount += Math.round(pk.quantity * (pk.retail - pk.price) * -1);\r\n                        };\r\n                    };\r\n                    orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n\r\n                    /*\r\n                    if (agentPrices && agentPrices.length > 0) {\r\n                        let couponOffsetAmount = 0;\r\n                        for (let i = 0; i < orderItems.length; i++) {\r\n                            let oi = orderItems[i];\r\n                            let { product, packs } = oi;\r\n\r\n                            let eachProductAgentPrice = agentPrices[i];\r\n                            for (let j = 0; j < packs.length; j++) {\r\n                                let pk = packs[j];\r\n                                let agentPrice: any = eachProductAgentPrice.find(\r\n                                    (p: any) => p.product.id === product.id &&\r\n                                        p.pack.id === pk.pack.id &&\r\n                                        p.discountinued === 0 &&\r\n                                        p.expireDate > Date.now());\r\n                                if (!agentPrice) break;\r\n\r\n                                // 折扣价格取agentPrice和折扣价格中较高者\r\n                                let discountPrice = Math.round(Math.max(agentPrice.agentPrice, pk.retail * (1 - this.discount)));\r\n                                // 最终价格取折扣价格和显示的价格（可能会有市场活动价)中较低者\r\n                                pk.price = Math.round(Math.min(pk.price, discountPrice));\r\n                                couponOffsetAmount += Math.round(pk.quantity * (pk.retail - pk.price) * -1);\r\n                            };\r\n                        };\r\n                        orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n                    };\r\n                    */\r\n                }\r\n            }\r\n\r\n            if (this.preferential) {\r\n                orderData.couponRemitted = this.preferential * -1;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/**\r\n * 销售发放的优惠券的价格验证策略（未使用） \r\n */\r\nexport class CouponSale extends Coupon implements OrderPriceStrategy {\r\n\r\n    async applyTo(orderData: Order, uqs: UQs) {\r\n        orderData.coupon = this.id\r\n        if (this.isAvaliable()) {\r\n            if (this.discount) {\r\n                let { orderItems } = orderData;\r\n                if (orderItems !== undefined && orderItems.length > 0) {\r\n                    let couponOffsetAmount = 0;\r\n                    for (let i = 0; i < orderItems.length; i++) {\r\n                        let oi = orderItems[i];\r\n                        let { packs } = oi;\r\n\r\n                        for (let j = 0; j < packs.length; j++) {\r\n                            let pk = packs[j];\r\n                            // 最终价格取折扣价格和显示的价格（可能会有市场活动价)中较低者\r\n                            pk.price = Math.round(Math.min(pk.price, pk.retail * (1 - this.discount)));\r\n                            couponOffsetAmount += Math.round(pk.quantity * (pk.retail - pk.price) * -1);\r\n                        };\r\n                    };\r\n                    orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n                }\r\n            }\r\n\r\n            if (this.preferential) {\r\n                orderData.couponRemitted = this.preferential * -1;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * VIP卡的价格策略:品牌包含在VIP卡折扣表中的，价格为目录价 * 对应的(1-discount)，否则为目录价\r\n */\r\nexport class VIPCard extends CouponBase implements OrderPriceStrategy {\r\n\r\n    constructor(protected id: BoxId, code: number, expiredDate: Date, isValid: boolean, private discountSetting: any[]) {\r\n        super(id, code, expiredDate, isValid);\r\n    }\r\n    async applyTo(orderData: Order, uqs: UQs) {\r\n        orderData.coupon = this.id\r\n        if (this.isAvaliable() && this.discountSetting && this.discountSetting.length > 0) {\r\n            let { orderItems } = orderData;\r\n            if (orderItems !== undefined && orderItems.length > 0) {\r\n                let couponOffsetAmount = 0;\r\n                for (let i = 0; i < orderItems.length; i++) {\r\n                    let oi = orderItems[i];\r\n\t\t\t\t\tlet { product, packs } = oi;\r\n\t\t\t\t\tlet { brand } = product;\r\n                    // 获取明细中产品的VIP卡折扣\r\n                    let thisDiscountSetting = this.discountSetting.find((e: any) => Tuid.equ(e.brand, brand));\r\n                    let discount = (thisDiscountSetting && thisDiscountSetting.discount) || 0;\r\n\r\n                    for (let j = 0; j < packs.length; j++) {\r\n                        let pk = packs[j];\r\n                        pk.priceInit = pk.price === Math.round(pk.retail * (1 - discount)) ? pk.retail : pk.price;\r\n                        // 最终价格取折扣价格和显示的价格（可能会有市场活动价)中较低者\r\n                        pk.price = Math.round(Math.min(pk.price, pk.retail * (1 - discount)));\r\n                        couponOffsetAmount += Math.round(pk.quantity * (pk.retail - pk.price) * -1);\r\n                    };\r\n                };\r\n                orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport class Credits extends CouponBase implements OrderPriceStrategy {\r\n    async applyTo(orderData: Order, uqs: UQs) {\r\n        orderData.coupon = this.id;\r\n        if (this.isAvaliable()) {\r\n            let { orderItems } = orderData;\r\n            if (orderItems !== undefined && orderItems.length > 0) {\r\n                let couponOffsetAmount = 0;\r\n                for (let i = 0; i < orderItems.length; i++) {\r\n                    let oi = orderItems[i];\r\n                    let { packs } = oi;\r\n                    for (let j = 0; j < packs.length; j++) {\r\n                        let pk = packs[j];\r\n                        pk.priceInit = pk.price;\r\n                        //双倍积分 无折扣 取最大的价格 \r\n                        pk.price = Math.round(Math.max(pk.price, pk.retail));\r\n                        couponOffsetAmount = 0;\r\n                    };\r\n                };\r\n                orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n            }\r\n        }\r\n        let multiple = 2;\r\n        if (IsInActivePeriod()) multiple = 4;\r\n        orderData.point = Math.round(orderData.productAmount * multiple);\r\n    }\r\n}\r\n\r\n/**\r\n * 是否在活动期\r\n */\r\nexport function IsInActivePeriod() {\r\n    let { startDate, endDate } = activityTime;\r\n    let newDate = moment().format('YYYY-MM-DD');\r\n    return newDate >= startDate && newDate <= endDate;\r\n}","import * as React from 'react';\r\nimport { CCoupon } from './CCoupon';\r\nimport { View, FA, LMR } from 'tonva-react';\r\nimport { VIPCard, IsInActivePeriod, activityTime } from './Coupon';\r\nimport moment from 'moment';\r\nimport { xs } from '../tools/browser';\r\n\r\nfunction getTips(result: number, types: string, code: string) {\r\n    let invalidTip = `${COUPONBASE[types]['name']}【${code}】无效，请与您的专属销售人员联系。`;\r\n    switch (result) {\r\n        case 0:\r\n            invalidTip = `${COUPONBASE[types]['name']}【${code}】不存在，请与您的专属销售人员联系。`;\r\n            break;\r\n        case 2:\r\n            invalidTip = `该${COUPONBASE[types]['name']}【${code}】已失效，请与您的专属销售人员联系。`;\r\n            break;\r\n        case 4:\r\n            invalidTip = `该${COUPONBASE[types]['name']}【${code}】已经使用过，不可重复领用。`;\r\n            break;\r\n        case 6:\r\n            invalidTip = `您不能领用自己发出的${COUPONBASE[types]['name']}【${code}】。`;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return invalidTip;\r\n}\r\n\r\nexport class VCoupon extends View<CCoupon> {\r\n\r\n    protected coupon: any;\r\n    protected renderRight = (): JSX.Element => {\r\n        return null;\r\n    }\r\n\r\n    private showDiscountSetting = (vipCardId: VIPCard, event: React.MouseEvent) => {\r\n        event.stopPropagation();\r\n        this.controller.showDiscountSetting(vipCardId);\r\n    }\r\n\r\n    protected renderCardDescription = (): JSX.Element => {\r\n        let { discount } = this.coupon;\r\n        let cardDescription: any;\r\n        if (typeof discount === 'number') {\r\n            if (discount !== 0) {\r\n                let discountShow: any;\r\n                discountShow = (1 - discount) * 10;\r\n                cardDescription = <div className=\"mr-3 font-weight-bold text-danger\"><big>{discountShow === 10 ? '无折扣' : <>{discountShow.toFixed(1)} 折</>}</big></div>\r\n            }\r\n        }\r\n        return cardDescription;\r\n    }\r\n\r\n    protected renderActivityDescription = (): JSX.Element => {\r\n        return null;\r\n    }\r\n\r\n    protected renderCardReveal = (param: any): JSX.Element => {\r\n        let { isOpenMyCouponManage } = this.controller;\r\n        let { result, types, code, validitydate, useddate, expireddate } = this.coupon;\r\n        let CardReveal: any;\r\n        if (!isOpenMyCouponManage) {\r\n            CardReveal = <div className=\"alert alert-primary my-1\" role=\"alert\">\r\n                <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                {getTips(result, types, code)}\r\n            </div>\r\n        } else {\r\n            let showDate = validitydate !== undefined ? validitydate : (useddate !== undefined ? useddate : expireddate);\r\n            let newDate = getEasyDate(showDate);\r\n            let content = <div className=\"float-right pr-2\">\r\n                <div className=\"pb-1\">\r\n                    <FA name='th-large' className='mr-1 text-secondary' />\r\n                    <small className=\"ml-3\">{useddate !== undefined ? '使用日期' : '有效期'}: {newDate}</small>\r\n                    {/* <small className=\"ml-3\">{useddate !== undefined ? '使用日期' : '有效期'}: <EasyDate date={showDate} /></small> */}\r\n                </div>\r\n            </div>;\r\n            let left = <div>\r\n                <span className=\"text-body\"><small>{COUPONBASE[types]['name']}</small></span>\r\n            </div>;\r\n            CardReveal = <div className=\"py-3 pl-3 pr-2 mb-1 alert\" style={{ backgroundColor: '#e8eaeb', color: \"text-secondary\" }}>\r\n                <LMR left={left}>\r\n                    {content}\r\n                </LMR>\r\n            </div>\r\n        }\r\n        return CardReveal;\r\n    }\r\n\r\n    protected getCodeShow = (code: number) => {\r\n        let codeShow = String(code);\r\n        let p1 = codeShow.substr(0, 4);\r\n        let p2 = codeShow.substr(4);\r\n        codeShow = p1 + ' ' + p2;\r\n        return codeShow;\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        this.coupon = param\r\n        let { result, code, discount, validitydate, isValid, types } = param;\r\n\r\n        let couponUi;\r\n        if (result !== 1 || !isValid) {\r\n            // this.controller.cApp.currentCouponCode = undefined;\r\n            // couponUi = <div className=\"alert alert-primary my-1\" role=\"alert\">\r\n            //     <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n            //     {getTips(result, types, code)}\r\n            // </div>\r\n            couponUi = this.renderCardReveal(param);\r\n        } else {\r\n            // this.controller.cApp.currentCouponCode = code;\r\n            /*\r\n            let bcenter: any;\r\n            if (preferential)\r\n                bcenter = <div className=\"text-muted\"><small>优惠：<span className=\"mx-3\">￥{preferential}</span></small></div>;\r\n            */\r\n            let tipUI = null;\r\n            if (types !== 'credits') {\r\n                if (discount)\r\n                    tipUI = <small className=\"text-success cursor-pointer\">此{COUPONBASE[types]['name']}全场通用</small>\r\n                else\r\n                    tipUI = <small className=\"text-success cursor-pointer\" onClick={(event) => {\r\n                        event.stopPropagation();\r\n                        if (xs) this.showDiscountSetting(this.coupon, event);\r\n                        else this.controller.showModelCardDiscount(this.coupon)\r\n                    }}>查看适用品牌及折扣</small>\r\n            }\r\n            let newDate = getEasyDate(validitydate);\r\n\r\n            let content = <div className=\"float-right pr-2\">\r\n                <div className=\"pb-1\">\r\n                    <FA name='th-large' className='mr-1 text-warning' />{this.getCodeShow(code)}\r\n                    <small className=\"ml-3\">有效期：{newDate}</small>\r\n                </div>\r\n                <div className=\"float-right\">\r\n                    {tipUI}\r\n                </div>\r\n            </div>;\r\n\r\n            let left = <div>\r\n                <span className=\"text-muted\"><small>{COUPONBASE[types]['name']}</small></span>\r\n                {this.renderCardDescription()}\r\n            </div>;\r\n\r\n            couponUi = <div className=\"bg-white py-3 px-2 mb-1 reset-z-header-boxS\">\r\n                <LMR left={left} right={this.renderRight()}>\r\n                    {content}\r\n                </LMR>\r\n                {this.renderActivityDescription()}\r\n            </div>\r\n        }\r\n        return couponUi;\r\n    }\r\n}\r\n\r\nexport class VVIPCard extends VCoupon {\r\n\r\n    /*\r\n    private showDiscountSetting = (vipCardId: VIPCard, event: React.MouseEvent) => {\r\n        event.stopPropagation();\r\n        this.controller.showDiscountSetting(vipCardId);\r\n    }\r\n\r\n    protected renderRight = (): JSX.Element => {\r\n        return <span className=\"ml-3 my-3\" onClick={(event) => this.showDiscountSetting(this.coupon, event)}>\r\n            <FA name=\"chevron-right\" className=\"corsor-pointer\"></FA>\r\n        </span>;\r\n    }\r\n    */\r\n}\r\n\r\nexport class VCredits extends VCoupon {\r\n\r\n\r\n    protected renderCardDescription = (): JSX.Element => {\r\n        return <div className=\"font-weight-bold text-danger\">\r\n            <big>{\r\n                IsInActivePeriod() ? '限时四倍积分' : '双倍积分'\r\n            }</big>\r\n        </div>\r\n    }\r\n\r\n    protected renderActivityDescription = (): JSX.Element => {\r\n        let { startDate, endDate } = activityTime;\r\n        return IsInActivePeriod() ? <div className=\"text-danger mt-1\">\r\n            <small className=\"text-muted\">{startDate.replace(/-/g, '.')} 至 {endDate.replace(/-/g, '.')} 内下单可获四倍积分 </small>\r\n        </div> : null;\r\n    }\r\n\r\n    /*\r\n    render(param: any): JSX.Element {\r\n        let { coupon, onClick } = param;\r\n        this.coupon = coupon;\r\n        let { result, id, code, discount, preferential, validitydate, isValid, types } = param;\r\n\r\n        let couponUi;\r\n        if (result !== 1 || !isValid) {\r\n            // this.controller.cApp.currentCreditCode = undefined;\r\n            couponUi = <div className=\"alert alert-primary my-1\" role=\"alert\">\r\n                <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                {getTips(result, types, code)}\r\n            </div>\r\n        } else {\r\n            // this.controller.cApp.currentCreditCode = code;\r\n            let content = <div onClick={() => onClick(code)}>\r\n                <div className=\"pb-1\">\r\n                    <FA name='th-large' className='mr-1 text-warning' />{this.getCodeShow(code)}\r\n                    <small className=\"ml-3\">有效期：<EasyDate date={validitydate} /></small>\r\n                </div>\r\n                <div><small className=\"text-success\">此{cardTypeName[types]}全场通用</small></div>\r\n            </div>;\r\n\r\n            let left = <div onClick={() => onClick(code)}>\r\n                <span className=\"text-muted\"><small>{cardTypeName[types]}</small></span>\r\n                {this.renderCardDescription()}\r\n            </div>;\r\n\r\n            couponUi = <div className=\"bg-white p-3 mb-1\">\r\n                <LMR left={left}>\r\n                    {content}\r\n                </LMR>\r\n            </div>\r\n        }\r\n        return couponUi;\r\n    }\r\n    */\r\n}\r\n\r\nexport class VCouponUsed extends VCoupon {\r\n    protected renderCardReveal = (param: any): JSX.Element => {\r\n        let { validitydate, types, useddate, expireddate } = param;\r\n        let couponUi;\r\n        let showDate = validitydate !== undefined ? validitydate : (useddate !== undefined ? useddate : expireddate);\r\n        let newDate = getEasyDate(showDate);\r\n        let content = <div className=\"float-right pr-2\">\r\n            <div className=\"pb-1\">\r\n                <FA name='th-large' className='mr-1 text-secondary' />\r\n                <small className=\"ml-3\">{useddate !== undefined ? '使用日期' : '有效期'}: {newDate}</small>\r\n            </div>\r\n        </div>;\r\n        let left = <div>\r\n            <span className=\"text-body\"><small>{COUPONBASE[types]['name']}</small></span>\r\n        </div>;\r\n        couponUi = <div className=\"py-3 pl-3 pr-2 mb-1 alert\" style={{ backgroundColor: '#e8eaeb', color: \"text-secondary\" }}>\r\n            <LMR left={left}>\r\n                {content}\r\n            </LMR>\r\n        </div>\r\n        return couponUi;\r\n    }\r\n}\r\n\r\nexport function getEasyDate(validitydate: any) {\r\n    let date = moment(validitydate).format('YYYY-MM-DD').split('-');\r\n    // let date = new Date(validitydate).toLocaleDateString().split('/');\r\n    let year = new Date().getFullYear().toString();\r\n    return `${date[0] === year ? '' : (date[0] + '年')}${date[1]}月${date[2]}日`;\r\n}\r\n\r\nexport const COUPONBASE: any = {\r\n    'coupon': { 'name': '优惠券', 'view': VCoupon },\r\n    'credits': { 'name': '积分券', 'view': VCredits },\r\n    'vipcard': { 'name': 'VIP卡', 'view': VVIPCard }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, FA, LMR, autoHideTips } from 'tonva-react';\r\nimport { CCoupon } from './CCoupon';\r\nimport { observable } from 'mobx';\r\nimport { VVIPCard, VCoupon, VCredits } from './VVIPCard';\r\nimport { observer } from 'mobx-react';\r\nimport { xs } from 'tools/browser';\r\n\r\nexport class VCoupleAvailable extends VPage<CCoupon> {\r\n\r\n    private couponInput: HTMLInputElement;\r\n    private vipCardForWebUser: any;\r\n    private coupons: any[];\r\n\r\n\t//@observable tips: string;\r\n\tprivate tips = observable.box(null);\r\n    async open(param: any) {\r\n        let { vipCardForWebUser, couponsForWebUser } = param;\r\n        this.vipCardForWebUser = vipCardForWebUser;\r\n        this.coupons = couponsForWebUser.map((v: any) => v.coupon).concat(param.creditsForWebUser.map((v: any) => v.coupon));\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private applyCoupon = async () => {\r\n        let coupon = this.couponInput.value;\r\n        await this.applySelectedCoupon(coupon);\r\n    }\r\n\r\n    /**\r\n     * 应用选择的vipcard等 \r\n     */\r\n    private applySelectedCoupon = async (coupon: string) => {\r\n\t\tthis.tips.set(await this.controller.applySelectedCoupon(coupon));\r\n\t\t/*\r\n        this.tips = await this.controller.applySelectedCoupon(coupon);\r\n        //if (this.tips)\r\n\t\t//\tsetTimeout(() => this.tips = undefined, GLOABLE.TIPDISPLAYTIME);\r\n\t\t*/\r\n    }\r\n\r\n    private renderCoupon = (coupon: any) => {\r\n        let { result, code, types, discount } = coupon;\r\n        if (result === 1) {\r\n            // let content = this.renderVm(COUPONBASE[types]['view'], coupon);\r\n            let content = null;\r\n            if (types === \"coupon\")\r\n                content = discount ? this.renderVm(VCoupon, coupon) : this.renderVm(VVIPCard, coupon);\r\n            else if (types === \"credits\")\r\n                content = this.renderVm(VCredits, coupon);\r\n            return <div className=\"d-block\">\r\n                <div className=\"px-2 bg-white\" onClick={() => this.applySelectedCoupon(code)}>\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        } else\r\n            return null;\r\n    }\r\n\r\n\t/*\r\n    private tipsUI = observer(() => {\r\n        let tipsUI = <></>;\r\n        if (this.tips) {\r\n            tipsUI = <div className=\"alert alert-primary\" role=\"alert\">\r\n                <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                {this.tips}\r\n            </div>\r\n        }\r\n        return tipsUI;\r\n\t})\r\n\t*/\r\n\r\n    private page = observer(() => {\r\n\r\n        let vipCardUI;\r\n        if (this.vipCardForWebUser) {\r\n            let { coupon } = this.vipCardForWebUser;\r\n            vipCardUI = <div onClick={() => this.applySelectedCoupon(coupon.code)}>{this.renderVm(VVIPCard, coupon)}</div>\r\n        }\r\n\r\n        let right = <button className=\"btn btn-primary w-100\" onClick={this.applyCoupon}>使用</button>\r\n\r\n        return <Page header=\"可用优惠\"> \r\n            {this.renderContent({right:right,vipCardUI:vipCardUI})}\r\n            {this.controller.renderModelCardDiscount()}\r\n        </Page >\r\n    })\r\n\r\n    renderContent = (param: any) => {\r\n        let { right, vipCardUI } = param;\r\n        let left = <div className=\"d-flex align-items-center mr-3\"><div className=\"align-middle\">优惠卡/券:</div></div>\r\n        return <>\r\n            <div className=\"px-2 py-3 reset-z-header-boxS\">\r\n                <LMR left={left} right={right}>\r\n                    <input ref={v => this.couponInput = v} type=\"number\" className=\"form-control\"></input>\r\n                </LMR>\r\n                {/*React.createElement(this.tipsUI)*/}\r\n                {autoHideTips(this.tips,\r\n                    <div className=\"alert alert-primary\" role=\"alert\">\r\n                        <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                        {this.tips.get()}\r\n                    </div>\r\n                )}\r\n            </div >\r\n            <div className=\"px-2 bg-white\">\r\n                {vipCardUI}\r\n            </div>\r\n            <List items={this.coupons} item={{ render: this.renderCoupon }}\r\n                none={ <div className=\"w-100 d-flex justify-content-center text-secondary my-3\">无可用卡券</div> } ></List>\r\n        </>\r\n    }\r\n\r\n    render(param?: any): JSX.Element {\r\n        let { vipCardForWebUser, couponsForWebUser } = param;\r\n        this.vipCardForWebUser = vipCardForWebUser;\r\n        this.coupons = couponsForWebUser.map((v: any) => v.coupon).concat(param.creditsForWebUser.map((v: any) => v.coupon));\r\n        let vipCardUI:any;\r\n        if (this.vipCardForWebUser) {\r\n            let { coupon } = this.vipCardForWebUser;\r\n            vipCardUI = <div onClick={() => this.applySelectedCoupon(coupon.code)}>{this.renderVm(VVIPCard, coupon)}</div>;\r\n        }\r\n        \r\n        let right = <button className=\"btn btn-primary w-3c\" onClick={this.applyCoupon}>使用</button>\r\n        return React.createElement(observer(() => { \r\n            return <div style={{width:!xs ? 500 :'none'}}>\r\n                {this.renderContent({right:right,vipCardUI:vipCardUI})}\r\n                {this.controller.cApp.cCoupon.renderModelCardDiscount()}\r\n            </div>\r\n        }))\r\n    }\r\n}\r\n\r\n/*\r\n\r\n            <div className=\"px-2 py-3\">\r\n                <div className=\"row pr-3 my-1\">\r\n                    <div className=\"col-4 col-sm-2 d-flex align-items-center text-muted\"><span className=\"align-middle\">优惠卡券:</span></div>\r\n                    <div className=\"col-8 col-sm-10 d-flex\">\r\n                        <input ref={v => this.couponInput = v} type=\"number\" className=\"form-control\"></input>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row my-1\">\r\n                    <div className=\"col-12\">\r\n                        <button className=\"btn btn-primary w-100\" onClick={this.applyCoupon}>使用填写的卡券</button>\r\n                    </div>\r\n                </div>\r\n                {React.createElement(this.tipsUI)}\r\n            </div>\r\n*/","import { VPage, Page } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { xs } from '../tools/browser';\r\n\r\nexport class VEpecOrderError extends VPage<COrder> {\r\n\r\n    async open(error: any) {\r\n        document.body.scrollIntoView();\r\n        this.openPage(this.page, error);\r\n    }\r\n\r\n    private page = (error: any) => {\r\n        let { message } = error;\r\n        if (!message)\r\n            message = '未知原因';\r\n        let header: any;\r\n        if (xs)\r\n            header = '下单失败';\r\n        return <Page header={header}>\r\n            <div className=\"alert alert-warning mt-3\">\r\n                <h3>下单失败</h3>\r\n                <p>失败原因:{message}</p>\r\n            </div>\r\n        </Page>\r\n    }\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { Page, tv, VPage } from 'tonva-react';\r\nimport { COrder } from './COrder';\r\nimport { xs } from 'tools/browser';\r\nimport classNames from 'classnames';\r\nimport moment from 'moment';\r\n\r\nexport class VOrderTrans extends VPage<COrder> {\r\n\r\n    async open(orderTrans: any) {\r\n        document.documentElement.scrollIntoView();\r\n        this.openPage(this.page, orderTrans);\r\n    }\r\n\r\n    private page = (orderTrans: any) => {\r\n        let { transNumber, orderTrackRult, expressLogistics } = orderTrans;\r\n        let orderTrackUI: JSX.Element;\r\n        if (orderTrackRult) {\r\n            let { result, time:resTime, remark:resRemark, steps } = orderTrackRult;\r\n            let { step } = steps;\r\n            if (!step?.length) { step = [{ time: resTime || Date.now(), remark: \"查无结果\" }]; };\r\n            orderTrackUI = <ul className=\"list-unstyled mt-2\">\r\n                {step.sort((a: any, b: any) => new Date(b.time).getTime() - new Date(a.time).getTime())\r\n                .map((el: any, index: number) => {\r\n                    if (!el) return;\r\n                    let { time, remark } = el;\r\n                    let ina = index === 0 ? \"start\" : (index !== step.length - 1 ? \"\" : \"end\");\r\n                    let dYear = moment(time).format(\"YYYY.MM.DD\");\r\n                    let dTime = moment(time).format(\"HH:mm\");\r\n                    return <li key={index} className={classNames(\"d-flex m-0 step\", ina)}>\r\n                        <div className=\"datetime\">{dYear}<br />{dTime}</div>\r\n                        <div className=\"step-icon\"></div>\r\n                        <div className=\"text col-8 pr-0\">{remark}</div>\r\n                    </li>\r\n                })}\r\n            </ul>;\r\n        } else {\r\n            orderTrackUI = <div className=\"text-secondary p-3\">暂无结果,请自行查询</div>\r\n        };\r\n        let header: any;\r\n        if (xs) header = <>订单跟踪</>;\r\n        return <Page header={header} footer={<></>}>\r\n            {!xs && <h1 className=\"mt-4 mb-3 text-center\">订单跟踪</h1>}\r\n            <div className=\"result-body rounded-sm pt-3\" style={{ background: \"#f5f5f5\" }}>\r\n                <div className=\"row mx-0 justify-content-between p-2 pb-3 border-bottom\">\r\n                    <span className=\"col-12 col-sm-6\"><span className=\"rz-user-select\">发运方式：</span><strong>{tv(expressLogistics, (v: any) => <>{v.name}</>)}</strong></span>\r\n                    <span className=\"col-12 col-sm-6\"><span className=\"rz-user-select\">快递单号：</span><strong>{transNumber}</strong></span>\r\n                </div>\r\n                {orderTrackUI}\r\n            </div>\r\n        </Page>\r\n    }\r\n}","import { GLOABLE } from \"global\";\r\nimport { CApp } from \"tapp\";\r\n\r\nexport interface IActivePushOrder {\r\n    maxAmount: boolean;\r\n    pushOrder(orderRes: any): Promise<void>;\r\n}\r\n\r\nexport function ActivePushOrder(cApp: CApp): IActivePushOrder {\r\n    let type: any = cApp.currentUser?.agtCustomerType;\r\n    switch (type) {\r\n        case \"EPEC\":\r\n            return new PushOrderEpec(cApp);\r\n        default:\r\n            return new PushOrder(cApp);\r\n    };\r\n}\r\n\r\nexport class PushOrder {\r\n    cApp: CApp;\r\n    constructor(res: any) {\r\n        this.cApp = res;\r\n    }\r\n\r\n    get maxAmount() { return true };\r\n\r\n    pushOrder = async (orderRes: any) => {\r\n        this.cApp.cOrder.openOrderSuccess(orderRes);\r\n    };\r\n};\r\n\r\nexport class PushOrderEpec extends PushOrder {\r\n\r\n    get maxAmount() { return this.cApp.cOrder.orderData.amount <= 500000; };\r\n\r\n    pushOrder = async (orderRes: any) => {\r\n        // epec客户下单后要求跳转到指定的url\r\n        try {\r\n            let { id: orderId, no } = orderRes;\r\n            let epecOrder = this.cApp.cOrder.orderData.getDataForSave2();\r\n            epecOrder.id = orderId;\r\n            epecOrder.no = no;\r\n            epecOrder.type = 1;\r\n            let rep = await window.fetch(GLOABLE.EPEC.PUSHORDERURL, {\r\n                method: 'post',\r\n                mode: \"cors\",\r\n                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },\r\n                body: JSON.stringify(epecOrder)\r\n            });\r\n            let { ok, status } = rep;\r\n            if (ok) {\r\n                let url = await rep.json();\r\n                if (url) {\r\n                    window.location.href = url;\r\n                    return;\r\n                };\r\n            } else {\r\n                switch (status) {\r\n                    case 500:\r\n                        let repContent = await rep.json();\r\n                        this.cApp.cOrder.openEpecOrderError(repContent.message);\r\n                        return;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        } catch (error:any) {\r\n            console.log('epec-error', error.message);\r\n        };\r\n        this.cApp.cOrder.openOrderSuccess(orderRes);\r\n    };\r\n}\r\n","import { observable, makeObservable } from 'mobx';\r\nimport { BoxId, Context, env, nav, QueryPager } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VCreateOrder } from './VCreateOrder';\r\nimport { Order, OrderItem } from './Order';\r\nimport { OrderSuccess } from './OrderSuccess';\r\nimport { CSelectShippingContact, CSelectInvoiceContact } from '../customer/CSelectContact';\r\nimport { VMyOrders } from './VMyOrders';\r\nimport { VOrderDetail } from './VOrderDetail';\r\nimport { CInvoiceInfo } from '../customer/CInvoiceInfo';\r\nimport { groupByProduct1 } from '../tools/groupByProduct';\r\nimport { CartItem, CartPackRow } from '../store';\r\nimport { createOrderPriceStrategy, OrderPriceStrategy } from 'coupon/Coupon';\r\nimport { Product } from '../store';\r\nimport { VContact } from 'customer/VContact';\r\nimport { VCity, VCounty, VProvince } from '../customer/VAddress';\r\nimport { GLOABLE } from 'global';\r\nimport { VInvoiceInfo } from 'customer/VInvoiceInfo';\r\nimport { VCoupleAvailable } from 'coupon/VCouponAvailable';\r\nimport { VEpecOrderError } from './VEpecOrderError';\r\nimport { VOrderTrans } from './VOrderTrans';\r\nimport { VError } from '../tools/VError';\r\nimport { ActivePushOrder, IActivePushOrder } from './ActivePushOrder';\r\nimport { OrderDetail, DxOrderMainState, OrderMain, OrderMainEx } from '../uq-app/uqs/JkOrder/JkOrder';\r\nimport _ from 'lodash';\r\nimport moment from 'moment';\r\n\r\nconst FREIGHTFEEFIXED = 12;\r\nconst FREIGHTFEEREMITTEDSTARTPOINT = 100;\r\n\r\nexport class COrder extends CUqBase {\r\n    // --todo 废弃\r\n    orderPageStart: number = 1000000000;    /* 订单历史记录分页 pageStart */\r\n    getUserOrders: any[] = [];  /* 获取用户所有订单 */\r\n\r\n    orderData: Order = new Order();\r\n    activePushOrder: IActivePushOrder = ActivePushOrder(this.cApp);\r\n    /**\r\n     * 存储已经被应用的卡券，以便在使用后（下单后）将其删除\r\n     */\r\n    couponAppliedData: any = {};\r\n\r\n    replyToContactType: string;\r\n    modalTitle: any;\r\n    modalTitleS: { [desc: string]: any } = {\r\n        'contactList': { id: 1, title: '地址管理', preLevel: '' },\r\n        'contactInfo': { id: 2, title: '地址信息', preLevel: 'contactList' },\r\n        'provinceChoice': { id: 3, title: '所在省市', preLevel: 'contactInfo' },\r\n        'cityChoice': { id: 4, title: '所在城市', preLevel: 'provinceChoice' },\r\n        'countyChoice': { id: 5, title: '所在区县', preLevel: 'cityChoice' },\r\n        'invoiceInfo': { id: 6, title: '发票信息', preLevel: '' },\r\n        'validCard': { id: 7, title: '可用优惠', preLevel: '' },\r\n    };\r\n\r\n    editContact: any;\r\n    provinces: any[] = [];\r\n    cities: any[] = [];\r\n    counties: any[] = [];\r\n    addressId: any;\r\n\r\n    hasAnyCoupon: boolean;\r\n    /**\r\n     * 当前webuser对应的buyeraccount，用来设置订单中的buyeraccount\r\n     */\r\n    buyerAccounts: any[] = [];\r\n    validCardForWebUser: any;\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            orderPageStart: observable,\r\n            getUserOrders: observable,\r\n            activePushOrder: observable,\r\n            orderData: observable,\r\n            couponAppliedData: observable,\r\n            replyToContactType: observable,\r\n            modalTitle: observable,\r\n            modalTitleS: observable,\r\n            editContact: observable,\r\n            provinces: observable,\r\n            cities: observable,\r\n            counties: observable,\r\n            addressId: observable,\r\n            buyerAccounts: observable,\r\n            validCardForWebUser: observable\r\n        });\r\n    }\r\n\r\n    protected async internalStart(param: any) {\r\n    }\r\n\r\n    initOrderFreightFee = () => {// 运费和运费减免\r\n        this.orderData.freightFee = FREIGHTFEEFIXED;\r\n        if (this.orderData.productAmount > FREIGHTFEEREMITTEDSTARTPOINT)\r\n            this.orderData.freightFeeRemitted = FREIGHTFEEFIXED * -1;\r\n        else\r\n            this.orderData.freightFeeRemitted = 0;\r\n    }\r\n\r\n    createOrderFromCart = async (cartItems: CartItem[]) => {\r\n        let { cApp, uqs } = this;\r\n        let { currentUser, currentSalesRegion, cCoupon } = cApp;\r\n        this.orderData.webUser = currentUser.id;\r\n        this.orderData.salesRegion = currentSalesRegion.id;\r\n        this.removeCoupon();\r\n        this.hasAnyCoupon = await this.hasCoupons();\r\n\r\n        let buyerAccountQResult = await uqs.webuser.WebUserBuyerAccount.query({ webUser: currentUser.id })\r\n        if (buyerAccountQResult) {\r\n            this.buyerAccounts = buyerAccountQResult.ret;\r\n            if (this.buyerAccounts && this.buyerAccounts.length === 1) {\r\n                this.orderData.customer = this.buyerAccounts[0].buyerAccount;\r\n            }\r\n        }\r\n\r\n        if (this.orderData.shippingContact === undefined) {\r\n            this.orderData.shippingContact = await this.getDefaultShippingContact();\r\n        }\r\n\r\n        if (this.orderData.invoiceContact === undefined) {\r\n            this.orderData.invoiceContact = await this.getDefaultInvoiceContact();\r\n        }\r\n\r\n        if (this.orderData.invoiceType === undefined) {\r\n            this.orderData.invoiceType = await this.getDefaultInvoiceType();\r\n        }\r\n\r\n        if (this.orderData.invoiceInfo === undefined) {\r\n            this.orderData.invoiceInfo = await this.getDefaultInvoiceInfo();\r\n        }\r\n\r\n        if (cartItems !== undefined && cartItems.length > 0) {\r\n            this.orderData.currency = cartItems[0].packs[0].currency;\r\n            this.orderData.orderItems = cartItems.map(e => {\r\n                let { product, packs } = e;\r\n                var item = new OrderItem(product);\r\n                item.packs = packs.map((v: any) => { return { ...v } }).filter((v: any) => v.quantity > 0 && v.price);\r\n                item.packs.forEach(pk => {\r\n                    pk.priceInit = pk.price;\r\n                })\r\n                return item;\r\n            });\r\n\r\n            // 运费和运费减免\r\n            this.initOrderFreightFee();\r\n        }\r\n\r\n        /*\r\n        let currentCode = currentCouponCode || currentCreditCode;\r\n        if (currentCode) {\r\n            let coupon = await cCoupon.getCouponValidationResult(currentCode);\r\n            if (coupon.result === 1)\r\n                this.applyCoupon(coupon);\r\n            else {\r\n                this.cApp.currentCouponCode = undefined;\r\n                this.cApp.currentCreditCode = undefined;\r\n            }\r\n        }\r\n        */\r\n        // 如果当前webuser有VIP卡，默认下单时使用其VIP卡\r\n        let { webUserVIPCard } = currentUser;\r\n        if (webUserVIPCard !== undefined) {\r\n            let coupon = await cCoupon.getCouponValidationResult(\r\n                webUserVIPCard.vipCardCode.toString()\r\n            );\r\n            let { result, types, id } = coupon;\r\n            if (result === 1) {\r\n                if (types === \"vipcard\" || types === \"coupon\") {\r\n                    coupon.discountSetting = await cCoupon.getValidDiscounts(types, id);\r\n                }\r\n                this.applyCoupon(coupon);\r\n            }\r\n        };\r\n        this.activePushOrder = ActivePushOrder(this.cApp);\r\n        this.openVPage(VCreateOrder);\r\n    }\r\n\r\n    private defaultSetting: any;\r\n    private async getDefaultSetting() {\r\n        if (this.defaultSetting) return this.defaultSetting;\r\n        let { currentUser } = this.cApp;\r\n        return this.defaultSetting = await currentUser.getSetting() || {};\r\n    }\r\n\r\n    private contact0: BoxId;\r\n    private async getContact(): Promise<BoxId> {\r\n        if (this.contact0 === null) return;\r\n        if (this.contact0 !== undefined) return this.contact0;\r\n        let { currentUser } = this.cApp;\r\n        let contactArr = await currentUser.getContacts();\r\n        if (contactArr === undefined || contactArr.length === 0) {\r\n            this.contact0 = null;\r\n            return;\r\n        }\r\n        return this.contact0 = contactArr[0].contact;\r\n    }\r\n\r\n    private async getDefaultShippingContact() {\r\n        let defaultSetting = await this.getDefaultSetting();\r\n        return defaultSetting.shippingContact || await this.getContact();\r\n    }\r\n\r\n    private async getDefaultInvoiceContact() {\r\n        let defaultSetting = await this.getDefaultSetting();\r\n        return defaultSetting.invoiceContact || await this.getContact();\r\n    }\r\n\r\n    private async getDefaultInvoiceType() {\r\n        let defaultSetting = await this.getDefaultSetting();\r\n        return defaultSetting.invoiceType;\r\n    }\r\n\r\n    private async getDefaultInvoiceInfo() {\r\n        let defaultSetting = await this.getDefaultSetting();\r\n        return defaultSetting.invoiceInfo;\r\n    }\r\n\r\n\r\n    orderAgain = async (data: any) => {\r\n        let { orderItems } = data;\r\n\r\n        orderItems = orderItems.map((el: CartItem) => {\r\n            return {\r\n                product: el.product,\r\n                packs: el.packs,\r\n                $isDeleted: false,\r\n                $isSelected: true,\r\n                createdate: 'undefined'\r\n            }\r\n        })\r\n        // console.log('orderItems', orderItems);\r\n        await this.createOrderFromCart(orderItems)\r\n    }\r\n\r\n    /**\r\n     * 提交订单\r\n     */\r\n    submitOrder = async () => {\r\n        let { uqs, store, currentUser } = this.cApp;\r\n        let { order, webuser, customer } = uqs;\r\n        let { orderItems } = this.orderData;\r\n        this.initOrderFreightFee();\r\n        let result: any = await order.Order.save(\"order\", this.orderData.getDataForSave());\r\n        let { id: orderId, no, flow, state } = result;\r\n        await order.Order.action(orderId, flow, state, \"submit\");\r\n\r\n        // 如果使用了coupon/credits，需要将其标记为已使用\r\n        let { id: couponId, types } = this.couponAppliedData;\r\n        if (couponId) {\r\n            let nowDate = new Date();\r\n            let usedDate = `${nowDate.getFullYear()}-${nowDate.getMonth() + 1}-${nowDate.getDate()}`;\r\n            switch (types) {\r\n                case 'coupon':\r\n                    if (currentUser.hasCustomer) {\r\n                        let customerId = currentUser.currentCustomer.id;\r\n                        customer.CustomerCoupon.del({ customer: customerId, coupon: couponId, arr1: [{ couponType: 1 }] });\r\n                        customer.CustomerCouponUsed.add({ customer: customerId, arr1: [{ coupon: couponId, usedDate: usedDate }] });\r\n                    } else {\r\n                        webuser.WebUserCoupon.del({ webUser: currentUser.id, coupon: couponId, arr1: [{ couponType: 1 }] });\r\n                        webuser.WebUserCouponUsed.add({ webUser: currentUser.id, arr1: [{ coupon: couponId, usedDate: usedDate }] });\r\n                    };\r\n                    break;\r\n                case 'credits':\r\n                    if (currentUser.hasCustomer) {\r\n                        let customerId = currentUser.currentCustomer.id;\r\n                        customer.CustomerCredits.del({ customer: customerId, arr1: [{ credits: couponId }] });\r\n                        customer.CustomerCreditsUsed.add({ customer: customerId, credits: couponId, arr1: [{ saleOrderItem: no, usedDate: usedDate }] });\r\n                    } else {\r\n                        webuser.WebUserCredits.del({ webUser: currentUser.id, arr1: [{ credits: couponId }] });\r\n                        webuser.WebUserCreditsUsed.add({ webUser: currentUser.id, credits: couponId, arr1: [{ saleOrder: no, usedDate: usedDate }] });\r\n                    };\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        let param: [{ productId: number, packId: number }] = [] as any;\r\n        orderItems.forEach(e => {\r\n            e.packs.forEach(v => {\r\n                param.push({ productId: e.product.id, packId: v.pack.id })\r\n            })\r\n        });\r\n        store.cart.removeItem(param);\r\n        /* pushOrder 不同客户调用不同的pushOrder */\r\n        // await this.activePushOrder.pushOrder(result);\r\n        /* --------------- epec下单 已整理,中间部分弃用 --------------- */\r\n        // epec客户下单后要求跳转到指定的url\r\n        let epecOrder = this.orderData.getDataForSave2();\r\n        epecOrder.id = orderId;\r\n        epecOrder.no = no;\r\n        epecOrder.type = 1;\r\n        try {\r\n            let rep = await window.fetch(GLOABLE.EPEC.PUSHORDERURL, {\r\n                method: 'post',\r\n                mode:\"cors\",\r\n                headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },\r\n                body: JSON.stringify(epecOrder)\r\n            });\r\n            let { ok, status } = rep;\r\n            if (ok) {\r\n                let url = await rep.json();\r\n                if (url) {\r\n                    window.location.href = url;\r\n                    return;\r\n                }\r\n            } else {\r\n                switch (status) {\r\n                    case 500:\r\n                        let repContent = await rep.json();\r\n                        this.openVPage(VEpecOrderError, { message: repContent.message });\r\n                        return;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        } catch (error) {\r\n\r\n        }\r\n        /* --------------- epec下单 已整理,中间部分弃用 --------------- */\r\n        // 打开下单成功显示界面\r\n        nav.popTo(this.cApp.topKey);\r\n        this.openVPage(OrderSuccess, result);\r\n    }\r\n\r\n    openOrderSuccess(result:any) {\r\n        nav.popTo(this.cApp.topKey);\r\n        this.openVPage(OrderSuccess, result);\r\n    };\r\n\r\n    openEpecOrderError(message:any) {\r\n        this.openVPage(VEpecOrderError, { message: message });\r\n    };\r\n\r\n    onSelectShippingContact = async () => {\r\n        let cSelect = this.newC(CSelectShippingContact);\r\n        let contactBox = await cSelect.call<BoxId>(true);\r\n        this.orderData.shippingContact = contactBox;\r\n    }\r\n\r\n    onSelectInvoiceContact = async () => {\r\n        let cSelect = this.newC(CSelectInvoiceContact);\r\n        let contactBox = await cSelect.call<BoxId>(true);\r\n        this.orderData.invoiceContact = contactBox;\r\n    }\r\n\r\n    /**\r\n     * 打开输入或选择使用卡券界面\r\n     */\r\n    onCouponEdit = async () => {\r\n        let { cCoupon } = this.cApp;\r\n        let coupon = await cCoupon.call<any>(this.orderData.coupon);\r\n        if (coupon) {\r\n            await this.applyCoupon(coupon);\r\n        }\r\n    }\r\n\r\n    private hasCoupons = async (): Promise<boolean> => {\r\n        let { /* cCoupon, */ currentUser } = this.cApp;\r\n        // let { id: currentUserId } = currentUser;\r\n        let getValidCredits = await currentUser.getValidCredits();\r\n        if (getValidCredits && getValidCredits.length > 0)\r\n            return true;\r\n        let validCoupons = await currentUser.getValidCoupons();\r\n        // let validCoupons = await cCoupon.getValidCouponsForWebUser(currentUserId);\r\n        if (validCoupons && validCoupons.length > 0)\r\n            return true;\r\n        /* let validCredits = await cCoupon.getValidCreditsForWebUser(currentUserId);\r\n        if (validCredits && validCoupons.length > 0)\r\n            return true; */\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * 使用优惠券后计算折扣金额和抵扣额\r\n     */\r\n    applyCoupon = async (coupon: any) => {\r\n\r\n        this.removeCoupon();\r\n        let { result: validationResult, validitydate, isValid } = coupon;\r\n        if (validationResult === 1 && isValid === 1 && new Date(validitydate).getTime() > Date.now()) {\r\n            this.couponAppliedData = coupon;\r\n            let orderPriceStrategy: OrderPriceStrategy = createOrderPriceStrategy(coupon);\r\n            orderPriceStrategy.applyTo(this.orderData, this.uqs);\r\n            /*\r\n            this.orderData.coupon = id;\r\n            if (types === \"coupon\" || types === \"vipcard\") {\r\n                // if (discount) {\r\n                // 仍兼容原来统一折扣的模式\r\n                if ((discountSetting && discountSetting.length > 0) || discount) {\r\n                    let { orderData, uqs, cApp } = this;\r\n                    let { orderItems } = orderData;\r\n                    let { AgentPrice } = uqs.product;\r\n                    if (orderItems !== undefined && orderItems.length > 0) {\r\n                        // 获取每个明细中产品的agentprice;\r\n                        let promises: PromiseLike<any>[] = [];\r\n                        orderItems.forEach(e => {\r\n                            promises.push(AgentPrice.table({ product: e.product.id, salesRegion: cApp.currentSalesRegion.id }));\r\n                        });\r\n                        let agentPrices = await Promise.all(promises);\r\n    \r\n                        if (agentPrices && agentPrices.length > 0) {\r\n                            let couponOffsetAmount = 0;\r\n                            for (let i = 0; i < orderItems.length; i++) {\r\n                                let oi = orderItems[i];\r\n                                let { product, packs } = oi;\r\n                                // 获取明细中产品的优惠券/VIP卡折扣\r\n                                if (discountSetting) {\r\n                                    let thisDiscountSetting = discountSetting.find((e: any) => Tuid.equ(e.brand, product.obj.brand));\r\n                                    discount = (thisDiscountSetting && thisDiscountSetting.discount) || discount || 0;\r\n                                }\r\n    \r\n                                let eachProductAgentPrice = agentPrices[i];\r\n                                for (let j = 0; j < packs.length; j++) {\r\n                                    let pk = packs[j];\r\n                                    let agentPrice: any = eachProductAgentPrice.find(\r\n                                        (p: any) => p.product.id === product.id &&\r\n                                            p.pack.id === pk.pack.id &&\r\n                                            p.discountinued === 0 &&\r\n                                            p.expireDate > Date.now());\r\n                                    if (!agentPrice) break;\r\n    \r\n                                    // 折扣价格取agentPrice和折扣价格中较高者\r\n                                    let discountPrice = Math.round(Math.max(agentPrice.agentPrice, pk.retail * (1 - discount)));\r\n                                    // pk.price = Math.round(Math.max(agentPrice.agentPrice, pk.retail * (1 - discount)));\r\n                                    // 最终价格取折扣价格和显示的价格（可能会有市场活动价)中较低者\r\n                                    pk.price = Math.round(Math.min(pk.price, discountPrice));\r\n                                    couponOffsetAmount += Math.round(pk.quantity * (pk.retail - pk.price) * -1);\r\n                                };\r\n                            };\r\n                            this.orderData.couponOffsetAmount = Math.round(couponOffsetAmount);\r\n                        };\r\n                    }\r\n                }\r\n                if (preferential) {\r\n                    this.orderData.couponRemitted = preferential * -1;\r\n                }\r\n                // 运费和运费减免\r\n                this.orderData.freightFee = FREIGHTFEEFIXED;\r\n                if (this.orderData.productAmount > FREIGHTFEEREMITTEDSTARTPOINT)\r\n                    this.orderData.freightFeeRemitted = FREIGHTFEEFIXED * -1;\r\n            }\r\n    \r\n            if (types === \"credits\") {\r\n                this.orderData.point = Math.round(this.orderData.productAmount * 2);\r\n            }\r\n            */\r\n            // 运费和运费减免\r\n            this.initOrderFreightFee();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 删除优惠券\r\n     */\r\n    removeCoupon = () => {\r\n        this.orderData.coupon = undefined;\r\n        this.couponAppliedData = {};\r\n        this.orderData.couponOffsetAmount = 0;\r\n        this.orderData.couponRemitted = 0;\r\n        this.orderData.point = 0;\r\n        this.orderData.orderItems.forEach((e: OrderItem) => e.packs.forEach((v: CartPackRow) => v.price = v.priceInit));\r\n    }\r\n\r\n    /*\r\n    * 打开我的订单列表（在“我的”界面使用）\r\n    */\r\n    openMyOrders = async (state: string) => {\r\n        this.openVPage(VMyOrders, state);\r\n    }\r\n\r\n    /**\r\n     * 根据状态读取我的订单\r\n     */\r\n    getMyOrders = async (state: string) => {\r\n        let { order } = this.uqs;\r\n        switch (state) {\r\n            case 'pendingpayment':\r\n                return await order.GetPendingPayment.table(undefined);\r\n            case 'processing':\r\n                /* let res = await order.Order.mySheets(undefined, 1, -20);\r\n                return res.map((el: any) => { return { ...el, state: \"processing\" } }); */\r\n                let result3: any = await this.searchMyOrders({ state: \"11\" });\r\n                return result3.items;\r\n            case 'completed':\r\n                let result2: any = await this.searchMyOrders({ state: \"12\" });\r\n                return result2.items;\r\n            case 'shipped':\r\n                let result1: any = await this.searchMyOrders({ state: \"13\" });\r\n                return result1.items;\r\n            case 'all':\r\n                let result:any = await this.searchMyOrders({});\r\n                return result.items;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    searchMyOrders = async (param:any) => {\r\n        let { firstSize, pageSize, keyWord, state } = param;\r\n        let { currentUser } = this.cApp;\r\n        let result = new QueryPager<any>(this.uqs.order.SearchOrders, pageSize || 100000000, firstSize || 100000000);\r\n        await result.first({\r\n            keyWord: keyWord || undefined, state: state || undefined,\r\n            customer: currentUser?.currentCustomer\r\n        });\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * 打开发票信息编辑界面\r\n     */\r\n    onInvoiceInfoEdit = async () => {\r\n        let cInvoiceInfo = this.newC(CInvoiceInfo); // new CInvoiceInfo(this.cApp, undefined, true);\r\n        let { invoiceType, invoiceInfo } = this.orderData;\r\n        let origInvoice = {\r\n            invoiceType: invoiceType,\r\n            invoiceInfo: invoiceInfo,\r\n        }\r\n        let newInvoice = await cInvoiceInfo.call<any>(origInvoice, true);\r\n        this.orderData.invoiceType = newInvoice.invoiceType;\r\n        this.orderData.invoiceInfo = newInvoice.invoiceInfo;\r\n    }\r\n\r\n    openOrderDetail = async (orderId: number) => {\r\n        // if (state === \"11\") {\r\n        //     let order = await this.uqs.order.Order.getSheet(orderId);\r\n        //     let { brief, data } = order;\r\n        //     if (this.user?.id !== brief?.user) {\r\n        //         this.openVPage(VError);return;\r\n        //     };\r\n        //     let { orderItems } = data;\r\n        //     let orderItemsGrouped = groupByProduct1(orderItems);\r\n        //     data.orderItems = orderItemsGrouped;\r\n        //     this.openVPage(VOrderDetail, order);\r\n        // } else {\r\n        let { currentUser, store } = this.cApp;\r\n        let { currentSalesRegion } = store;\r\n        let { id: salesRegionId } = currentSalesRegion;\r\n        let { JkOrder, customer, common, product:productx, deliver } = this.uqs\r\n        let order: any = { brief: {}, data: { orderItems: [], comments: undefined } };\r\n        /* 第一项是 main， 第二项是 detail */\r\n        let getOrderDetail = await JkOrder.IDDetailGet<OrderMain, OrderDetail>({\r\n            id: orderId,\r\n            main: JkOrder.OrderMain,\r\n            detail: JkOrder.OrderDetail,\r\n        });\r\n        let getOrderMainEx: any[] = await JkOrder.ID<OrderMainEx>({\r\n            IDX: JkOrder.OrderMainEx,\r\n            id: orderId,\r\n        });\r\n        if (!getOrderDetail[0].length || !getOrderDetail[1].length) {\r\n            this.openVPage(VError);return;\r\n        };\r\n        let getOrderMainState: any[] = await JkOrder.ID<DxOrderMainState>({\r\n            IDX: JkOrder.DxOrderMainState,\r\n            id: orderId,\r\n        });\r\n        let mainArr: any[] = getOrderDetail[0];\r\n        if (mainArr.length) {\r\n            let { id, no, createDate: date, sumAmount: amount, shippingContact, invoiceContact, invoiceInfo, invoiceType } = mainArr[0] as any;\r\n            let { state } = getOrderMainState[0] || { state: undefined };\r\n            shippingContact = customer.Contact.boxId(shippingContact);\r\n            invoiceContact = customer.Contact.boxId(invoiceContact);\r\n            invoiceInfo = customer.InvoiceInfo.boxId(invoiceInfo);\r\n            invoiceType = common.InvoiceType.boxId(invoiceType);\r\n            let currency = common.Currency.boxId(5);\r\n            let promise1: PromiseLike<any>[] = [shippingContact, invoiceContact, invoiceInfo, invoiceType, currency];\r\n            await Promise.all(promise1);\r\n            /* 数据库date与前端时间偏移量为8小时 */\r\n            date = moment(date).utcOffset(-8).format('YYYY-MM-DD HH:mm:ss');\r\n            order.brief = { id: id, no: no, state: state, date: date };\r\n            _.assign(order.data, {\r\n                couponOffsetAmount: 0, couponRemitted: 0, salesRegion: { id: 1 },\r\n                currency: currency, webUser: currentUser, amount: amount,\r\n                shippingContact: shippingContact, invoiceContact: invoiceContact,\r\n                invoiceInfo: invoiceInfo, invoiceType: invoiceType,\r\n                comments: getOrderMainEx[0]?.commentsAboutDeliver\r\n            });\r\n            let orderItemsn: any[] = [];\r\n            if (getOrderDetail[1].length) {\r\n                let promise: PromiseLike<any>[] = [];\r\n                getOrderDetail[1].forEach((el: any) => {\r\n                    let { product } = el;\r\n                    el.product = productx.ProductX.boxId(product);\r\n                    promise.push(el.product);\r\n                    promise.push(productx.GetProductPrices.table({ product: product, salesRegion: salesRegionId }).then((data: any) => el.pricex = data || []));\r\n                    promise.push(deliver.GetOrderDetailTransportation.obj({ orderDetail: el?.id }).then((data: any) => el.transportation = data || undefined));\r\n                });\r\n                await Promise.all(promise);\r\n                orderItemsn = getOrderDetail[1].map((el: any) => {\r\n                    let { product, item, price, quantity, id, pricex } = el as any;\r\n                    let { pack } = pricex?.find((o: any) => o.pack?.id === item) || { pack: item };\r\n                    let param: any = { id: id, transportation: el.transportation };\r\n                    return { param: param, pack: pack, price: price, product: product, quantity: quantity, currency: undefined };\r\n                });\r\n            };\r\n            /* Fee(页面暂时不展示,后期实现) */\r\n            // let getFreightFee = await JkOrder.IX<IxOrderMainFee>({\r\n            //     IX:JkOrder.IxOrderMainFee,\r\n            //     ix: [31198536],\r\n            // });\r\n            // let freightFee: any, freightFeeRemitted:any;\r\n            // if (getFreightFee.length) {\r\n            //     let { xi, fee } = getFreightFee[0];\r\n            //     freightFee = xi; freightFeeRemitted = -1 * fee;\r\n            // };\r\n            _.assign(order.data, {\r\n                orderItems: groupByProduct1(orderItemsn),\r\n                // freightFee: freightFee || 12,\r\n                // freightFeeRemitted: freightFeeRemitted || 0,\r\n            });\r\n        };\r\n        this.openVPage(VOrderDetail, order);\r\n        // }\r\n    }\r\n    /* 物流信息 orderTransportation 此表废弃,不使用数据 */\r\n    inteLogistics = async (items: any[], orderId: number) => {\r\n        if (!items.length || !orderId) return [];\r\n        let promise: PromiseLike<any>[] = [];\r\n        items.forEach((el: any, index: number) => {\r\n            promise.push(this.getOrderTransportation(orderId, index + 1));\r\n        });\r\n        let res = await Promise.all(promise);\r\n        return res.filter((v: any) => v);\r\n    }\r\n\r\n    getOrderTransportation = async (orderId: number, row: number) => {\r\n        return await this.uqs.order.orderTransportation.obj({ order: orderId, row: row });\r\n    };\r\n\r\n    getOrderTrackByTransNum = async (transCompany: string, transNumber: number | string) => {\r\n        let param = { code: transCompany, no: transNumber };\r\n        let res = await fetch(GLOABLE.LOGISTIC.ORDERTRANS, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body: JSON.stringify(param)\r\n        });\r\n        if (!res.ok) return;\r\n        return await res.json();\r\n    }\r\n\r\n    openOrderTrans = async (orderTrans: any) => {\r\n        let { transNumber, expressLogistics } = orderTrans;\r\n        /* 入驻的快递（可查物流） */\r\n        let settledTrans: any = [\r\n            { transCompany: \"Y\", transCompanyId: 1, transCompanyIdTest: 25 },\r\n            { transCompany: \"ST\", transCompanyId: 22, transCompanyIdTest: 21 },\r\n        ];\r\n        let currTransBoxId: any = settledTrans.find((v: any) =>\r\n            (env.testing === true ? v.transCompanyIdTest : v.transCompanyId) === expressLogistics?.id);\r\n        if (currTransBoxId) {\r\n            let { transCompany } = currTransBoxId;\r\n            let orderTrackRult = await this.getOrderTrackByTransNum(transCompany, transNumber);\r\n            orderTrans.orderTrackRult = orderTrackRult?.response;\r\n        };\r\n        this.openVPage(VOrderTrans, orderTrans);\r\n    };\r\n\r\n    renderDeliveryTime = (pack: BoxId) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderDeliveryTime(pack);\r\n    }\r\n\r\n    renderOrderItemProduct = (product: Product) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderCartProduct(product);\r\n    }\r\n\r\n    onContactSelected = (contact: BoxId) => {\r\n        if (this.replyToContactType === 'shippingContact') this.orderData.shippingContact = contact;\r\n        if (this.replyToContactType === 'invoiceContact') this.orderData.invoiceContact = contact;\r\n        this.modalTitle = '';\r\n    }\r\n\r\n    /**\r\n     * 打开地址编辑界面\r\n     */\r\n    onEditContact = async (userContact: BoxId) => {\r\n        let userContactId = userContact.id;\r\n        let contact = await this.uqs.customer.Contact.load(userContactId);\r\n        contact.isDefault = false;\r\n        this.editContact = contact;\r\n        this.modalTitle = 'contactInfo';\r\n    }\r\n\r\n    renderModelContent = (param?: any) => {\r\n        if (this.modalTitle === 'contactList') return this.renderContentList();\r\n        if (this.modalTitle === 'contactInfo') return this.onNewContact();\r\n        if (this.modalTitle === 'provinceChoice') return this.pickProvince();\r\n        if (this.modalTitle === 'cityChoice') return this.pickCity();\r\n        if (this.modalTitle === 'countyChoice') return this.pickCounty();\r\n        if (this.modalTitle === 'invoiceInfo') return this.renderInvoice();\r\n        if (this.modalTitle === 'validCard') return this.renderValidCard();\r\n    }\r\n\r\n    renderContentList = () => {\r\n        return this.cApp.cSelectInvoiceContact.renderContentList('createOrder');\r\n        // return this.renderView(VContactList);\r\n    }\r\n\r\n    getValidCardForWebUser = async () => {\r\n        let { cCoupon } = this.cApp;\r\n        this.validCardForWebUser = await cCoupon.getValidCardForWebUser();\r\n        this.modalTitle = 'validCard';\r\n    }\r\n\r\n    showModelCardDiscount = async (vipCard: any) => {\r\n        await this.cApp.cCoupon.showModelCardDiscount(vipCard);\r\n    }\r\n    /* 选择发票信息 */\r\n    saveInvoiceInfo = async (invoice: any) => {\r\n        let newInvoice: any = await this.cApp.cInvoiceInfo.saveInvoiceInfoData(invoice);\r\n        this.orderData.invoiceType = newInvoice.invoiceType;\r\n        this.orderData.invoiceInfo = newInvoice.invoiceInfo;\r\n        this.modalTitle = '';\r\n    }\r\n    /* 选择优惠券 */\r\n    applySelectedCoupon = async (coupon: string) => {\r\n        if (!coupon)\r\n            return \"请输入您的优惠卡/券号\";\r\n        else {\r\n            let { cCoupon } = this.cApp;\r\n            let couponRet = await cCoupon.applyCoupon1(coupon);\r\n            if (couponRet) {\r\n                await this.applyCoupon(couponRet);\r\n                this.modalTitle = '';\r\n            };\r\n            return cCoupon.applyTip(couponRet);\r\n        }\r\n    }\r\n\r\n    renderValidCard = () => {\r\n        return this.renderView(VCoupleAvailable, this.validCardForWebUser);\r\n    }\r\n\r\n    renderInvoice = () => {\r\n        let { invoiceType, invoiceInfo } = this.orderData;\r\n        let origInvoice = {\r\n            invoiceType: invoiceType,\r\n            invoiceInfo: invoiceInfo,\r\n        };\r\n        return this.renderView(VInvoiceInfo, { origInvoice: origInvoice });\r\n    }\r\n\r\n    /**\r\n     * 打开地址新建界面\r\n     */\r\n    onNewContact = () => {\r\n        return this.renderView(VContact, { contact: this.editContact });\r\n    }\r\n\r\n    pickAddress = async (context?: Context, name?: string, value?: number): Promise<number> => {\r\n        this.provinces = await this.cApp.cAddress.getCountryProvince(GLOABLE.CHINA);\r\n        this.modalTitle = 'provinceChoice';\r\n        return this.addressId;\r\n    }\r\n\r\n    pickProvince = () => {\r\n        return this.renderView(VProvince, { provinces: this.provinces });\r\n    }\r\n\r\n    pickCity = () => {\r\n        return this.renderView(VCity, { cities: this.cities });\r\n    }\r\n\r\n    pickCounty = () => {\r\n        return this.renderView(VCounty, { counties: this.counties });\r\n    }\r\n\r\n    saveAddress = async (countryId: number, provinceId: number, cityId?: number, countyId?: number): Promise<any> => {\r\n        let { Address } = this.uqs.common;\r\n        let newAddress = await Address.save(undefined, { country: countryId, province: provinceId, city: cityId, county: countyId });\r\n        let addressId = newAddress && Address.boxId(newAddress.id);\r\n        this.modalTitle = 'contactInfo';\r\n        this.addressId = addressId;\r\n    }\r\n\r\n    saveContact = async (contact: any) => {\r\n        let { cSelectShippingContact, cSelectInvoiceContact } = this.cApp;\r\n        let contactBox: any;\r\n        if (this.replyToContactType === 'shippingContact')\r\n            contactBox = await cSelectShippingContact.saveContactData(contact);\r\n        if (this.replyToContactType === 'invoiceContact')\r\n            contactBox = await cSelectInvoiceContact.saveContactData(contact);\r\n        this.onContactSelected(contactBox);\r\n    }\r\n}\r\n","import * as React from 'react';\r\nimport { Ax, View, FA } from 'tonva-react';\r\nimport { CProductCategory } from './CProductCategory';\r\nimport { rootCategroyResFromId } from 'global';\r\n//import { observer } from 'mobx-react';\r\n\r\n/*\r\nconst imgStyle: React.CSSProperties = {\r\n    height: '1.5rem', width: '1.5rem',\r\n    marginLeft: '0.1rem',\r\n    marginRight: '0.3rem'\r\n}\r\n\r\nexport const titleTitle: React.CSSProperties = {\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n}\r\n\r\nexport const subStyle: React.CSSProperties = {\r\n    fontSize: '0.75rem',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n}\r\n*/\r\n\r\nexport class VRootCategory extends View<CProductCategory> {\r\n\r\n    /**\r\n     * \r\n     * @param item 装配了子节点和孙节点的productCategory\r\n     * @param parent \r\n     */\r\n    private renderRootCategory = (item: any, parent: any) => {\r\n        let { name, children, productCategory } = item;\r\n        let { src, labelColor } = rootCategroyResFromId(productCategory);\r\n        return <div className=\"bg-white mb-3\" key={name}>\r\n            <Ax className=\"py-2 px-3 cursor-pointer\"\r\n                href={'/product-catalog/' + productCategory}>\r\n                <img className=\"mr-4 cat-root-img\" src={src} alt={name} />\r\n                <b>{name}</b>\r\n            </Ax>\r\n            <div className=\"cat-root-sub\">\r\n                <div className=\"row no-gutters\">\r\n                    {children.map((v: any) => this.renderSubCategory(v, item, labelColor))}\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n\r\n    private renderSubCategory = (item: any, parent: any, labelColor: string) => {\r\n        let { productCategory, name, children, total } = item;\r\n        /*\r\n        return <div key={name}\r\n            className=\"col-6 col-md-4 col-lg-3 cursor-pointer\">\r\n            <A onClick={() => this.categoryClick(item, parent, labelColor)} href={\"/product-catalog/\"+ productCategory.id}>\r\n                <div className=\"py-2 px-2 cat-sub\">\r\n                    <div className=\"text-truncate\">\r\n                        <span className=\"ml-1 align-middle\">\r\n                            <FA name=\"chevron-circle-right\" className={labelColor} />\r\n                            &nbsp; {name}\r\n                        </span>\r\n                    </div>\r\n                    {renderThirdCategory(children, total)}\r\n                </div>\r\n                {renderThirdCategory(children, total)}\r\n            </div>\r\n        </div>;\r\n        */\r\n        //onClick={() => this.controller.onClickCategory(item)}\r\n        // let productCategoryId = item.productCategory.id;\r\n        return <Ax key={name}\r\n            className=\"col-6 col-md-4 col-lg-3 cursor-pointer\"\r\n            href={'/product-catalog/' + productCategory}>\r\n            <div className=\"py-2 px-2 cat-sub\">\r\n                <div className=\"text-truncate\">\r\n                    <span className=\"ml-1 align-middle\">\r\n                        <FA name=\"chevron-circle-right\" className={labelColor} />\r\n                        &nbsp; {name}\r\n                    </span>\r\n                </div>\r\n                {renderThirdCategory(children, total)}\r\n            </div>\r\n        </Ax>;\r\n    }\r\n\r\n    render(param: any): JSX.Element {\r\n        return <this.content />\r\n    }\r\n\r\n    private content = () => {\r\n        let { rootCategories } = this.controller;\r\n        return <>{rootCategories.map((v: any) => this.renderRootCategory(v, undefined))}</>;\r\n        // return <>{categories2.map(v => <div key={v.productCategory.id}>{tv(v, e => this.renderRoot(e))}</div>)}</>;\r\n    };\r\n\r\n    private renderRoot(root: any) {\r\n        let { productCategory } = root;\r\n        let { id } = productCategory;\r\n        console.log(id);\r\n        return <div key={id}>{id}</div>\r\n    }\r\n}\r\n\r\n\r\nfunction renderThirdCategory(children: any[], total: number) {\r\n    return <div className=\"py-1 px-1 text-muted small text-truncate\">\r\n        {\r\n            children.length === 0 ?\r\n                <>{total > 1000 ? '>1000' : total} 个产品</>\r\n                :\r\n                children.map(v => v.name).join(' / ')\r\n        }\r\n    </div>\r\n}\r\n","import * as React from 'react';\r\nimport { View } from 'tonva-react';\r\nimport { CProductCategory, ProductCategory } from './CProductCategory';\r\n\r\nexport class VRootCategorySideBar extends View<CProductCategory>{\r\n\r\n\t//private categoryClick = async (categoryWapper: Product-catalog/*, parent: any, labelColor: string*/) => {\r\n\t//    await this.controller.openMainPage(categoryWapper/*, parent, labelColor*/);\r\n\t//}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t<h2>产品大类</h2>\r\n\t\t\t<nav id=\"sidebar\">\r\n\t\t\t\t<ul className=\"list-unstyled components\">\r\n\t\t\t\t\t{this.controller.rootCategories.map(v => {\r\n\t\t\t\t\t\tlet { productCategory, name, children } = v;\r\n\t\t\t\t\t\tlet pcId = productCategory; //(productCategory as any).id;\r\n\t\t\t\t\t\tlet menuId = \"Submenu\" + pcId;\r\n\t\t\t\t\t\treturn <li className=\"active\" key={pcId}>\r\n\t\t\t\t\t\t\t<a href={'#' + menuId} data-toggle=\"collapse\" aria-expanded=\"false\">{name}</a>\r\n\t\t\t\t\t\t\t{this.renderChildren(children, menuId)}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t</>;\r\n\t}\r\n\r\n\tprivate renderChildren(children: ProductCategory[], menuId: string) {\r\n\t\treturn <ul className=\"collapse list-unstyled\" id={menuId}>\r\n\t\t\t{children.map(e => {\r\n\t\t\t\tlet { productCategory } = e;\r\n\t\t\t\tlet pcId = (productCategory as any).id || productCategory;\r\n\t\t\t\treturn <li key={pcId}>\r\n\t\t\t\t\t{this.controller.renderCategoryItem(e)}\r\n\t\t\t\t</li>;\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t}\r\n}\r\n\r\nexport class VRootCategorySideBarToSelect extends View<CProductCategory>{\r\n\r\n\trender() {\r\n\t\treturn <nav id=\"sidebar\" className=\"dropdown\">\r\n\t\t\t<select name=\"\" id=\"\" className=\"form-control\" onChange={(v: any) => {\r\n\t\t\t\tlet url = \"/product-catalog/\" + v.target.value;\r\n        \t\tthis.navigate(url);\r\n\t\t\t}}>\r\n\t\t\t\t{this.controller.rootCategories.map(v => {\r\n\t\t\t\t\t\tlet { productCategory, name, children } = v;\r\n\t\t\t\t\t\tlet pcId = productCategory; //(productCategory as any).id;\r\n\t\t\t\t\tlet menuId = \"Submenu\" + pcId;\r\n\t\t\t\t\t\treturn <>\r\n\t\t\t\t\t\t\t<option key={pcId} value={pcId} disabled>{ name }</option>\r\n\t\t\t\t\t\t\t<>{this.renderChildren(children, menuId)}</>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t})}\r\n\t\t\t\t\r\n\t\t\t</select>\r\n\t\t</nav>\r\n\t}\r\n\r\n\tprivate renderChildren(children: ProductCategory[], menuId: string) {\r\n\t\treturn <>\r\n\t\t\t{children.map(e => {\r\n\t\t\t\tlet { productCategory,name } = e;\r\n\t\t\t\tlet pcId = (productCategory as any).id || productCategory;\r\n\t\t\t\treturn <option key={pcId} value={pcId}>{ name }</option>\r\n\t\t\t})}\r\n\t\t</>\r\n\t}\r\n}","import React from 'react';\r\nimport { Ax, tv, View } from 'tonva-react';\r\nimport { CProductCategory } from \"./CProductCategory\";\r\n\r\nexport class VBrandCrumbs extends View<CProductCategory> {\r\n\r\n    render(allAncestors: any) {\r\n        let { cApp } = this.controller;\r\n        return <div className=\"breadcrumbs mb-4\" style={{ lineHeight: 1.5 }}>\r\n            <a href=\"/\">首页</a>\r\n            <Ax href=\"/product-catalog\">产品</Ax>\r\n            {allAncestors.map((parent: any) => {\r\n                return tv(parent, (e: any) => {\r\n                    let { id, productcategorylanguage } = e;\r\n                    let jL = productcategorylanguage.find((jl: any) => cApp.currentLanguage.id === jl.language.id);\r\n                    return jL !== undefined ? <Ax href={\"/product-catalog/\" + id}>{jL.name}</Ax> : null;\r\n                })\r\n            })}\r\n        </div>\r\n    }\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage } from 'tonva-react';\r\nimport { CProductCategory, ProductCategory } from './CProductCategory';\r\nimport { xs } from '../tools/browser';\r\nimport { rootCategroyResFromId } from 'global';\r\nimport { VBrandCrumbs } from './VBreadCrumbs';\r\nimport classNames from 'classnames';\r\n\r\nexport class VCategoryPage extends VPage<CProductCategory> {\r\n\r\n    private getBgClass = (productCategoryId: number, allAncestors: any[]) => {\r\n        let bgClass = \"\";\r\n        if (allAncestors !== undefined && allAncestors.length > 0) {\r\n            let res = rootCategroyResFromId(allAncestors[0].id);\r\n            if (res) bgClass = res.bgClass;\r\n        } else {\r\n            let res = rootCategroyResFromId(productCategoryId);\r\n            if (res) bgClass = res.bgClass;\r\n        }\r\n        return bgClass;\r\n    }\r\n\r\n    private renderCategory(/*item: any, parent: any, labelColor: string*/) {\r\n        let { instruction, current } = this.controller;\r\n        let main, breadcrumbs;\r\n        if (current) {\r\n            let { productCategory: productCategoryId, name, children, parent, allAncestors } = current;\r\n            breadcrumbs = this.renderVm(VBrandCrumbs, allAncestors);\r\n\r\n            let instructionUi;\r\n            if (instruction) {\r\n                // let instr: JQuery<Element> = $(instruction);\r\n                // $(\"a[href*='jkchemical.com']\", instr).addClass('d-none');\r\n                // instructionUi = <p dangerouslySetInnerHTML={{ __html: (instr[0].innerHTML || \"\") }} />;\r\n                instructionUi = <section dangerouslySetInnerHTML={{ __html: (instruction) }} />;\r\n            }\r\n\r\n            let bgClass = this.getBgClass(productCategoryId, allAncestors);\r\n            main = <div className=\"col-lg-9 product-introduct\">\r\n                <h1>{name}</h1>\r\n                {instructionUi}\r\n                <div className=\"row\">\r\n                    {children.map(v => this.renderSubcategory(v, bgClass))}\r\n                </div>\r\n            </div>\r\n        }\r\n        return <section className=\"container mt-lg-2\">\r\n            {breadcrumbs}\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-3 product-side d-none d-lg-block\">\r\n                    {this.controller.renderRootSideBar()}\r\n                </div>\r\n                {main}\r\n            </div>\r\n        </section>\r\n    }\r\n\r\n    private renderSubcategory(item: ProductCategory/*item: any, parent: any*/, titleBgClass: string) {\r\n        let { productCategory: id, name, children, total } = item;\r\n        let hasChildren = children && children.length > 0;\r\n\r\n        let vItem = hasChildren === true ?\r\n            <>\r\n                {\r\n                    children.slice(0, 3).map(v => {\r\n                        return this.controller.renderCategoryItem(v, 'mr-3');\r\n                    })\r\n                }\r\n                <p className=\"text-right\">\r\n                    {\r\n                        this.controller.renderCategoryItem(item, undefined,\r\n                            <>更多 <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i></>)\r\n                    }\r\n                </p>\r\n            </>\r\n            :\r\n            <div>{this.controller.renderCategoryItem(item, undefined, <>{total > 1000 ? '>1000' : total}个产品</>)}</div>;\r\n\r\n        return <div key={name} className=\"col-lg-4 each-product\">\r\n            {this.controller.renderCategoryItem(item, undefined, <h2 className={classNames(titleBgClass,'text-truncate')}>{name}</h2>)}\r\n            <div className=\"background-grey\">{vItem}</div>\r\n        </div>\r\n    }\r\n\r\n    header() { if (!xs) return ''; return this.controller.cApp.cHome.renderSearchHeader(); }\r\n    right() { if (!xs) return null; return this.controller.cApp.renderCartLabel(); }\r\n    content() { return this.renderCategory(); }\r\n}","export default __webpack_public_path__ + \"static/media/J&K triangle combinations 5.36ee8d07.png\";","export default __webpack_public_path__ + \"static/media/J&K triangle combinations4.25a76820.png\";","/* eslint-disable */\r\nimport { Ax, VPage } from 'tonva-react';\r\nimport { CProductCategory } from './CProductCategory';\r\nimport { xs } from '../tools/browser';\r\nimport { rootCategroyResFromId } from 'global';\r\nimport classNames from 'classnames';\r\nimport combinations5 from 'images/J&K triangle combinations 5.png';\r\nimport combinations4 from 'images/J&K triangle combinations4.png';\r\nimport { VBrandCrumbs } from './VBreadCrumbs';\r\n\r\nexport class VCategoryHome extends VPage<CProductCategory> {\r\n\r\n    private renderCategory() {\r\n        let main = <div className=\"row\">\r\n            {\r\n                this.controller.rootCategories.map((v, index: number) => {\r\n                    let { name, children, productCategory } = v;\r\n                    let pcId = typeof productCategory === 'object' ? (productCategory as any).id : productCategory;\r\n                    let { viceSrc, bgClass } = rootCategroyResFromId(pcId);\r\n                    return <div className=\"col-lg-4 single-product\" key={pcId}>\r\n                        <Ax key={pcId} href={'/product-catalog/' + pcId} className={classNames('d-block text-truncate')}>\r\n                            <img src={viceSrc} className=\"w-100\" />\r\n                            <h2 className={bgClass}>{name}</h2>\r\n                        </Ax>\r\n                        <div className=\"background-grey\">\r\n                            <ul>\r\n                                {\r\n                                    children.slice(0, 5).map(i => {\r\n                                        return this.controller.renderCategoryItem(i, 'mr-3 mb-2');\r\n                                    })\r\n                                }\r\n                                <p className=\"text-right\">\r\n                                    {\r\n                                        this.controller.renderCategoryItem(v, undefined,\r\n                                            <>更多 <i className=\"fa fa-angle-right\" aria-hidden=\"true\"></i></>)\r\n                                    }\r\n                                </p>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                })\r\n            }\r\n        </div>;\r\n\r\n        return <div>\r\n            <div className=\"main-product\">\r\n                <img src={combinations5} className=\"img1\" />\r\n                <img src={combinations4} className=\"img2\" />\r\n                <img src={combinations4} className=\"img3\" />\r\n            </div>\r\n            <div className=\"mt-lg-2 px-3\">{this.renderVm(VBrandCrumbs, [])}</div>\r\n            <div className=\"container main-product-introduce w-100 px-3 pt-0\">\r\n                <p className=\"text-left\">向全球化学、生命科学、材料领域客户提供60万种高质量化学品和仪器耗材产品，以及定制生产服务，满足从研发到生产的需求。</p>\r\n            </div>\r\n            <section className=\"container mt-lg-2 main-product\">\r\n                {main}\r\n            </section>\r\n\r\n        </div>\r\n    }\r\n\r\n    header() { if (!xs) return ''; return this.controller.cApp.cHome.renderSearchHeader(); }\r\n    right() { if (!xs) return null; return this.controller.cApp.renderCartLabel(); }\r\n    content() { return this.renderCategory(); }\r\n}","import { CUqBase } from 'tapp';\r\nimport { VRootCategory } from './VRootCategory';\r\nimport { VRootCategorySideBar, VRootCategorySideBarToSelect } from './VRootCategorySideBar';\r\nimport { GLOABLE } from \"global\";\r\nimport './cat.css';\r\nimport { Ax, BoxId, Tuid, VPage } from 'tonva-react';\r\nimport { VCategoryPage } from './VCategoryPage';\r\nimport classNames from 'classnames';\r\nimport { VCategoryHome } from './VCategoryHome';\r\n\r\nexport interface ProductCategory {\r\n    productCategory: number; //ID ProductCategory,\r\n    parent: number; // ID,\r\n    name: string; // char(200),\r\n    total: number; // int\r\n    children?: ProductCategory[];\r\n    allAncestors?: any[];\r\n};\r\n\r\nexport class CProductCategory extends CUqBase {\r\n    rootCategories: ProductCategory[];\r\n    current: ProductCategory;\t\t// 当前显示的目录\r\n    instruction: string; \t\t\t// 当前目录的介绍\r\n    //@observable categories2: any[] = [];\r\n\r\n    async internalStart(param: any) {\r\n        await this.loadRoot();\r\n        /*\r\n        this.uqs.product.ProductCategory.stopCache();\r\n\r\n        let { currentSalesRegion, currentLanguage } = this.cApp;\r\n        let results = await this.uqs.product.GetRootCategory.query({\r\n            salesRegion: currentSalesRegion.id,\r\n            language: currentLanguage.id\r\n        });\r\n        let { first, secend, third } = results;\r\n        this.rootCategories = (first as any[]).map(v => {\r\n            return this.buildCategories(v, secend, third);\r\n        });\r\n        */\r\n        /*\r\n        let result2 = await this.getRootCategoriesQuery.query({ salesRegion: currentSalesRegion.id, language: currentLanguage.id });\r\n        if (result2)\r\n            this.categories2 = result2.ret;\r\n        */\r\n    }\r\n\r\n    async loadRoot() {\r\n        if (this.rootCategories) return;\r\n        let { uqs, cApp } = this;\r\n        let { product } = uqs;\r\n        let { ProductCategory, GetRootCategory } = product;\r\n        ProductCategory.stopCache();\r\n\r\n        let { currentSalesRegion, currentLanguage } = cApp;\r\n        let results = await GetRootCategory.query({\r\n            salesRegion: currentSalesRegion, // 去掉.id, 如果传入的是obj参数，会自动取id\r\n            language: currentLanguage, // 去掉.id, 如果传入的是obj参数，会自动取id\r\n        });\r\n        let { first, secend, third } = results;\r\n        (first as any[]).forEach(v => {\r\n            v.productCategory = v.productCategory.id;\r\n            v.children = this.buildChildren(v.productCategory, secend, third);\r\n        });\r\n        this.rootCategories = first;\r\n    }\r\n\r\n    /**\r\n     * 加载指定目录节点，结果赋值给this.current;\r\n     * @param id 目录节点id\r\n     */\r\n    async load(id: number) {\r\n        if (this.current && this.current.productCategory === id) return;\r\n\r\n        let { uqs, currentLanguage } = this.cApp;\r\n        let { product } = uqs;\r\n        let { ProductCategory } = product;\r\n        let promises = [\r\n            ProductCategory.load(id),\r\n            this.getCategoryChildren(id),\r\n            this.getCategoryInstruction(id)\r\n        ];\r\n        let [pcTuid, { first, secend }, instruction] = await Promise.all(promises);\r\n        this.instruction = instruction;\r\n        this.current = {\r\n            productCategory: id,\r\n            parent: undefined,\r\n            allAncestors: [],\r\n            name: undefined,\r\n            total: undefined,\r\n            children: [],\r\n        }\r\n\r\n        let getAllAncestors = async function (productCategoryId: number) {\r\n            let allAncestors: any[] = [];\r\n            while (true) {\r\n                let ProductCategoryLoad: any = await ProductCategory.load(productCategoryId);\r\n                if (!ProductCategoryLoad) break;\r\n                let { parent } = ProductCategoryLoad;\r\n                if (!parent) break;\r\n                productCategoryId = parent.id;\r\n                allAncestors.unshift(parent);\r\n            }\r\n            return allAncestors;\r\n        }\r\n\r\n        if (pcTuid) {\r\n            let { parent, productcategorylanguage } = pcTuid;\r\n            if (parent !== undefined) {\r\n                this.current.parent = parent;\r\n                this.current.allAncestors = await getAllAncestors(id);\r\n            }\r\n            let pcCurrentLanguage = productcategorylanguage.find((v: any) => Tuid.equ(currentLanguage, v.language));\r\n            this.current.name = pcCurrentLanguage && pcCurrentLanguage.name;\r\n            this.current.children = this.buildChildren(id, first, secend);\r\n        }\r\n    }\r\n\r\n    renderRootList = () => {\r\n        return this.renderView(VRootCategory);\r\n    };\r\n\r\n    /**\r\n     * 渲染PC版SideBar中的目录树\r\n     */\r\n    renderRootSideBar = () => {\r\n        return this.renderView(VRootCategorySideBar, this.rootCategories);\r\n    }\r\n\r\n    /**\r\n     * 渲染mobile版SideBar中的目录树\r\n     */\r\n    renderRootSideBarByMob = () => {\r\n        return this.renderView(VRootCategorySideBarToSelect, this.rootCategories);\r\n    }\r\n\r\n    /**\r\n     * 获取目录节点相关的介绍贴文\r\n     * @param categoryId 目录节点id\r\n     */\r\n    private getCategoryInstruction = async (categoryId: number) => {\r\n        try {\r\n            let res = await window.fetch(GLOABLE.CONTENTSITE + \"/partial/categoryinstruction/\" + categoryId);\r\n            if (res.ok) {\r\n                let content = await res.text();\r\n                return content;\r\n            }\r\n        } catch (error) {\r\n\r\n        }\r\n    };\r\n\r\n    /**\r\n     * 根据目录节点的id获取该节点的子节点列表\r\n     * @param categoryId 目录节点的id\r\n     */\r\n    private async getCategoryChildren(categoryId: number) {\r\n        let { currentSalesRegion, currentLanguage } = this.cApp;\r\n        return await this.uqs.product.GetChildrenCategory.query({\r\n            parent: categoryId,\r\n            salesRegion: currentSalesRegion.id,\r\n            language: currentLanguage.id\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 为productCategory装配子节点/孙节点 \r\n     * @param id \r\n     * @param subCategories \r\n     * @param secendSubCategory \r\n     */\r\n    private buildChildren(id: number, subCategories: ProductCategory[], secendSubCategory: ProductCategory[]): ProductCategory[] {\r\n        let children: ProductCategory[] = [];\r\n        for (let sub of subCategories) {\r\n            let { productCategory: subProductCategory, parent: subParent, name: subName, total: subTotal } = sub;\r\n            if (!Tuid.equ(id, subParent)) continue;\r\n            children.push({\r\n                productCategory: (subProductCategory as any).id,\r\n                parent: (subParent as any).id,\r\n                name: subName,\r\n                total: subTotal,\r\n                children: secendSubCategory\r\n                    .filter(v => Tuid.equ(v.parent, subProductCategory))\r\n                    .map(v => {\r\n                        return {\r\n                            productCategory: (v.productCategory as any).id,\r\n                            parent: (v.parent as any).id,\r\n                            name: v.name,\r\n                            total: v.total\r\n                        }\r\n                    })\r\n            });\r\n        }\r\n        return children;\r\n    }\r\n\r\n    onClickCategory = async (pc: ProductCategory) => {\r\n\r\n        /*\r\n        this.current = pc;\r\n        let { productCategory, name } = pc;\r\n        let { id: productCategoryId } = ((productCategory as any) as BoxId);\r\n        let promises = [this.getCategoryChildren(productCategoryId), this.getCategoryInstruction(productCategoryId)];\r\n        let [results, instruction] = await Promise.all(promises);\r\n        if (results.first.length !== 0) {\r\n            this.openVPage(VCategory);\r\n        } else {\r\n            let { cProduct } = this.cApp;\r\n            await cProduct.searchByCategory({ productCategory: productCategoryId, name });\r\n        }\r\n        */\r\n        let { productCategory } = pc;\r\n        let { id: productCategoryId } = ((productCategory as any) as BoxId);\r\n        await this.showCategoryPage(productCategoryId);\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {number} categoryId 目录节点的id \r\n     */\r\n    async showCategoryPage(categoryId: number) {\r\n        if (!this.rootCategories) await this.loadRoot();  // 供SideBar使用\r\n\r\n        await this.load(categoryId);\r\n        let VP: new (c: CProductCategory) => VPage<any>;\r\n        VP = VCategoryPage;\r\n        /*\r\n        // 如果想要web跟app方式的产品分类页面不一样，可以这么处理\r\n        if (this.isWebNav) {\r\n            VP = VCategoryPage;\r\n        }\r\n        else {\r\n            VP = VCategory;\r\n        }\r\n        */\r\n        if (this.current) {\r\n            let { children } = this.current;\r\n            if (children && children.length > 0) {\r\n                this.openVPage(VP);\r\n            }\r\n            else {\r\n                await this.cApp.cProduct.searchByCategory({\r\n                    productCategory: categoryId,\r\n                    name: this.current.name\r\n                });\r\n            }\r\n        } else {\r\n            this.openVPage(VP);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {ProductCategory} pc 目录节点\r\n     * @param className 所使用的class \r\n     * @param content \r\n     */\r\n    renderCategoryItem(pc: ProductCategory, className?: string, content?: any): JSX.Element {\r\n        if (!pc) debugger;\r\n        let { productCategory, name } = pc;\r\n        let pcId = typeof productCategory === 'object' ? (productCategory as any).id : productCategory;\r\n        return <Ax key={pcId}\r\n            href={'/product-catalog/' + pcId}\r\n            className={classNames(className, 'd-block text-truncate')}\r\n        >{content || name}</Ax>\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    async showCategoryHome() {\r\n        if (!this.rootCategories) await this.loadRoot();  // 供SideBar使用\r\n        let VP: new (c: CProductCategory) => VPage<any>;\r\n        VP = VCategoryHome;\r\n        this.openVPage(VP);\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/pig.7f1e923b.png\";","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage, Image, LMR, Muted, FA, Media } from 'tonva-react';\r\nimport { CMember } from './CMember';\r\nimport pig from '../images/pig.png';\r\nimport { observer } from 'mobx-react';\r\n\r\nconst stylePig: React.CSSProperties = {\r\n    width: '100%',\r\n    height: '20rem',\r\n    backgroundImage: `url(${pig})`,\r\n    backgroundSize: 'contain',\r\n    backgroundColor: 'rgba(255,255,255,0.1)',\r\n    opacity: 0.09,\r\n    position: 'absolute',\r\n}\r\n\r\nexport class VMember extends VPage<CMember> {\r\n    private recommendationCodeRef = React.createRef<HTMLInputElement>();\r\n\r\n    async open(param: any) {\r\n\r\n    }\r\n\r\n    render(member: any): JSX.Element {\r\n\r\n        return <this.page />;\r\n    }\r\n\r\n    private submitRecommendationCode() {\r\n        let code = this.recommendationCodeRef.current.value;\r\n        if (code) {\r\n            let { setReferrer: submit } = this.controller;\r\n            submit(code);\r\n        }\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { cApp, member } = this.controller;\r\n        if (member === undefined)\r\n            return <></>;\r\n        let { currentUser } = cApp;\r\n        let { recommendationCode, point } = member;\r\n        if (!point) point = 0;\r\n\r\n        let im = <Image className=\"mr-3 w-3c h-3c\" src={currentUser.icon} />;\r\n        let inviteCode = <div className=\"small\">邀请码: {recommendationCode}</div>;\r\n\r\n        let divPoints = <div className=\"my-3 text-center bg-white h-25\" style={{ position: 'relative' }}>\r\n            <div className=\"w-100 bg-white h-20c\" style={{ position: 'absolute' }} />\r\n            <div className=\"d-flex align-items-center justify-content-center\" style={stylePig} />\r\n            <div className=\"w-100 d-flex align-items-center justify-content-center h-20c\" style={{ position: 'absolute' }}>\r\n                <div className=\"muted mr-3 small\">积分: </div>\r\n                <div className=\"text-danger\" style={{ fontSize: '2rem' }}>{point}</div>\r\n            </div>\r\n        </div>\r\n\r\n        let pointTitle = <p className=\"h4\">我的积分</p>\r\n        let pointDetail = <p className=\"small align-self-end\">查看详情 <FA name=\"angle-right\"></FA></p>\r\n        let pointThisWeek = <><p className=\"h5 mb-0\">0</p><Muted>本周</Muted></>\r\n        let pointAll = <><p className=\"h5 mb-0\">{point}</p><Muted>累计</Muted></>\r\n\r\n        let fansTitle = <p>我的粉丝</p>\r\n        let fansDetail = <p className=\"small align-self-end\">查看详情 <FA name=\"angle-right\"></FA></p>;\r\n        let detail = <div className=\"shadow bg-white rounded p-3 mb-1\">\r\n            <LMR left={fansTitle} right={fansDetail}></LMR>\r\n            <LMR className=\"pb-2\">\r\n                <p className=\"h4 mb-0\">0</p>\r\n                <Muted>今日</Muted>\r\n            </LMR>\r\n            <LMR left={pointThisWeek} right={pointAll} />\r\n            <LMR>\r\n                <input type=\"text\" className=\"form-control\" ref={this.recommendationCodeRef} />\r\n                <button type=\"button\" className=\"btn btn-primary\" onClick={() => this.submitRecommendationCode()}>输入邀请码</button>\r\n            </LMR>\r\n        </div>;\r\n\r\n        return <div>\r\n            <LMR className=\"bg-white p-3 mb-1 align-items-center\"\r\n                left={im} right={inviteCode}>\r\n                <b>{currentUser.name}</b>\r\n            </LMR>\r\n            {divPoints}\r\n            {/*detail*/}\r\n        </div>\r\n    })\r\n}\r\n/*\r\n<div className=\"shadow bg-white rounded p-3 mb-1\">\r\n<LMR left={pointTitle} right={pointDetail}></LMR>\r\n<LMR className=\"pb-2\">\r\n    <p className=\"h4 mb-0\">0</p>\r\n    <Muted>今日</Muted>\r\n</LMR>\r\n<LMR left={pointThisWeek} right={pointAll} />\r\n</div>\r\n*/","/* eslint-disable */\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { observer } from 'mobx-react';\r\nimport { FA, Loading, nav, BoxId } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VMember } from './VMember';\r\n\r\nexport class CMember extends CUqBase {\r\n    member: any;\r\n    private referrer: BoxId;\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            member: observable.ref\r\n        });\r\n    }\r\n\r\n    protected async internalStart(param: any) {\r\n\t\tif (!this.isLogined) return;\r\n\t\tlet { member } = this.uqs;\r\n\t\tlet { id: currentUserId } = this.user;\r\n\t\tlet promises: PromiseLike<any>[] = [\r\n\t\t\tmember.MemberAction.submit({}),\r\n\t\t\tmember.MemberRecommender.table({ referrer: currentUserId }),\r\n\t\t\tmember.MemberRecommender.table({ member: currentUserId }),\r\n\t\t];\r\n\t\tlet [{ code, point }, fans, referrer] = await Promise.all(promises);\r\n\t\tthis.referrer = referrer;\r\n\t\tthis.member = { recommendationCode: code, point, fans, referrer };\r\n    }\r\n\r\n    private loginCallback = async () => {\r\n        nav.pop();\r\n        await this.internalStart(undefined);\r\n    }\r\n\r\n    private render = observer(() => {\r\n        if (this.isLogined) {\r\n            return this.member === undefined ? <Loading /> : this.renderView(VMember);\r\n        } else {\r\n            return <div\r\n                className=\"d-flex h-100 flex-column align-items-center justify-content-center\">\r\n                <div className=\"flex-fill\" />\r\n                <button className=\"btn btn-success w-20c\"\r\n                    onClick={() => nav.showLogin(this.loginCallback, true)}>\r\n                    <FA name=\"sign-out\" size=\"lg\" /> 请登录\r\n                </button>\r\n                <div className=\"flex-fill\" />\r\n                <div className=\"flex-fill\" />\r\n            </div>;\r\n        }\r\n    })\r\n\r\n    tab = () => {\r\n        this.start();\r\n        return <this.render />;\r\n    }\r\n\r\n    setReferrer(code: string) {\r\n        if (code) {\r\n            // 写入map，方法是add，用这个方法可能会写入多次，多以在写入之前要检查有没有，有的话，就不能再调用这个方法了\r\n            // 这个逻辑我认为应该是在服务端，写入的时候要给双方积分，给多少积分的逻辑，也应该在后端，从邀请码到拥有此邀请码\r\n            // 的会员id之间的转换，逻辑也应该在后台，这个后端的逻辑写在ACTION中？\r\n            if (!this.referrer) {\r\n                let { id: currentUserId } = this.user;\r\n            }\r\n        }\r\n    }\r\n}","import * as React from 'react';\r\nimport { Page } from 'tonva-react';\r\n\r\ninterface Phone {\r\n\tnumber: string;\r\n\tcaption: string;\r\n}\r\n\r\ninterface Section {\r\n\tcaption: string;\r\n\taddress: string;\r\n\tpost?: string;\r\n\tphones: Phone[];\r\n\tfax?: string;\r\n\temail: string[];\r\n}\r\n\r\nconst sections: Section[] = [\r\n\t{\r\n\t\tcaption: 'J&K Scientific Ltd.',\r\n\t\taddress: '北京市朝阳区北辰西路69号峻峰华亭A座5层',\r\n\t\tpost: '100029',\r\n\t\tphones: [\r\n\t\t\t{ number: '4006667788', caption: '400-666-7788' },\r\n\t\t\t{ number: '+861082848833', caption: '+86 10 8284 8833' },\r\n\t\t],\r\n\t\tfax: '+86 10 8284 9933',\r\n\t\temail: ['jkinfo@jkchemical.com', 'jkinfo@jk-sci.com'],\r\n\t},\r\n\t{\r\n\t\tcaption: 'J&K Scientific Ltd. (上海)',\r\n\t\taddress: '上海市浦东区世纪大道1777号东方希望大厦10楼H座',\r\n\t\tpost: '200122',\r\n\t\tphones: [{ number: '+862161638833', caption: '+86 21 6163 8833' }],\r\n\t\tfax: '+86 21 6163 8800',\r\n\t\temail: ['jksh@jkchemical.com', 'jksh@jk-sci.com']\r\n\t},\r\n\t{\r\n\t\tcaption: 'J&K Scientific Ltd. (广东)',\r\n\t\taddress: '广东省广州市天河区珠江新城华夏路28号富力盈信大厦3108室',\r\n\t\tpost: '510623',\r\n\t\tphones: [{ number: '+862038889733', caption: '+86 20 3888 9733' }],\r\n\t\tfax: '+86 20 3888 8285',\r\n\t\temail: ['jkgz@jkchemical.com', 'jkgz@jk-sci.com'],\r\n\t},\r\n\t{\r\n\t\tcaption: 'J&K Scientific Ltd. (成都)',\r\n\t\taddress: '四川省成都市高新区科园南路1号1栋8楼803号',\r\n\t\tpost: '610041',\r\n\t\tphones: [{ number: '+8602883231067', caption: '+86 028 83231067' }],\r\n\t\temail: ['jkinfo@jkchemical.com'],\r\n\t},\r\n\t{\r\n\t\tcaption: 'J&K Scientific Ltd. (香港)',\r\n\t\taddress: 'FLAT/RM 1901, 19/F, Lee Garden One,33 Hysan Avenue, Causeway Bay, Hong Kong',\r\n\t\tphones: [{ number: '+85228105022', caption: '+852 2810 5022' }],\r\n\t\tfax: '+852 2810 5033',\r\n\t\temail: ['jkhk@jkchemical.com'],\r\n\t}\r\n];\r\n\r\nconst Row: React.FunctionComponent<any> = ({ label, content }) => {\r\n\tif (!content) return null;\r\n\treturn <div className=\"my-1\">\r\n\t\t<span className=\"small text-muted\">{label}</span>：{content}\r\n\t</div>;\r\n}\r\n\r\nexport class ContactUs extends React.Component {\r\n\trender() {\r\n\t\tlet right = null;\r\n\t\treturn <Page header=\"联系信息\" right={right}>\r\n\t\t\t<div className='bg-white pb-5'>\r\n\t\t\t\t<div className=\"h4 pb-3 border-bottom border-muted text-center p-3 mb-3\">\r\n\t\t\t\t\t<span className=\"text-primary mr-\">联系我们</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"px-3 my-3\">\r\n\t\t\t\t\t<small className=\"text-muted\">全国客服热线：</small><a href=\"tel:4006667788\">400-666-7788</a>\r\n\t\t\t\t\t<span className=\"ml-4\"><small className=\"text-muted\">QQ：</small>4006667788</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sections.map((v, index) => {\r\n\t\t\t\t\tlet { caption, address, post, phones, fax, email } = v;\r\n\t\t\t\t\treturn <div key={index} className=\"my-4\">\r\n\t\t\t\t\t\t<div className=\"h5 text-info border-bottom p-3\">{caption}</div>\r\n\t\t\t\t\t\t<div className=\"px-3\">\r\n\t\t\t\t\t\t\t<Row label=\"地址\" content={address} />\r\n\t\t\t\t\t\t\t<Row label=\"邮编\" content={post} />\r\n\t\t\t\t\t\t\t<Row label=\"电话\" content={\r\n\t\t\t\t\t\t\t\tphones && phones.map((phone, phoneIndex) => {\r\n\t\t\t\t\t\t\t\t\tlet { number, caption } = phone;\r\n\t\t\t\t\t\t\t\t\treturn <a key={phoneIndex} className=\"mr-5\" href={'tel:' + number}>{caption}</a>\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Row label=\"传真\" content={fax} />\r\n\t\t\t\t\t\t\t<Row label=\"电子邮件\" content={\r\n\t\t\t\t\t\t\t\temail && email.map((e, eIndex) => {\r\n\t\t\t\t\t\t\t\t\treturn <a key={eIndex} className=\"mr-5\" href={'mailto:' + e}>{e}</a>\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t})}\r\n\t\t\t</div>\r\n\t\t</Page >;\r\n\t}\r\n}\r\n/*\r\n<div className=\"my-5\">\r\n<p className=\"h4 text-info\">J&amp;K Scientific Ltd.</p>\r\n<div className=\"small\">\r\n\t<p>地址：北京市朝阳区北辰西路69号峻峰华亭A座5层</p>\r\n\t<p>邮编：100029</p>\r\n\t<p>电话：<a href=\"tel:4006667788\">400-666-7788</a> / <a href=\"tel:861082848833\">+86 10 8284 8833</a></p>\r\n\t<p>传真：+86 10 8284 9933</p>\r\n\t<p>电子邮件：<a href=\"mailto:jkinfo@jkchemical.com\">jkinfo@jkchemical.com</a><a className=\"ml-3\" href=\"mailto:jkinfo@jk-sci.com\">jkinfo@jk-sci.com</a></p>\r\n</div>\r\n</div>\r\n<div className=\"my-5\">\r\n<p className=\"h4 text-info\">J&amp;K Scientific Ltd.(上海)</p>\r\n<div className=\"small\">\r\n\t<p>地址：上海市浦东区世纪大道1777号东方希望大厦10楼H座</p>\r\n\t<p>邮编：200122</p>\r\n\t<p>电话：<a href=\"tel:+862161638833\">+86 21 6163 8833</a></p>\r\n\t<p>传真：+86 21 6163 8800</p>\r\n\t<p>电子邮件：<a href=\"mailto:jksh@jkchemical.com\">jksh@jkchemical.com</a><a className=\"ml-3\" href=\"mailto:jksh@jk-sci.com\">jksh@jk-sci.com</a></p>\r\n</div>\r\n</div>\r\n<div className=\"my-5\">\r\n<p className=\"h4 text-info\">J&amp;K Scientific Ltd.(广东)</p>\r\n<div className=\"small\">\r\n\t<p>地址：广东省广州市天河区珠江新城华夏路28号富力盈信大厦3108室</p>\r\n\t<p>邮编：510623</p>\r\n\t<p>电话：<a href=\"tel:+862038889733\">+86 20 3888 9733</a></p>\r\n\t<p>传真：+86 20 3888 8285</p>\r\n\t<p>电子邮件：<a href=\"mailto:jkgz@jkchemical.com\">jkgz@jkchemical.com</a><a className=\"ml-3\" href=\"mailto:jkgz@jk-sci.com\">jkgz@jk-sci.com</a></p>\r\n</div>\r\n</div>\r\n<div className=\"my-5\">\r\n<p className=\"h4 text-info\">J&amp;K Scientific Ltd.(成都)</p>\r\n<div className=\"small\">\r\n\t<p>地址：四川省成都市高新区科园南路1号1栋8楼803号</p>\r\n\t<p>邮编：610041</p>\r\n\t<p>电话：<a href=\"tel:+8602883231067\">+86 028 83231067</a></p>\r\n\t<p>电子邮件：<a href=\"mailto:jkinfo@jkchemical.com\">jkinfo@jkchemical.com</a></p>\r\n</div>\r\n</div>\r\n<div className=\"my-5\">\r\n<p className=\"h4 text-info\">J&amp;K Scientific Ltd.(香港)</p>\r\n<div className=\"small\">\r\n\t<p>地址：FLAT/RM 1901, 19/F, Lee Garden One,33 Hysan Avenue, Causeway Bay, Hong Kong</p>\r\n\t<p>电话：<a href=\"tel:+85228105022\">+852 2810 5022</a></p>\r\n\t<p>传真：+852 2810 5033</p>\r\n\t<p>电子邮件：<a href=\"mailto:jkhk@jkchemical.com\">jkhk@jkchemical.com</a></p>\r\n</div>\r\n</div>\r\n*/","import * as React from 'react';\r\nimport { Page, VPage, nav } from 'tonva-react';\r\nimport logo from '../images/logo_mobi.png';\r\nimport { appConfig } from 'tapp';\r\nimport { CMe } from './CMe';\r\n\r\nexport class AboutThisApp extends VPage<CMe>{\r\n\r\n    private version: any;\r\n    async open() {\r\n        this.version = await nav.checkVersion();\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = () => {\r\n        let right = null;\r\n        let links: any = <div className=\"sep-product-select\" style={{ width: \"80%\", margin: \" 0 auto 0 auto\" }} />\r\n        return <Page header=\"关于百灵威购物APP\" right={right}>\r\n            <div className='bg-white p-3'>\r\n                <div className=\"h3 flex-fill text-center\">\r\n                    <img src={logo} alt=\"logo\" />\r\n                </div>\r\n                <div className=\"h3 flex-fill text-center\">\r\n                    <span className=\"text-primary mr-3\">百灵威购物APP</span>\r\n                </div>\r\n                <div className=\"h3 flex-fill text-center small\">\r\n                    <span className=\"text-muted mr-3\">V{appConfig.version}</span>\r\n                </div>\r\n\r\n                {\r\n                    (this.version && this.version !== appConfig.version) && <>\r\n                        {links}\r\n                        < div className=\"d-flex my-3 cursor-pointer\" style={{ width: \"70%\", margin: \" 0 auto 0 auto\" }} onClick={() => nav.resetAll()} >\r\n                            <div className=\"text-danger\">发现新版本 V{this.version}，升级APP</div>\r\n                        </div>\r\n                        {links}\r\n                    </>\r\n                }\r\n            </div>\r\n        </Page>;\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/welcome.1bd46823.png\";","import { View, IconText, Ax } from 'tonva-react';\r\nimport { CMe } from './CMe';\r\n\r\nexport const MeLib = [\r\n    {\r\n        type: '帐户设置',\r\n        image: '/images/setting.svg',\r\n        belongs: [\r\n            {\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"key\" text=\"修改密码\" />,\r\n                href:'/password',\r\n            },{\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"key\" text=\"账户信息\" />,\r\n                href:'/meInfo',\r\n            },{\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"address-book-o\" text=\"地址管理\" />,\r\n                href:'/contact',\r\n            },\r\n        ]\r\n    },{\r\n        type: '会员管理',\r\n        image: '/images/number-01.svg',\r\n        belongs: [\r\n            {\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"heart\" text=\"商品收藏\" />,\r\n                href:'/favorites',\r\n            },{\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"shopping-bag\" text=\"积分商城\" />,\r\n                href:'/pointshop',\r\n            },{\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"connectdevelop\" text=\"卡券管理\" />,\r\n                href:'/couponManage',\r\n            },\r\n        ]\r\n    },{\r\n        type: '订单管理',\r\n        image: '/images/order-01.svg',\r\n        belongs: [\r\n            {\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"file-text\" text=\"订单记录\" />,\r\n                href:'/myOrders',\r\n            },{\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"address-book-o\" text=\"发票管理\" />,\r\n                href:'/invoice',\r\n            },\r\n        ]\r\n    },\r\n]\r\n\r\n\r\nexport class VMeSideBar extends View<CMe> {\r\n\r\n    render(): JSX.Element {\r\n        let { pathname } = document.location;\r\n        return <div className=\"my-5 px-2 border rounded\">\r\n            {MeLib.map((v: any,index:number) => {\r\n                return <div key={index}>\r\n                    <div className=\"text-center border-bottom py-2 font-weight-bolder\">{v.type}</div>\r\n                    <ul className=\"px-0 text-center \">\r\n                        {v.belongs.map((o: any,index:number) => {\r\n                            return <li style={{ background:o.href === pathname ? '#f5f5f5':''}}\r\n                                className='list-inline rounded'\r\n                                key={index}><Ax href={o.href}>{o.component}</Ax></li>\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            })}\r\n        </div>\r\n\t}\r\n}\r\n","import * as React from 'react';\r\nimport { nav, Image, VPage, Ax, Prop, IconText, FA, PropGrid, LMR } from 'tonva-react';\r\nimport { ContactUs } from './contactUs';\r\nimport { observer } from 'mobx-react';\r\n//import { EditMeInfo } from './EditMeInfo';\r\nimport { CMe } from './CMe';\r\nimport { AboutThisApp } from './aboutThisApp';\r\nimport { appConfig } from 'tapp';\r\n//import { observable } from 'mobx';\r\nimport { browser, xs } from 'tools/browser';\r\nimport welcome from 'images/welcome.png';\r\nimport { MeLib } from './VMeSideBar';\r\n\r\nexport class VMe extends VPage<CMe> {\r\n\t/*\r\n    async open(param?: any) {\r\n\t\tthis.open\r\n\t}\r\n\t*/\r\n\t//private tips = observable.box('a');\r\n\r\n    private exit() {\r\n        nav.showLogout();\r\n    }\r\n\r\n    private contactUs = () => nav.push(<ContactUs />);\r\n    private privacy = () => {\r\n        this.controller.openPrivacy();\r\n    }\r\n    private aboutThisApp = () => {\r\n        // nav.push(<AboutThisApp />);\r\n        this.openVPage(AboutThisApp)\r\n    }\r\n\r\n    private changePassword = async () => {\r\n        await nav.changePassword();\r\n    }\r\n\r\n    private openContactList = async () => {\r\n        this.controller.openContactList();\r\n    }\r\n\r\n    private openInvoice = async () => {\r\n        this.controller.openInvoice();\r\n    }\r\n\r\n    private openMyPoint = async () => {\r\n        this.controller.openMyPoint();\r\n    }\r\n\r\n    private openCouponManage = async () => {\r\n        this.controller.openCouponManage();\r\n    }\r\n\r\n    private openFavorites = async () => {\r\n        this.controller.openFavorites();\r\n    }\r\n\r\n    private meInfo = observer(() => {\r\n        let { user } = nav;\r\n        if (user === undefined) {\r\n\t\t\treturn null;\r\n\t\t}\r\n        let { id, name, nick, icon } = user;\r\n        return <LMR className=\"px-3 py-2 cursor-pointer w-100 bg-primary text-white\"\r\n            left={<Image className=\"w-3c h-3c mr-3\" src={icon} />}\r\n            right={<FA className=\"align-self-end\" name=\"angle-right\" />}\r\n            onClick={this.controller.openMeInfo\r\n\t\t\t\t /*() => {this.openVPage(EditMeInfo);}*/}>\r\n            <div>\r\n                <div>{userSpan(name, nick)}</div>\r\n                <div className=\"small\"><span className=\"text-light\">ID:</span> {id > 10000 ? id : String(id + 10000).substr(1)}</div>\r\n            </div>\r\n        </LMR>;\r\n    });\r\n\r\n    private orderStates = () => {\r\n        let { openMyOrders } = this.controller;\r\n        let oss = [\r\n            { caption: '待审核', state: 'processing', icon: 'desktop' },\r\n            { caption: '待发货', state: 'completed', icon: 'truck' },\r\n            { caption: '所有订单', state: 'all', icon: 'file-text-o' },\r\n        ];\r\n\r\n        return <div className=\"d-flex justify-content-around w-100 my-3\">\r\n            {\r\n                oss.map(((os, index) => {\r\n                    let { caption, state, icon } = os;\r\n                    return <div key={index} className=\"flex-fill d-flex flex-column align-items-center cursor-pointer\"\r\n                        onClick={() => openMyOrders(state)}>\r\n                        <FA name={icon} className=\"text-info fa-2x\" />\r\n                        <small>{caption}</small>\r\n                    </div>;\r\n                }))\r\n            }\r\n        </div>\r\n    };\r\n\r\n    render() {\r\n        return <this.page />;\r\n    }\r\n    content() {\r\n        return <this.page />;\r\n    }\r\n    header() {\r\n        if (xs || browser.versions.iPad) return <this.meInfo />;\r\n        return '';\r\n\t}\r\n\tfooter():JSX.Element {return null;}\r\n\r\n    private page = observer(() => {\r\n        const { user } = nav;\r\n        let aboutRows: Prop[] = [\r\n            '',\r\n            {\r\n                type: 'component',\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"phone\" text=\"联系我们\" />,\r\n                onClick: this.contactUs\r\n            },\r\n            {\r\n                type: 'component',\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"smile-o\" text=\"关于百灵威\" />,\r\n                onClick: () => this.controller.openAbout()\r\n            },\r\n            {\r\n                type: 'component',\r\n                component: <IconText iconClass=\"text-info mr-2\" icon=\"smile-o\" text=\"隐私政策\" />,\r\n                onClick: this.privacy\r\n            },\r\n            {\r\n                type: 'component',\r\n                component: <div className=\"w-100 d-flex justify-content-between\" onClick={this.aboutThisApp}>\r\n                    <IconText iconClass=\"text-info mr-2\" icon=\"smile-o\" text=\"关于本APP\" />\r\n                    <div className=\"py-2 small\">V{appConfig.version}</div>\r\n                </div>,\r\n            },\r\n            ''\r\n        ];\r\n\r\n        let rows: Prop[];\r\n        if (user === undefined) {\r\n            let { showLogin } = this.controller;\r\n            rows = aboutRows;\r\n            rows.push(\r\n                {\r\n                    type: 'component',\r\n                    component: <button className=\"btn btn-success w-100 my-2\" onClick={() => showLogin()}>\r\n                        <FA name=\"sign-out\" size=\"lg\" /> 请登录\r\n                    </button>\r\n                },\r\n            );\r\n        }\r\n        else {\r\n            let logOutRows: Prop[] = [\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    bk: '',\r\n                    component: <div className=\"text-center flex-fill mb-3\"><button className=\"btn btn-danger w-75\" onClick={this.exit}>\r\n                        <FA name=\"sign-out\" size=\"lg\" /> 退出登录\r\n\t\t\t\t\t\t</button>\r\n                    </div>\r\n                },\r\n            ];\r\n\r\n            rows = [\r\n\t\t\t\t/*\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <this.meInfo />\r\n\t\t\t\t},\r\n\t\t\t\t*/\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <>{this.orderStates()}</>,\r\n                },\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"address-book-o\" text=\"地址管理\" />,\r\n                    onClick: this.openContactList\r\n                },\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"address-book-o\" text=\"发票管理\" />,\r\n                    onClick: this.openInvoice\r\n                },\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"address-book-o\" text=\"积分管理\" />,\r\n                    onClick: this.openMyPoint\r\n                },\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"connectdevelop\" text=\"卡券管理\" />,\r\n                    onClick: this.openCouponManage\r\n                },\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"heart\" text=\"商品收藏\" />,\r\n                    onClick: this.openFavorites\r\n                },\r\n                '',\r\n                {\r\n                    type: 'component',\r\n                    component: <IconText iconClass=\"text-info mr-2\" icon=\"key\" text=\"修改密码\" />,\r\n                    onClick: this.changePassword\r\n                },\r\n            ]\r\n            rows.push(...aboutRows, ...logOutRows);\r\n        }\r\n\r\n        if (xs || browser.versions.iPad) return <>\r\n            <PropGrid rows={rows} values={{}} />\r\n        </>;\r\n        else {\r\n            if (user === undefined) {\r\n                return <div className=\"d-flex justify-content-center\" style={{ height: 340 }}>\r\n                    <div className=\"my-auto p-5 rounded\">\r\n                        <div className=\"d-flex\">\r\n                            <img src={welcome} className=\"m-auto\" alt=\"\" />\r\n                        </div>\r\n                        您正在以访客身份查看本站内容,请\r\n                            <Ax href=\"/login\" className=\"alert-link font-weight-bolder\"> 登录 </Ax>\r\n                        或者\r\n                            <Ax href=\"/register\" className=\"alert-link font-weight-bolder\"> 注册会员</Ax>\r\n                    </div>\r\n                </div>\r\n            };\r\n            let meLib = MeLib;\r\n            return <div className=\"container mt-lg-2 py-3\">\r\n                <div className=\"row\">\r\n                    {\r\n                        meLib.map((v: any,index:number) => {\r\n                            return <div className=\"col-lg-4 single-product\" key={index}>\r\n                                <div className=\"border text-center pt-5\">\r\n                                    <a href=\"#\"><img src={v.image} className=\"w-50\" /></a>\r\n                                </div>\r\n                                <h2 className=\"mint-bg\">{v.type}</h2>\r\n                                <div className=\"background-grey h-auto\">\r\n                                    <ul className=\"pl-3\">\r\n                                        {\r\n                                            v.belongs.map((o: any,index:number) => {\r\n                                                return <li className=\"list-inline\" key={index}><Ax href={o.href}>{o.component}</Ax></li>\r\n                                            })\r\n                                        }\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        \r\n        }\r\n\t\t// <button onClick={()=>this.tips.set('ddddd')}>push</button>\r\n\t\t// {autoHideTips(this.tips, <div className=\"text-danger\">{this.tips.get()}</div>)}\r\n    })\r\n}\r\n\r\nexport function userSpan(name: string, nick: string): JSX.Element {\r\n    return nick ?\r\n        <><b>{nick} &nbsp; <small className=\"muted\">{name}</small></b></>\r\n        : <b>{name}</b>\r\n}\r\n","import * as React from 'react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport {\r\n    userApi, ItemSchema, StringSchema, ImageSchema, UiTextItem, UiImageItem, nav, Page,\r\n    Edit, UiSchema,\r\n    VPage, UiRadio, IdSchema, UiIdItem, Context, BoxId, tv\r\n} from 'tonva-react';\r\nimport { CMe } from './CMe';\r\nimport {\r\n    faxValidation, emailValidation, mobileValidation, telephoneValidation,\r\n    addressDetailValidation, zipCodeValidation,\r\n    organizationNameValidation, departmentNameValidation,\r\n    salutationValidation, nameValidation\r\n} from '../tools/inputValidations';\r\nimport { xs } from 'tools/browser';\r\n\r\nexport class EditMeInfo extends VPage<CMe>{\r\n\r\n    async open(param: any) {\r\n        let { cApp } = this.controller;\r\n\t\t// 程序运行到这里，必须有currentWebUser，否则一定是其它某个地方出错了。\r\n        //if(!cApp.currentUser?.mobile) await cApp.currentUser.setUser(nav.user);\r\n        let { telephone, mobile, email, fax, zipCode, address, addressString } = cApp.currentUser;\r\n        this.webUserContactData = {\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            address: address,\r\n            addressString: addressString,\r\n            zipCode: zipCode,\r\n        };\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private schema: ItemSchema[] = [\r\n        { name: 'nick', type: 'string' } as StringSchema,\r\n        { name: 'icon', type: 'image' } as ImageSchema,\r\n    ];\r\n    private uiSchema: UiSchema = {\r\n        items: {\r\n            nick: { widget: 'text', label: '别名', placeholder: '好的别名更方便记忆' } as UiTextItem,\r\n            icon: { widget: 'image', label: '头像' } as UiImageItem,\r\n        }\r\n    }\r\n    private data: any;\r\n\r\n    private webUserData: any;\r\n\r\n    private webUserContactData: any;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        makeObservable<EditMeInfo, \"data\" | \"webUserData\" | \"webUserContactData\">(this, {\r\n            data: observable,\r\n            webUserData: observable,\r\n            webUserContactData: observable\r\n        });\r\n\r\n        let { nick, icon } = nav.user;\r\n        this.data = {\r\n            nick: nick,\r\n            icon: icon,\r\n        };\r\n\r\n        let { cApp } = this.controller;\r\n        let { firstName, gender, salutation, organizationName, departmentName, telephone\r\n            , mobile, email, fax, zipCode, address, addressString } = cApp.currentUser;\r\n        this.webUserData = {\r\n            firstName: firstName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            organizationName: organizationName,\r\n            departmentName: departmentName,\r\n        };\r\n\r\n        this.webUserContactData = {\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            address: address,\r\n            addressString: addressString,\r\n            zipCode: zipCode,\r\n        }\r\n    }\r\n\r\n    private onItemChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        await userApi.userSetProp(name, newValue);\r\n        this.data[name] = newValue;\r\n        (nav.user as any)[name] = newValue;\r\n        nav.saveLocalUser();\r\n    }\r\n\r\n    private onWebUserChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.webUserData[name] = newValue;\r\n        await this.controller.changeWebUser(this.webUserData);\r\n    }\r\n\r\n    private onWebUserContactChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.webUserContactData[name] = newValue;\r\n        await this.controller.changeWebUserContact(this.webUserContactData);\r\n    }\r\n\r\n    private page = () => {\r\n        let { schema, uiSchema, data, onItemChanged, webUserData, onWebUserChanged, webUserContactData, onWebUserContactChanged, controller } = this;\r\n        let header: any, title = '个人信息';\r\n        if (xs) header = title;\r\n        return <Page header={header}>\r\n             <div className=\"row mx-0 mb-lg-5 mb-sm-5\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 px-0 mx-auto\" style={{ maxWidth: !xs ? 800 : 'none' }}>\r\n                    {!xs && <div className=\"text-left mt-5 px-3\"><h1>{title}</h1></div>}\r\n                    <Edit schema={schema} uiSchema={uiSchema}\r\n                        data={data}\r\n                        onItemChanged={onItemChanged} />\r\n                    <Edit schema={webUserSchema} uiSchema={webUserUiSchema}\r\n                        data={webUserData}\r\n                        onItemChanged={onWebUserChanged} />\r\n                    <Edit schema={webUserContactSchema} uiSchema={webUserContactUiSchema(controller.pickAddress)}\r\n                        data={webUserContactData}\r\n                        onItemChanged={onWebUserContactChanged} />\r\n                </div>\r\n            </div>\r\n        </Page>;\r\n    }\r\n}\r\n\r\nexport const webUserSchema: ItemSchema[] = [\r\n    { name: 'firstName', type: 'string', required: true } as StringSchema,\r\n    { name: 'gender', type: 'string' } as StringSchema,\r\n    { name: 'salutation', type: 'string' } as StringSchema,\r\n    { name: 'organizationName', type: 'string', required: true } as StringSchema,\r\n    { name: 'departmentName', type: 'string' } as StringSchema,\r\n];\r\n\r\nexport const webUserUiSchema: UiSchema = {\r\n    items: {\r\n        firstName: {\r\n            widget: 'text', label: '真实姓名',\r\n            placeholder: '真实姓名',\r\n            rules: nameValidation\r\n        } as UiTextItem,\r\n        gender: { widget: 'radio', label: '性别', list: [{ value: '1', title: '男' }, { value: '0', title: '女' }] } as UiRadio,\r\n        salutation: { widget: 'text', label: '称谓', rules: salutationValidation } as UiTextItem,\r\n        organizationName: { widget: 'text', label: '单位名称', placeholder: '单位名称', rules: organizationNameValidation } as UiTextItem,\r\n        departmentName: { widget: 'text', label: '部门名称', placeholder: '部门名称', rules: departmentNameValidation } as UiTextItem,\r\n    }\r\n}\r\n\r\n// 个人联系方式信息\r\nexport const webUserContactSchema: ItemSchema[] = [\r\n    { name: 'telephone', type: 'string' } as StringSchema,\r\n    { name: 'mobile', type: 'string', required: true } as StringSchema,\r\n    { name: 'email', type: 'string' } as StringSchema,\r\n    { name: 'fax', type: 'string', required: false } as StringSchema,\r\n    { name: 'address', type: 'id', required: false } as IdSchema,\r\n    { name: 'addressString', type: 'string', required: false } as StringSchema,\r\n    { name: 'zipCode', type: 'string', required: false } as StringSchema,\r\n];\r\n\r\nexport function webUserContactUiSchema(pickAddress: any) {\r\n    return {\r\n        items: {\r\n            telephone: { widget: 'text', label: '固定电话', placeholder: '固定电话', rules: telephoneValidation } as UiTextItem,\r\n            mobile: { widget: 'text', label: '手机号', placeholder: '手机号', rules: mobileValidation } as UiTextItem,\r\n            email: { widget: 'text', label: 'Email', rules: emailValidation, placeholder: 'Email' } as UiTextItem,\r\n            fax: { widget: 'text', label: '传真', placeholder: '传真', rules: faxValidation } as UiTextItem,\r\n            address: {\r\n                widget: 'id', label: '所在地区', placeholder: '所在地区',\r\n                pickId: async (context: Context, name: string, value: number) => await pickAddress(context, name, value),\r\n                Templet: (address: BoxId) => {\r\n                    if (!address) return <small className=\"text-muted\">(无)</small>;\r\n                    return tv(address, (addressValue) => {\r\n                        let { country, province, city, county } = addressValue;\r\n                        /* 下面这种在使用tv之前的一堆判断应该是tv或者什么的有bug, 应该让Henry改改 */\r\n                        return <>\r\n                            {country !== undefined && country.id !== undefined && tv(country, v => <>{v.chineseName}</>)}\r\n                            {province !== undefined && province.id !== undefined && tv(province, (v) => <>{v.chineseName}</>)}\r\n                            {city !== undefined && city.id !== undefined && tv(city, (v) => <>{v.chineseName}</>)}\r\n                            {county !== undefined && county.id !== undefined && tv(county, (v) => <>{v.chineseName}</>)}\r\n                        </>;\r\n                    }, () => {\r\n                        return <small className=\"text-muted\">请选择地区</small>;\r\n                    })\r\n                }\r\n            } as UiIdItem,\r\n            addressString: { widget: 'text', label: '详细地址', placeholder: '详细地址', rules: addressDetailValidation } as UiTextItem,\r\n            zipCode: { widget: 'text', label: '邮编', placeholder: '邮编', rules: zipCodeValidation } as UiTextItem,\r\n        }\r\n    }\r\n}","import * as React from 'react';\r\nimport _ from 'lodash';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { ItemSchema, Page, VPage, FA, Form, Context, autoHideTips } from 'tonva-react';\r\nimport { CMe } from './CMe';\r\nimport { webUserSchema, webUserUiSchema, webUserContactSchema, webUserContactUiSchema } from './EditMeInfo';\r\nimport { observer } from 'mobx-react';\r\n\r\ninterface Options {\r\n    onlyRequired: boolean;\r\n    caption: string;\r\n    note: string;\r\n    actionButton: {\r\n        value: string;\r\n        action: any;\r\n    }\r\n}\r\n\r\nexport class EditMeInfoFirstOrder extends VPage<CMe>{\r\n    private options: Options;\r\n    //@observable tips: JSX.Element;\r\n    private tips = observable.box();\r\n    private form: Form;\r\n\r\n    async open(param: any) {\r\n        // this.onlyRequired = param;\r\n        this.options = param;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private webUserData: any;\r\n    private webUserContactData: any;\r\n\r\n    private ref = (f: Form) => {\r\n        if (this.form === f) {\r\n            debugger;\r\n        }\r\n        this.form = f;\r\n    }\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        makeObservable<EditMeInfoFirstOrder, \"webUserData\" | \"webUserContactData\">(this, {\r\n            webUserData: observable,\r\n            webUserContactData: observable\r\n        });\r\n\r\n        let { cApp } = this.controller;\r\n        let { currentUser } = cApp;\r\n        if (!currentUser) return;\r\n        let { firstName, gender, salutation, organizationName, departmentName, telephone\r\n            , mobile, email, fax, address, addressString, zipCode } = currentUser;\r\n        this.webUserData = {\r\n            firstName: firstName,\r\n            gender: gender,\r\n            salutation: salutation,\r\n            organizationName: organizationName,\r\n            departmentName: departmentName\r\n        };\r\n\r\n        this.webUserContactData = {\r\n            telephone: telephone,\r\n            mobile: mobile,\r\n            email: email,\r\n            fax: fax,\r\n            address: address,\r\n            addressString: addressString,\r\n            zipCode: zipCode\r\n        }\r\n    }\r\n\r\n    private onFormButtonClick = async (name: string, context: Context) => {\r\n        let { data } = context.form;\r\n        _.merge(this.webUserData, data);\r\n        _.merge(this.webUserContactData, data);\r\n        await this.controller.changeWebUser(this.webUserData);\r\n        await this.controller.changeWebUserContact(this.webUserContactData);\r\n\r\n        let { currentUser } = this.controller.cApp;\r\n        if (currentUser && currentUser.allowOrdering) {\r\n            this.closePage();\r\n            let webUserContacts = await currentUser.getContacts();\r\n            if (webUserContacts === undefined || webUserContacts.length === 0) {\r\n                await currentUser.addContactFromAccount();\r\n            }\r\n            await this.options.actionButton.action();\r\n        } else {\r\n            this.tips.set(<>以上带有 <span className='text-danger'>*</span> 的内容均须填写！</>);\r\n            //setTimeout(() => {\r\n            //    this.tips = undefined;\r\n            //}, GLOABLE.TIPDISPLAYTIME);\r\n        }\r\n    }\r\n\r\n    private onCompleted = async () => {\r\n        if (!this.form) return;\r\n        await this.form.buttonClick(\"submit\");\r\n    }\r\n\r\n    private page = observer(() => {\r\n        /*\r\n        let tipsUI = <></>;\r\n        if (this.tips) {\r\n            tipsUI = <div className=\"alert alert-primary\" role=\"alert\">\r\n                <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                {this.tips}\r\n            </div>\r\n        }\r\n        */\r\n\r\n        let { onlyRequired, caption, note, actionButton } = this.options;\r\n        let schemaFilter = (itemSchema: ItemSchema): boolean => {\r\n            return (onlyRequired === true && itemSchema.required === true)\r\n                || onlyRequired === undefined\r\n                || onlyRequired === false\r\n        }\r\n\r\n        let schemaArr = [];\r\n        for (let item of webUserSchema) {\r\n            if (item.required === true) schemaArr.push(item);\r\n        }\r\n        for (let item of webUserContactSchema) {\r\n            if (item.required === true) schemaArr.push(item);\r\n        }\r\n        if (onlyRequired !== true) {\r\n            for (let item of webUserSchema) {\r\n                if (item.required !== true) schemaArr.push(item);\r\n            }\r\n            for (let item of webUserContactSchema) {\r\n                if (item.required !== true) schemaArr.push(item);\r\n            }\r\n        }\r\n        let uiSchema = {};\r\n        _.merge(uiSchema, webUserUiSchema, webUserContactUiSchema(this.controller.pickAddress));\r\n\r\n        let data = _.merge(this.webUserData, this.webUserContactData);\r\n        let { value } = actionButton;\r\n        return <Page header={caption}>\r\n            <div className=\"alert alert-light my-3 py-4\" role=\"alert\">\r\n                <FA name=\"smile-o\" className=\"text-warning mr-4 my-1\" size=\"2x\" />\r\n                {note}\r\n            </div>\r\n\r\n            <div className=\"App-container container text-left\">\r\n                <Form ref={this.ref} className=\"my-3\"\r\n                    schema={schemaArr.filter(schemaFilter)}\r\n                    uiSchema={uiSchema}\r\n                    formData={data}\r\n                    onButtonClick={this.onFormButtonClick}\r\n                    fieldLabelSize={3} />\r\n            </div>\r\n\r\n            <div className=\"p-3 bg-white\">\r\n                {/*tipsUI*/}\r\n                {autoHideTips(this.tips, <div className=\"alert alert-primary\" role=\"alert\">\r\n                    <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                    {this.tips}\r\n                </div>)}\r\n                <button type=\"button\" className=\"btn btn-primary w-100\" onClick={() => this.onCompleted()}>{value}</button>\r\n            </div>\r\n        </Page >;\r\n    });\r\n}\r\n/*\r\n<Edit schema={schemaArr.filter(schemaFilter)} uiSchema={uiSchema}\r\n    data={data}\r\n    onItemChanged={this.onMergeDataChanged} />\r\n\r\n    private onMergeDataChanged = async (itemSchema: ItemSchema, newValue: any, preValue: any) => {\r\n        let { name } = itemSchema;\r\n        this.webUserContactData[name] = newValue;\r\n        this.webUserData[name] = newValue;\r\n        await this.controller.changeWebUser(this.webUserData);\r\n        await this.controller.changeWebUserContact(this.webUserContactData);\r\n    }\r\n*/","import * as React from 'react';\r\nimport { VPage, Page, BoxId, List, Scroller } from 'tonva-react';\r\nimport { CFavorites } from './CFavorites';\r\nimport { xs } from '../tools/browser';\r\nimport { pageHTitle } from 'tools/pageHeaderTitle';\r\n\r\nexport class VFavorites extends VPage<CFavorites> {\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n    private onScrollBottom = async (scroller: Scroller) => {\r\n        scroller.scrollToBottom();\r\n        let { productsFavorites } = this.controller;\r\n        productsFavorites.more();\r\n    }\r\n    private onProductClick = async (product: BoxId) => {\r\n        let { cProduct } = this.controller.cApp;\r\n        await cProduct.showProductDetail(product.id);\r\n    }\r\n\r\n    private renderProduct = (p: any) => {\r\n        // console.log(p);\r\n        let callb = () => {\r\n            let index = this.controller.productsFavorites.items.findIndex((v: any) => v.id === p.id);\r\n            if(index !== -1) this.controller.productsFavorites.items.splice(index, 1);\r\n        }\r\n        if(!this.controller.cApp.cProduct.showFavorites)\r\n            this.controller.cApp.cProduct.showFavorites = true;\r\n        return this.controller.cApp.cProduct.renderProduct(p,null,callb);\r\n    }\r\n\r\n    private page = (param: any) => {\r\n        let { productsFavorites } = this.controller;\r\n        //let { cProduct } = cApp;\r\n        let header: any;\r\n        if (xs) {\r\n            header = \"商品收藏\";\r\n        };\r\n        let none = <div className=\"p-3 text-warning mt-4 d-flex justify-content-center\">[无收藏]</div>\r\n        return <Page header={header} onScrollBottom={this.onScrollBottom}>\r\n            <div className=\"row mx-0 bg-light my-1\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 product-introduct px-0\">\r\n                    {pageHTitle(<div className=\"text-left pl-3\">商品收藏</div>)}\r\n                    <List before={''} none={none} items={productsFavorites} item={{ render: this.renderProduct/* , onClick: this.onProductClick */ ,className:\"pb-3 pt-2\"}} />\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    }\r\n}\r\n","import { CUqBase } from 'tapp';\r\nimport { VFavorites } from './VFavorites';\r\nimport { QueryPager } from 'tonva-react';\r\nimport { Product } from '../store';\r\n//import { VProductFavorateLabel } from './VProductFavorateLabel';\r\n\r\nexport class CFavorites extends CUqBase {\r\n    productsFavorites: QueryPager<any>;\r\n    myFavorites: any[] = [];\r\n    protected async internalStart() {\r\n        await this.searchByFavorites();\r\n        this.openVPage(VFavorites);\r\n    }\r\n\r\n    private productConverter = (item: any, queryResults?: { [name: string]: any[] }): Product => {\r\n        let product = this.cApp.getProduct(item.id);\r\n        product.props = item;\r\n        // product.props.imageUrl = item.chemical.toString();\r\n        product.loadListItem();\r\n        return product;\r\n    }\r\n\r\n    async searchByFavorites() {\r\n        let { currentUser, currentSalesRegion } = this.cApp;\r\n        this.productsFavorites = new QueryPager<any>(this.uqs.webuser.getMyFavirates, 10, 10);\r\n        this.productsFavorites.setItemConverter(this.productConverter);\r\n        await this.productsFavorites.first({ webUser: currentUser, salesRegion: currentSalesRegion });\r\n    }\r\n\r\n    /*\r\n    async getMyFavorites() {\r\n        let { currentUser, currentSalesRegion } = this.cApp;\r\n        let myFavorites = await this.uqs.webuser.myFavorites.query({ webUser: currentUser, salesRegion: currentSalesRegion });\r\n        return myFavorites.ret;\r\n    }\r\n    */\r\n\t/*\r\n    renderFavoritesLabel = (productid: number) => {\r\n        let { currentUser } = this.cApp;\r\n        // let myFavorite = await this.uqs.webuser.myFavorites.obj({ webUser: currentUser, product: productid });\r\n        return this.renderView(VProductFavorateLabel, productid)\r\n\t}\r\n\t*/\r\n}\r\n","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { View, nav, LMR, Image, FA, A, Ax } from 'tonva-react';\r\nimport { CMe } from './CMe';\r\nimport { observer } from 'mobx-react';\r\n\r\n\r\n/**\r\n * 在jk-web中使用的登录状态组件\r\n */\r\nexport class VLoginState extends View<CMe> {\r\n\r\n    render() {\r\n        return <this.page />;\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { user } = this.controller;\r\n        let v: any;\r\n        if (!user) {\r\n            v = <>\r\n                <a className=\"\" href=\"/register\" target=\"_self\">注册</a> /&nbsp;\r\n                <a className=\"\" href=\"/login\" target=\"_self\">登录</a>\r\n            </>;\r\n        }\r\n        else {\r\n            let { name, nick, icon } = user;\r\n            let Avatar: JSX.Element = !icon ? <FA name=\"user\" size=\"lg\" className=\"text-primary\" /> : <Image className=\"w-1c h-1c\" style={{ width: \"1rem\", height: \"1rem\" }} src={icon} />\r\n            v = <>\r\n                <a className=\"mr-2 nav-item dropdown\" href=\"/me\" target=\"_self\">\r\n                    {Avatar}\r\n                    <span className=\"dropdown-menu dropdown-menu-right px-2 m-0\">{nick || name}</span>\r\n                </a>\r\n                <a className=\"mr-2\" href=\"/logout\" target=\"_self\">退出</a>\r\n            </>;\r\n        }\r\n        return <>\r\n            {v}\r\n        </>;\r\n    })\r\n}\r\n\r\nexport function userSpan(name: string, nick: string): JSX.Element {\r\n    return nick ?\r\n        <><b>{nick} &nbsp; <small className=\"muted\">{name}</small></b></>\r\n        : <b>{name}</b>\r\n}\r\n","import * as React from 'react';\r\nimport { VPage } from 'tonva-react';\r\n//import marked from 'marked';\r\nimport logo from '../images/logo_mobi.png';\r\nimport { CMe } from './CMe';\r\n\r\nconst imgStyle: React.CSSProperties = {\r\n\twidth: '100%',\r\n\theight: 'auto',\r\n};\r\n\r\nconst content = <>\r\n\t<p>　　百灵威科技有限公司是一家致力于研发和生产化学及相关产品，集敏捷制造、全球营销和现代物流为一体的高科技企业。\r\n\t百灵威在中国内地、香港，欧洲及北美等多个国家和地区设有物流中心，实行专业化、个性化的一站式服务，\r\n为全球超过200,000 名科技和工业领域的客户提供产品资源及配套技术服务。</p>\r\n\t<img src=\"/images/aboutus/HebBirdsEye.jpg\" alt=\"BirdsEye\" className=\"pb-3\" style={imgStyle} />\r\n\t<p>　　百灵威现代化的研发制造基地拥有一支富有创造天赋的专业团队，新技术、新产品层出不穷，J&K®、Amethyst®、J&K Scientific® 产品\r\n\t已多达30,000 种以上，并呈几何级数增长。作为国际化的资源平台公司，百灵威致力于促进全球产业链的合作，不断推进集约式发展，\r\n\t集成资源600,000 余种，包括高纯有机试剂、无机试剂、生化试剂、分析试剂、标准品、金属有机催化剂、医药中间体、超精细材料、\r\n\t以及实验室仪器、耗材等众多产品。百灵威的柔性生产线能够快速提供小批量、多品种的原料，满足实验、中试以至规模化生产的需要。\r\n</p>\r\n\t<img src=\"/images/aboutus/aboutUs1.jpg\" alt=\"aboutus1\" className=\"pb-3\" style={imgStyle} />\r\n\t<p>　　百灵威秉承“诚实守信、开拓创新、合作共赢、实现卓越”的价值观，致力于与化学、生物医药、精细化工、食品工业、现代农业、电子、日化、\r\n\t石化、纺织、生命科学、环境保护、疾病控制、新能源、新材料、航空航天等领域的客户建立互信、长久的合作关系，\r\n\t为实现“促进科技与工业发展，造福人类”的使命而不懈努力！\r\n</p>\r\n</>;\r\n\r\nexport class VAbout extends VPage<CMe> {\r\n\tcontent() {\r\n\t\treturn <div className='bg-white p-3'>\r\n\t\t\t<img className=\"h-3c position-absolute\" src={logo} alt=\"百灵威\" />\r\n\t\t\t<div className=\"h3 flex-fill text-center\">\r\n\t\t\t\t<span className=\"text-primary mr-3\">百灵威集团</span>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"mt-5\">{content}</div>\r\n\t\t</div>;\r\n\t}\r\n}\r\n\r\n//dangerouslySetInnerHTML={{ __html: marked(content) }} />","/* eslint-disable */\r\nimport _ from 'lodash';\r\nimport { Context, nav, VPage, User } from 'tonva-react';\r\nimport { CUqBase } from 'tapp';\r\nimport { VMe } from './VMe';\r\nimport { CSelectShippingContact } from '../customer/CSelectContact';\r\nimport { EditMeInfoFirstOrder } from './EditMeInfoFirstOrder';\r\nimport { CInvoiceInfo } from '../customer/CInvoiceInfo';\r\nimport { CAddress } from '../customer/CAddress';\r\nimport { CFavorites } from '../customer/CFavorites';\r\nimport { CPointProduct } from 'pointMarket/CPointProduct';\r\nimport { VLoginState } from './VLoginState';\r\nimport { VAbout } from './about';\r\nimport { EditMeInfo } from './EditMeInfo';\r\nimport { VMeSideBar } from './VMeSideBar';\r\n\r\nexport class CMe extends CUqBase {\r\n    //    cApp: CApp;\r\n    protected async internalStart(param?: any) {\r\n        this.openVPage(VMe);\r\n    }\r\n\r\n    async changeWebUser(webUser: any) {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        await currentUser.changeWebUser(webUser);\r\n    }\r\n\r\n    async changeWebUserContact(webUserContact: any) {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        await currentUser.changeWebUserContact(webUserContact);\r\n    }\r\n\r\n    tab = () => this.renderView(VMe);\r\n    tabPage: VMe = new VMe(this);\r\n\r\n    openMyOrders = async (state: string) => {\r\n        let { cOrder } = this.cApp;\r\n        await cOrder.openMyOrders(state);\r\n    }\r\n\r\n    openMeInfo = async () => {\r\n        await this.cApp.assureLogin();\r\n        this.openVPage(EditMeInfo);\r\n    }\r\n\r\n    openContactList = async () => {\r\n        let contactList = this.newC(CSelectShippingContact); // new CSelectShippingContact(this.cApp, undefined, false);\r\n        await contactList.start(false);\r\n    }\r\n\r\n    openInvoice = async () => {\r\n        let cInvoiceInfo = this.newC(CInvoiceInfo); // new CInvoiceInfo(this.cApp, undefined, false);\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        let defaultSetting = await currentUser.getSetting();\r\n\r\n        let origInvoice = _.pick(defaultSetting, ['invoiceType', 'invoiceInfo']);\r\n        cInvoiceInfo.start(origInvoice);\r\n    }\r\n\r\n    openMyPoint = async () => {\r\n        /* let cPointProduct = this.newC(CPointProduct);// new CSelectShippingContact(this.cApp, undefined, false);\r\n        await cPointProduct.start(); */\r\n        await this.cApp.cPointProduct.openMyPoint();\r\n    }\r\n    /**\r\n     * 卡券管理\r\n     */\r\n    openCouponManage = async () => {\r\n        let { cCoupon } = this.cApp;\r\n        await cCoupon.openMyCouponManage();\r\n        // let cCouponManage = this.newC(CCouponManage);\r\n        // await cCouponManage.start();\r\n    }\r\n\r\n    /**\r\n     * 商品收藏\r\n     */\r\n    openFavorites = async () => {\r\n        let cMyFavorites = this.newC(CFavorites);\r\n        await cMyFavorites.start();\r\n    }\r\n\r\n    toPersonalAccountInfo = async (fn: Function) => {\r\n        await this.openMeInfoFirstOrder({\r\n            onlyRequired: false,\r\n            caption: \"请补充账户信息\",\r\n            note: <>\r\n                化学品是受国家安全法规限制的特殊商品，百灵威提供技术咨询、资料以及化学产品的对象必须是具有化学管理和应用能力的专业单位（非个人）。\r\n                为此，需要您重新提供非虚拟的、可核查的信息。这些信息包括下面所有带有 <span className=\"text-danger\">*</span> 的信息。\r\n            </>,\r\n            actionButton: {\r\n                value: \"下一步\",\r\n                action: fn\r\n            }\r\n        });\r\n    }\r\n\r\n    openAbout() {\r\n        this.openVPage(VAbout);\r\n    }\r\n\r\n    openMeInfoFirstOrder = async (options?: any) => {\r\n        await this.openVPage(EditMeInfoFirstOrder, options);\r\n    }\r\n\r\n    pickAddress = async (context: Context, name: string, value: number): Promise<number> => {\r\n        let cAddress = this.newC(CAddress); // new CAddress(this.cApp, undefined);\r\n        return await cAddress.call<number>();\r\n    }\r\n\r\n    openPrivacy = () => {\r\n        // this.openVPage(Privacy);\r\n        nav.showPrivacyPage();\r\n    }\r\n\r\n    getCommonText = async (textId: number) => {\r\n        return await this.uqs.order.CommonText.load(textId);\r\n    }\r\n\r\n    /**\r\n     * 渲染在jk-web中使用的登录状态组件\r\n     */\r\n    renderLoginState() {\r\n        return this.renderView(VLoginState);\r\n    }\r\n\r\n    showLogin = (callback?: (user: User) => Promise<void>) => {\r\n        if (nav.isWebNav) {\r\n            nav.navigate('/login');\r\n        }\r\n        else {\r\n            nav.showLogin(callback, true);\r\n        }\r\n    }\r\n\r\n    showLoginOut = (callback?: () => Promise<void>) => {\r\n        nav.showLogout(callback);\r\n    }\r\n\r\n    renderMeSideBar = () => {\r\n        return this.renderView(VMeSideBar);\r\n    }\r\n\r\n    /*\r\n    renderCarLabel_Web() {\r\n        let { cCart } = this.cApp;\r\n        return cCart.renderCartLabel_Web();\r\n    }\r\n    */\r\n}","import * as React from 'react';\r\nimport { VPage, TabCaptionComponent, Page, TabsProps, TabProp } from 'tonva-react';\r\nimport { CApp } from './CApp';\r\n\r\nconst color = (selected: boolean) => selected === true ? 'text-primary' : 'text-muted';\r\nfunction caption(label:string|JSX.Element, icon:string) {\r\n\treturn (selected: boolean) => TabCaptionComponent(label, icon, color(selected));\r\n}\r\n\r\nexport class VMain extends VPage<CApp> {\r\n\tprotected get tabsProps(): TabsProps {\r\n\t\tlet { store, cHome, cMe, cCart/*, cBug, cUI*/ } = this.controller;\r\n\t\tlet tabs: TabProp[] = [\r\n\t\t\t//{name: 'home', caption: caption(t('home'), 'home'), content: cHome.tab},\r\n\t\t\t//{name: 'me', caption: caption(t('me'), 'user-o'), content: cMe.tab, load: cMe.load},\r\n            { \r\n\t\t\t\tname: 'home', \r\n\t\t\t\tcaption: caption('首页', 'home'),\r\n\t\t\t\tcontent: cHome.tab, \r\n\t\t\t\tnotify: undefined\r\n\t\t\t},\r\n            // { name: 'member', label: '会员', icon: 'vcard', content: cMember.tab },\r\n            {\r\n                name: 'cart',\r\n\t\t\t\tcaption: caption('购物车', 'shopping-cart'),\r\n                content: cCart.tabPage, \r\n                //page: cCart.tabPage,\r\n                notify: store.cartCount\r\n            },\r\n            {\r\n                name: 'me',\r\n\t\t\t\tcaption: caption('我的', 'user'),\r\n                content: cMe.tab \r\n                //page: cMe.tabPage,\r\n            }\r\n\t\t];\r\n\t\t/*\r\n\t\tif (this.isDev === true) {\r\n\t\t\ttabs.push({\r\n\t\t\t\tname: 'UI', caption: caption(t('UI'), 'television'), content: cUI.tab\r\n\t\t\t});\r\n\t\t\ttabs.push({\r\n\t\t\t\tname: 'debug', caption: caption(t('debug'), 'bug'), content: cBug.tab, onShown: cBug.load\r\n\t\t\t});\r\n\t\t}\r\n\t\t*/\r\n\t\treturn {tabs};\r\n\t}\r\n\r\n\r\n\t/*\r\n    async open(param?: any) {\r\n        this.openPage(this.render);\r\n    }\r\n\r\n    render = (param?: any): JSX.Element => {\r\n\tlet { cHome, cCart, cMe, store } = this.controller;\r\n        let faceTabs = [\r\n            { name: 'home', label: '首页', icon: 'home', page: cHome.tab, notify: undefined },\r\n            // { name: 'member', label: '会员', icon: 'vcard', content: cMember.tab },\r\n            {\r\n                name: 'cart',\r\n                label: '购物车',\r\n                icon: 'shopping-cart',\r\n                content: cCart.tabPage, \r\n                //page: cCart.tabPage,\r\n                notify: store.cartCount\r\n            },\r\n            {\r\n                name: 'me',\r\n                label: '我的',\r\n                icon: 'user',\r\n                content: cMe.tab \r\n                //page: cMe.tabPage,\r\n            }\r\n        ].map(v => {\r\n            let { name, label, icon, content, notify } = v;\r\n            return {\r\n                name,\r\n                caption: (selected: boolean) => TabCaptionComponent(label, icon, color(selected)),\r\n                content,\r\n                notify,\r\n            }\r\n        });\r\n\r\n        return <Page tabsProps={{ tabs: faceTabs }} />\r\n    }\r\n\t*/\r\n}\r\n\r\n/* export class Main extends VPage<CApp> {\r\n    async open(param?: any) {\r\n        this.openPage(this.render, { param });\r\n    }\r\n\r\n    render = (param?: any): JSX.Element => {\r\n        return <Switch>\r\n            <Route path='/search1/:key' render={() => {\r\n                return <div>cProduct1.start</div>\r\n            }} />\r\n            <Route path='/search/:key' render={() => {\r\n                // this.controller.cProduct.start(param.param);\r\n                this.controller.cProduct.searchByKey(param.param);\r\n                return this.controller.cProduct.renderProductList2(param.param);\r\n            }} />\r\n            <Route path='/' render={() => {\r\n                this.openVPage(VMain);\r\n                return <></>\r\n            }} />\r\n        </Switch>\r\n    }\r\n} */","import * as React from 'react';\r\nimport { CCoupon } from './CCoupon';\r\nimport { VPage, Page, List } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { VCoupon, VCredits, VVIPCard } from './VVIPCard';\r\n\r\nexport class VSharedCoupon extends VPage<CCoupon> {\r\n    tipsAfterDawed: string;\r\n    private products: any[] = [];\r\n    \r\n    constructor(c: CCoupon) {\r\n        super(c);\r\n        makeObservable(this, {\r\n            tipsAfterDawed: observable\r\n        });\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.products = param.products || [];\r\n        if (this.products.length === 0) {\r\n            this.tipsAfterDawed = `3秒后将跳到首页，开始您的购物之旅。`\r\n        } else {\r\n            this.tipsAfterDawed = \"您可以点击以下产品开始您的购物之旅。\"\r\n        }\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private drawCouponUI = observer(() => {\r\n        let { sharedCouponValidationResult } = this.controller;\r\n        if (sharedCouponValidationResult.result !== 1)\r\n            return null;\r\n        let { couponDrawed, loginWhenDrawCoupon } = this.controller;\r\n        if (couponDrawed) {\r\n            if (this.products.length === 0) {\r\n                this.countDown();\r\n            }\r\n            return React.createElement(this.showTips)\r\n        }\r\n        else {\r\n            return <button className=\"btn btn-primary w-100\"\r\n                onClick={() => loginWhenDrawCoupon(sharedCouponValidationResult)}>领取</button>\r\n        }\r\n    })\r\n\r\n    private countDown = () => {\r\n        let waitingSeconds = 3;\r\n        setInterval(() => {\r\n            this.tipsAfterDawed = `${waitingSeconds}秒后将跳到首页，开始您的购物之旅。`\r\n            if (waitingSeconds === 0) {\r\n                this.backPage();\r\n            }\r\n            waitingSeconds--;\r\n        }, 1000)\r\n    }\r\n\r\n    private showTips = observer(() => {\r\n        return <div className=\"alert alert-info w-100 text-center\">\r\n            <div className=\"pb-3\">\r\n                <span className=\"text-danger\" style={{ fontSize: \"1.4rem\" }}>领取成功</span><br />\r\n                <small className=\"text-muted\">领取的卡券可在&Prime;卡券管理&Prime;中查看</small>\r\n            </div>\r\n            <small>{this.tipsAfterDawed}</small>\r\n        </div>\r\n    })\r\n\r\n    private renderCouponBase = (sharedCouponValidationResult: any) => {\r\n        let { types, discount } = sharedCouponValidationResult;\r\n        // return <>{this.renderVm(COUPONBASE[types]['view'], sharedCouponValidationResult)}</>;\r\n        switch (types) {\r\n            case 'coupon':\r\n                if (discount)\r\n                    return <>{this.renderVm(VCoupon, sharedCouponValidationResult)}</>;\r\n                else\r\n                    return <>{this.renderVm(VVIPCard, sharedCouponValidationResult)}</>;\r\n            case 'credits':\r\n                return <>{this.renderVm(VCredits, sharedCouponValidationResult)}</>;\r\n            case 'vipcard':\r\n                return <>{this.renderVm(VVIPCard, sharedCouponValidationResult)}</>;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private onProductClick = async (product: any) => {\r\n        await this.controller.showProductDetail(product.id);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { renderProduct, cApp, sharedCouponValidationResult } = this.controller;\r\n        return <Page header=\"与您分享\" right={cApp.renderCartLabel()}>\r\n            {this.renderCouponBase(sharedCouponValidationResult)}\r\n            {React.createElement(this.drawCouponUI)}\r\n            <List items={this.products} item={{ render: renderProduct, onClick: this.onProductClick, className: \"mb-1\" }} none={null} />\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, tv } from 'tonva-react';\r\nimport { CrPageHeaderTitle } from 'tools/pageHeaderTitle';\r\nimport { CCoupon } from './CCoupon';\r\nimport { pageHTitle } from '../tools/pageHeaderTitle';\r\nimport { observer } from 'mobx-react';\r\n\r\nexport class VVIPCardDiscount extends VPage<CCoupon>{\r\n\r\n    private vipCard: any;\r\n    async open(vipCard: any) {\r\n        this.vipCard = vipCard;\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private renderVIPCardDiscountSetting(item: any) {\r\n        let { brand, discount } = item;\r\n        return <div className=\"row\">\r\n            <div className=\"col-7\">\r\n                {tv(brand, v => v.name)}\r\n            </div>\r\n            <div className=\"col-5\">\r\n                {100 - discount * 100}%\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    private page = () => {\r\n        let header = CrPageHeaderTitle('折扣明细');\r\n        return <Page header={header}>\r\n            <div style={{maxWidth:990}} className=\"mx-auto mb-5\">\r\n                {pageHTitle('折扣明细')}\r\n                <List items={this.vipCard.discountSetting} item={{ render: this.renderVIPCardDiscountSetting, className: \"px-3 py-2\" }}></List>\r\n            </div>\r\n        </Page>\r\n    }\r\n\r\n    render(param?: any): JSX.Element{\r\n        this.vipCard = param.vipCard;\r\n        return React.createElement(observer(() => {\r\n            return <List items={this.vipCard?.discountSetting} item={{ render: this.renderVIPCardDiscountSetting, className: \"px-3 py-2\" }}></List>\r\n        }));\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, LMR, FA, List, TabProp, TabCaptionComponent, Tabs, Scroller, QueryPager, autoHideTips } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { VCoupon, VCredits, VVIPCard, VCouponUsed } from './VVIPCard';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { color } from 'order/VMyOrders';\r\nimport { CCoupon } from './CCoupon';\r\nimport { xs } from '../tools/browser';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\n\r\nexport class VCouponManage extends VPage<CCoupon> {\r\n\r\n    private couponInput: HTMLInputElement;\r\n    private coupons: QueryPager<any>;\r\n    private currentStatus: string;\r\n    private tabs: TabProp[];\r\n    oss: any = [\r\n        { caption: '可使用', state: 'validCardForWebUser', icon: 'free-code-camp', toolTip: '亲，您现没有可用的优惠券呦！' },\r\n        { caption: '已使用', state: 'usageRecordForWebUser', icon: 'cc-amex', toolTip: '亲，您还未使用过任何优惠券,快去使用噢！' },\r\n        { caption: '已过期', state: 'expiredForWebUser', icon: 'ravelry', toolTip: '亲，您还没已过期的优惠券！' },\r\n    ];\r\n\r\n\t//@observable tips: string;\r\n    private tips = observable.box();\r\n    \r\n    constructor(c: CCoupon) {\r\n        super(c);\r\n\r\n        makeObservable<VCouponManage, \"coupons\">(this, {\r\n            coupons: observable\r\n        });\r\n    }\r\n\r\n    async open(param: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private getTabs = async () => {\r\n        let { getCoupons } = this.controller;\r\n        this.tabs = this.oss.map((v: any) => {\r\n            let { caption, state, icon, toolTip } = v;\r\n            let none = <div className=\"my-4 text-secondary d-flex justify-content-center\">{`『 ${toolTip} 』`}</div>\r\n            return {\r\n                name: caption,\r\n                caption: (selected: boolean) => TabCaptionComponent(caption, icon, color(selected)),\r\n                content: () => {\r\n                    return <List items={this.coupons} item={{render: this.renderCoupon, className: 'col-lg-6 border rounded px-0'}} className='row mx-0 bg-light mt-2' none={none} />\r\n                },\r\n                isSelected: this.currentStatus === state,\r\n                load: async () => {\r\n                    this.currentStatus = state;\r\n                    this.coupons = await getCoupons(this.currentStatus);\r\n                }\r\n            };\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 领取优惠卡\r\n     */\r\n    private receiveCoupon = async () => {\r\n        let { drawCoupon, getCouponValidationResult, applyTip } = this.controller;\r\n\t\tlet coupon = this.couponInput.value;\r\n\t\tlet tips: string;\r\n        if (!coupon)\r\n            tips = \"请输入您的优惠卡/券号\";\r\n        else {\r\n            this.couponInput.value = '';\r\n\r\n            let validationResult = await getCouponValidationResult(coupon);\r\n            let { result } = validationResult;\r\n            if (result === 1) {\r\n                await drawCoupon(validationResult);\r\n                tips = '领取成功！';\r\n            } else {\r\n                tips = applyTip(result);\r\n            }\r\n\t\t}\r\n\t\tthis.tips.set(tips);\r\n\t\t/*\r\n        if (this.tips) {\r\n        //    setTimeout(() => this.tips = undefined, GLOABLE.TIPDISPLAYTIME);\r\n\t\t}\r\n\t\t*/\r\n        // setTimeout(() => this.controller.closePage(), 500);\r\n        // this.currentStatus = this.oss[0].state;\r\n        // this.coupons = await getCoupons(this.currentStatus);\r\n    }\r\n\r\n    /**\r\n     * 优惠卡展示\r\n     */\r\n    private renderCoupon = (coupon: any) => {\r\n        let { types, discount, conductReveal } = coupon;\r\n        let content = null;\r\n        if (types === \"coupon\")\r\n            content = discount ? this.renderVm(VCoupon, coupon) : this.renderVm(VVIPCard, coupon);\r\n        else if (types === \"credits\")\r\n            content = this.renderVm(VCredits, coupon);\r\n        else if (types === 'vipcard') {\r\n            content = this.renderVm(VVIPCard, coupon);\r\n        }\r\n        if (conductReveal) {\r\n            content = this.renderVm(VCouponUsed, coupon);\r\n        }\r\n        return <div className=\"d-block\">\r\n            <div className=\"px-2 bg-white mt-1\" onClick={() => { this.CouponViewOrUse(coupon) }}>\r\n                {content}\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    /**\r\n     * 折扣明细或使用记录\r\n     */\r\n    private CouponViewOrUse = (coupon: any) => {\r\n        let { showDiscountSetting,showModelCardDiscount } = this.controller;\r\n        let { result, types } = coupon;\r\n        if (result === 1 && types !== 'credits') {\r\n            if (xs) showDiscountSetting(coupon);\r\n            else showModelCardDiscount(coupon);\r\n        }\r\n    }\r\n\r\n    private tipsUI = observer(() => {\r\n        let tipsUI = <></>;\r\n        if (this.tips) {\r\n            tipsUI = <div className=\"alert alert-primary\" role=\"alert\">\r\n                <FA name=\"exclamation-circle\" className=\"text-warning float-left mr-3\" size=\"2x\"></FA>\r\n                {this.tips}\r\n            </div>\r\n        }\r\n        return tipsUI;\r\n    })\r\n    private onScrollBottom = async (scroller: Scroller) => {\r\n        scroller.scrollToBottom();\r\n        if (this.currentStatus !== \"validCardForWebUser\")\r\n            this.coupons.more();\r\n    }\r\n\r\n    private page = observer(() => {\r\n        this.getTabs();\r\n        let right = <button className=\"btn btn-primary w-4c\" onClick={this.receiveCoupon}>领取</button>\r\n        let header = CrPageHeaderTitle('卡券管理');\r\n        return <Page header={header}>\r\n            <div className=\"row mx-0\">\r\n                <div className=\"col-lg-3 d-none d-lg-block\">\r\n                    {this.controller.cApp.cMe.renderMeSideBar()}\r\n                </div>\r\n                <div className=\"col-lg-9 px-0 mx-auto\" style={{ maxWidth: !xs ? 800 : 'none' }}>\r\n                    {pageHTitle(<div className=\"text-left px-2\">卡券管理</div>)}\r\n                    <div className=\"px-2 py-3 mb-5 mx-auto\" style={{maxWidth:990}}>\r\n                        <LMR right={right}>\r\n                            <input ref={v => this.couponInput = v} type=\"number\" placeholder=\"输入领取优惠卡券号码\" className=\"form-control\"></input>\r\n                        </LMR>\r\n                        {/*React.createElement(this.tipsUI)*/}\r\n                        {autoHideTips(this.tips)}\r\n                        <div className=\"mt-2 reset-z-header-boxS\">\r\n                            <Tabs tabs={this.tabs} tabPosition=\"top\" tabBg='bg-light' />\r\n                        </div>\r\n                    </div >\r\n                    {this.controller.renderModelCardDiscount()}\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    })\r\n}","import * as React from 'react';\r\nimport { View } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { CCoupon } from './CCoupon';\r\nimport { Modal } from 'antd';\r\n\r\nexport class VModelCardDiscount extends View<CCoupon> {\r\n\r\n    render(param?: any): JSX.Element {\r\n    \treturn React.createElement(observer(() => {\r\n\t\t\treturn <Modal\r\n                title=\"折扣明细\"\r\n                visible={this.controller.CardDiscount}\r\n                onCancel={() => {this.controller.CardDiscount = false;}}\r\n                style={{top:'35%'}}\r\n                footer={null}>\r\n                {this.controller.renderCardDiscount()}\r\n            </Modal>\r\n\t\t}));\r\n\t}\r\n}","import { observable, makeObservable } from 'mobx';\r\nimport { QueryPager } from 'tonva-react';\r\nimport { VSharedCoupon } from './VSharedCoupon';\r\nimport { VCoupleAvailable } from './VCouponAvailable';\r\nimport { VVIPCardDiscount } from './VVIPCardDiscount';\r\nimport { VCoupon, VCredits, VVIPCard } from './VVIPCard';\r\nimport { VCouponManage } from './VCouponManage';\r\nimport { VModelCardDiscount } from './VModelCardDiscount';\r\nimport { CApp, CUqBase } from 'tapp';\r\n\r\nexport const COUPONBASE: any = {\r\n    'coupon': { 'name': '优惠券', 'view': VCoupon },\r\n    'credits': { 'name': '积分券', 'view': VCredits },\r\n    'vipcard': { 'name': 'VIP卡', 'view': VVIPCard }\r\n}\r\n\r\n\r\nconst couponTips: { [key: number]: string } = {\r\n    \"-1\": '对不起，当前服务器繁忙，请稍后再试。',\r\n    \"1\": '有效',\r\n    \"0\": \"无此优惠券，请重新输入或与您的专属销售人员联系确认优惠码是否正确。\",\r\n    \"2\": '优惠券已过期或作废，请重新输入或与您的专属销售人员联系。',\r\n    \"3\": '优惠券无效，请重新输入或与您的专属销售人员联系。',\r\n    \"5\": '优惠券无效，请重新输入或与您的专属销售人员联系。',\r\n    \"6\": '不允许使用本人优惠券！',\r\n    \"4\": '该优惠券已经被使用过了，不允许重复使用。',\r\n}\r\n\r\nexport class CCoupon extends CUqBase {\r\n    isOpenMyCouponManage: boolean = false;\r\n    couponDrawed: boolean;\r\n    sharedCouponValidationResult: any;\r\n    CardDiscount: boolean = false;\r\n    curCardDiscount: any;\r\n    couponPager: QueryPager<any>;\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            couponDrawed: observable,\r\n            sharedCouponValidationResult: observable,\r\n            CardDiscount: observable,\r\n            curCardDiscount: observable\r\n        });\r\n    }\r\n\r\n    applyCoupon = async (coupon: string) => {\r\n        let validationResult = await this.getCouponValidationResult(coupon);\r\n        let { result: rtn, id, types } = validationResult;\r\n        if (rtn === 1) {\r\n            if (types === 'vipcard' || types === 'coupon') {\r\n                validationResult.discountSetting = await this.getCouponDiscountSetting(types, id);\r\n            }\r\n            this.returnCall(validationResult);\r\n            this.closePage();\r\n        }\r\n        return rtn;\r\n    }\r\n\r\n    applyCoupon1 = async (coupon: string) => {\r\n        let validationResult = await this.getCouponValidationResult(coupon);\r\n        let { result: rtn, id, types } = validationResult;\r\n        if (rtn === 1) {\r\n            if (types === 'vipcard' || types === 'coupon') {\r\n                validationResult.discountSetting = await this.getCouponDiscountSetting(types, id);\r\n            }\r\n            return validationResult;\r\n        }\r\n        return rtn;\r\n    }\r\n\r\n    getCouponValidationResult = async (coupon: string) => {\r\n        let { currentUser } = this.cApp;\r\n        return await this.uqs.salesTask.IsCanUseCoupon.submit({ code: coupon, webUser: currentUser && currentUser.id });\r\n    }\r\n\r\n    /**\r\n     * 优惠卡券管理界面\r\n     */\r\n    openMyCouponManage = async () => {\r\n        this.isOpenMyCouponManage = true;\r\n        this.openVPage(VCouponManage);\r\n    }\r\n\r\n    /**\r\n     * 获取不同状态下的优惠卡券\r\n     */\r\n    getCoupons = async (state: any) => {\r\n        let { webuser } = this.uqs;\r\n        let { currentUser } = this.cApp;\r\n        let result;\r\n        switch (state) {\r\n            case 'validCardForWebUser':\r\n                result = await this.getValidCardForWebUser();\r\n                return this.getValidMusterForWebUser(result);\r\n            case 'usageRecordForWebUser':\r\n                result = await currentUser.getUserdCoupon();\r\n                // new QueryPager<any>(webuser.getMyUsedCoupon, 10, 10);\r\n                // await result.first({ webUser: currentUser });\r\n                return result;\r\n            case 'expiredForWebUser':\r\n                result = await currentUser.getExpiredCoupon();\r\n                // result = new QueryPager<any>(webuser.getMyExpiredCoupon, 10, 10);\r\n                // await result.first({ webUser: currentUser });\r\n                return result;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 可使用的优惠卡\r\n     */\r\n    getValidMusterForWebUser = (params: any) => {\r\n        let { vipCardForWebUser, couponsForWebUser, creditsForWebUser } = params;\r\n        let shift = couponsForWebUser.map((v: any) => v.coupon).concat(creditsForWebUser.map((v: any) => v.coupon));\r\n        let validMuster = vipCardForWebUser ? [vipCardForWebUser.coupon].concat(shift) : shift;\r\n        let finalValidMuster = validMuster.filter((v: any) => v.result === 1);\r\n        return finalValidMuster;\r\n    }\r\n\r\n    /**\r\n     * 获取已过期的优惠卡\r\n     */\r\n    /* getExpiredMusterForWebUser = async () => {\r\n        let { webuser, 积分商城 } = this.uqs;\r\n        let { currentUser } = this.cApp;\r\n        let expiredMusterForWebUser: any[] = [];\r\n        let couponsMusterForWebUser: any = await webuser.WebUserCoupon.table({ webUser: currentUser });\r\n        let creditsMusterForWebUser: any = await 积分商城.WebUserCredits.table({ webUser: currentUser });\r\n        let vipCardMusterForWebUser: any = await webuser.WebUserVIPCard.obj({ webUser: currentUser });\r\n        if (vipCardMusterForWebUser) {\r\n            let { expiredDate } = vipCardMusterForWebUser;\r\n            if (expiredDate.getTime() < Date.now()) {\r\n                vipCardMusterForWebUser.coupon = await this.getCouponValidationResult(vipCardMusterForWebUser.vipCardCode);\r\n                expiredMusterForWebUser.push(vipCardMusterForWebUser.coupon);\r\n            }\r\n        }\r\n\r\n        if (couponsMusterForWebUser) {\r\n            let result = couponsMusterForWebUser.filter((v: any) => v.expiredDate.getTime() < Date.now());\r\n            if (result.length > 0) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    let e = result[i];\r\n                    e.coupon = await this.getCouponValidationResult(e.couponCode);\r\n                }\r\n                expiredMusterForWebUser.push(...result.map((v: any) => v.coupon));\r\n            }\r\n        }\r\n\r\n        if (creditsMusterForWebUser) {\r\n            let result = creditsMusterForWebUser.filter((v: any) => v.expiredDate.getTime() < Date.now());\r\n\r\n\r\n            if (result.length > 0) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    let e = result[i];\r\n                    e.coupon = await this.getCouponValidationResult(e.creditsCode);\r\n                }\r\n                expiredMusterForWebUser.push(...result.map((v: any) => v.coupon));\r\n            }\r\n        }\r\n        // expiredMusterForWebUser.forEach((el: any) => el.conductReveal = true);\r\n        return expiredMusterForWebUser;\r\n    }\r\n */\r\n\r\n    /**\r\n     * 获取用户有效的优惠券/vip卡\r\n     */\r\n    getValidCardForWebUser = async () => {\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        let { id: currentUserId } = currentUser;\r\n\r\n        let validVIPCardForWebUser = await this.getValidVipCardForWebUser(currentUserId);\r\n        if (validVIPCardForWebUser) {\r\n            validVIPCardForWebUser.coupon = await this.getCouponValidationResult(validVIPCardForWebUser.vipCardCode)\r\n        }\r\n\r\n        let validCouponsForWebUser = await currentUser.getValidCoupons(); //this.getValidCouponsForWebUser(currentUserId);\r\n        if (validCouponsForWebUser.length > 0) {\r\n            for (let i = 0; i < validCouponsForWebUser.length; i++) {\r\n                let e = validCouponsForWebUser[i];\r\n                e.coupon = await this.getCouponValidationResult(e.couponCode);\r\n            }\r\n        }\r\n\r\n        let validCreditsForWebUser = await currentUser.getValidCredits();// this.getValidCreditsForWebUser(currentUserId);\r\n        if (validCreditsForWebUser.length > 0) {\r\n            for (let i = 0; i < validCreditsForWebUser.length; i++) {\r\n                let e = validCreditsForWebUser[i];\r\n                e.coupon = await this.getCouponValidationResult(e.creditsCode);\r\n            }\r\n        }\r\n\r\n        return {\r\n            'vipCardForWebUser': validVIPCardForWebUser,\r\n            'couponsForWebUser': validCouponsForWebUser,\r\n            'creditsForWebUser': validCreditsForWebUser\r\n        }\r\n    }\r\n\r\n    protected async internalStart(param: any) {\r\n        let result = await this.getValidCardForWebUser();\r\n\r\n        this.openVPage(VCoupleAvailable, result);\r\n    }\r\n\r\n    /**\r\n     * （在订单上）应用coupon\r\n     * @param coupon \r\n     */\r\n    applySelectedCoupon = async (coupon: string) => {\r\n        if (!coupon)\r\n            return \"请输入您的优惠卡/券号\";\r\n        else {\r\n            let ret = await this.applyCoupon(coupon);\r\n            return this.applyTip(ret);\r\n        }\r\n    }\r\n\r\n    applyTip = (ret: any) => {\r\n        return couponTips[ret];\r\n        /*\r\n        switch (ret) {\r\n            case -1:\r\n                return '对不起，当前服务器繁忙，请稍后再试。';\r\n            case 1:\r\n                return '有效';\r\n            case 0:\r\n                return \"无此优惠券，请重新输入或与您的专属销售人员联系确认优惠码是否正确。\";\r\n            case 2:\r\n                return '优惠券已过期或作废，请重新输入或与您的专属销售人员联系。';\r\n            case 3:\r\n            case 5:\r\n                return '优惠券无效，请重新输入或与您的专属销售人员联系。';\r\n            case 6:\r\n                return '不允许使用本人优惠券！';\r\n            case 4:\r\n                return '该优惠券已经被使用过了，不允许重复使用。';\r\n            default:\r\n                break;\r\n        }*/\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param currentUserId \r\n     */\r\n    getValidVipCardForWebUser = async (currentUserId: number): Promise<any> => {\r\n        let { uqs } = this.cApp;\r\n        let { webuser } = uqs;\r\n        let { WebUserVIPCard } = webuser;\r\n        let vipCardForWebUser: any = await WebUserVIPCard.obj({ webUser: currentUserId });\r\n        if (vipCardForWebUser) {\r\n            let { expiredDate } = vipCardForWebUser\r\n            if (expiredDate.getTime() > Date.now()) {\r\n                return vipCardForWebUser;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param currentUserId \r\n     *  (更新至webuser--getValidCoupons)\r\n     * -- TODO : 废弃\r\n     */\r\n    getValidCouponsForWebUser = async (currentUserId: number): Promise<any[]> => {\r\n        let { uqs } = this.cApp;\r\n        let { webuser } = uqs;\r\n        let { WebUserCoupon } = webuser;\r\n        let couponsForWebUser: any[] = await WebUserCoupon.table({ webUser: currentUserId });\r\n        let validCouponsForWebUser: any[] = [];\r\n        if (couponsForWebUser) {\r\n            validCouponsForWebUser = couponsForWebUser.filter(v => v.expiredDate.getTime() > Date.now());\r\n        }\r\n        return validCouponsForWebUser;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param currentUserId \r\n     * (更新至webuser--getValidCredits)\r\n     * -- TODO : 废弃\r\n     */\r\n    getValidCreditsForWebUser = async (currentUserId: number): Promise<any[]> => {\r\n        let { uqs } = this.cApp;\r\n        let { webuser } = uqs;\r\n        let creditsForWebUser: any[] = await webuser.WebUserCredits.table({ webUser: currentUserId });\r\n        let validCreditsForWebUser: any[] = [];\r\n        if (creditsForWebUser) {\r\n            validCreditsForWebUser = creditsForWebUser.filter(v => v.expiredDate.getTime() > Date.now());\r\n        }\r\n        return validCreditsForWebUser;\r\n    }\r\n\r\n    /**\r\n     * 显示VIP卡的品牌折扣明细 \r\n     * @param coupon \r\n     */\r\n    showDiscountSetting = async (vipCard: any) => {\r\n        let { types, id } = vipCard;\r\n        vipCard.discountSetting = await this.getCouponDiscountSetting(types, id);\r\n        this.openVPage(VVIPCardDiscount, vipCard);\r\n    }\r\n\r\n    showModelCardDiscount = async (vipCard: any) => {\r\n        let { types, id } = vipCard;\r\n        vipCard.discountSetting = await this.getCouponDiscountSetting(types, id);\r\n        this.curCardDiscount = vipCard;\r\n        this.CardDiscount = true;\r\n    }\r\n    /**\r\n     * 获取卡券的有效折扣  \r\n     */\r\n    getValidDiscounts = async (types: string, id: number) => {\r\n        return await this.getCouponDiscountSetting(types, id);\r\n    }\r\n\r\n    private getCouponDiscountSetting = async (types: string, couponId: number) => {\r\n        if (types === 'vipcard' || types === 'coupon') {\r\n            return await this.uqs.salesTask.VIPCardDiscount.table({ coupon: couponId });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 领取VIP卡 \r\n     */\r\n    showSharedVIPCard = async (param: any) => {\r\n        let { vipcard: vipCardCode, productids } = param;\r\n        await this.autoDrawCouponBase(vipCardCode);\r\n        let products = this.getProducts(productids);\r\n        this.openVPage(VSharedCoupon, { products });\r\n    }\r\n\r\n    /**\r\n     * 领取优惠券 \r\n     */\r\n    showSharedCoupon = async (param: any) => {\r\n        let { coupon, productids } = param;\r\n        await this.autoDrawCouponBase(coupon);\r\n        let products = this.getProducts(productids);\r\n        this.openVPage(VSharedCoupon, { products });\r\n    }\r\n\r\n    /**\r\n     * 领取积分码 \r\n     */\r\n    showSharedCredits = async (param: any) => {\r\n        let { credits, productids } = param;\r\n        await this.autoDrawCouponBase(credits);\r\n        let products = this.getProducts(productids);\r\n        this.openVPage(VSharedCoupon, { products });\r\n    }\r\n\r\n    private autoDrawCouponBase = async (couponBaseCode: string) => {\r\n\r\n        this.couponDrawed = false;\r\n        this.sharedCouponValidationResult = await this.getCouponValidationResult(couponBaseCode);\r\n        let { result } = this.sharedCouponValidationResult;\r\n\r\n        // 自动领取积分券\r\n        let { currentUser } = this.cApp;\r\n        if (!currentUser) return;\r\n        let { id: currentUserId, allowOrdering } = currentUser;\r\n        if (result === 1 && currentUserId && allowOrdering)\r\n            await this.drawCoupon(this.sharedCouponValidationResult);\r\n    }\r\n\r\n    private getProducts = (productids: string) => {\r\n        let products: any;\r\n        if (productids) {\r\n            let { ProductX } = this.uqs.product;\r\n            let productidArray = productids.split('-').filter((v: any) => /^\\d{1,10}$/.test(v));\r\n            products = productidArray.map((v: any) => ProductX.boxId(v));\r\n        }\r\n        return products;\r\n    }\r\n\r\n    loginWhenDrawCoupon = async (credits: any) => {\r\n        let { cApp } = this;\r\n        let { cMe, currentUser } = cApp;\r\n        let { code } = credits;\r\n        this.sharedCouponValidationResult = await this.getCouponValidationResult(code);\r\n        let { result } = this.sharedCouponValidationResult;\r\n        let allowCurrentUser = async () => {\r\n            if (result === 1) {\r\n                if (!currentUser || !currentUser.allowOrdering) {\r\n                    cMe.toPersonalAccountInfo(async () => await this.drawCoupon(this.sharedCouponValidationResult));\r\n                } else {\r\n                    await this.drawCoupon(this.sharedCouponValidationResult);\r\n                }\r\n            }\r\n        }\r\n\r\n        await this.cApp.assureLogin();\r\n        await allowCurrentUser();\r\n        /*\r\n        let loginCallback = async (user: User) => {\r\n            await cApp.currentUser.setUser(user);\r\n            await cApp.loginCallBack(user);\r\n            this.closePage(1);\r\n            await allowCurrentUser();\r\n        };\r\n        if (!this.isLogined)\r\n            nav.showLogin(loginCallback, true);\r\n        else {\r\n            await allowCurrentUser();\r\n        }\r\n        */\r\n    }\r\n\r\n    drawCoupon = async (credits: any) => {\r\n        let { uqs, cApp } = this;\r\n        let { currentUser } = cApp;\r\n        if (!currentUser) return;\r\n        let { id: currentUserId } = currentUser;\r\n        let { webuser, customer } = uqs;\r\n        let { result, id: creditsId, code, validitydate, types } = credits;\r\n        if (result !== 1)\r\n            return;\r\n        switch (types) {\r\n            case 'credits':\r\n                let drawedResult: any;\r\n                if(currentUser.hasCustomer)\r\n                    drawedResult = await customer.CustomerCredits.obj({ customer: currentUser.currentCustomer, credits: creditsId });\r\n                else drawedResult = await webuser.WebUserCredits.obj({ webUser: currentUserId, credits: creditsId });\r\n                if (!drawedResult) {\r\n                    let now = new Date();\r\n                    let pramArr = [{\r\n                        credits: creditsId, creditsCode: code,\r\n                        createDate: `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}`, expiredDate: validitydate\r\n                    }];\r\n                    if (currentUser.hasCustomer)\r\n                        await customer.CustomerCredits.add({ customer: currentUser.currentCustomer, arr1: pramArr });\r\n                    else\r\n                        await webuser.WebUserCredits.add({ webUser: currentUserId, arr1: pramArr });\r\n                }\r\n                break;\r\n            case 'coupon':\r\n                let drawedResult3: any;\r\n                if(currentUser.hasCustomer)\r\n                    drawedResult3 = await customer.CustomerCoupon.obj({ customer: currentUser.currentCustomer, coupon: creditsId });\r\n                else drawedResult3 = await webuser.WebUserCoupon.obj({ webUser: currentUserId, coupon: creditsId });\r\n                if (!drawedResult3) {\r\n                    let now = new Date();\r\n                    let pramArr = [{\r\n                        couponType: 1, couponCode: code,\r\n                        createDate: `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}`, expiredDate: validitydate,\r\n                    }];\r\n                    if (currentUser.hasCustomer)\r\n                        await customer.CustomerCoupon.add({ customer: currentUser.currentCustomer, coupon: creditsId, arr1: pramArr });\r\n                    else\r\n                        await webuser.WebUserCoupon.add({ webUser: currentUserId, coupon: creditsId, arr1: pramArr });\r\n                }\r\n                break;\r\n            case 'vipcard':\r\n                let drawedResult2 = await webuser.WebUserVIPCard.obj({ webUser: currentUserId, vipCard: creditsId });\r\n                if (!drawedResult2) {\r\n                    let now = new Date();\r\n                    await this.uqs.webuser.WebUserVIPCard.add({\r\n                        webUser: currentUserId,\r\n                        vipCard: creditsId,\r\n                        arr1: [{\r\n                            vipCardType: 1,\r\n                            createDate: `${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}`,\r\n                            expiredDate: validitydate,\r\n                            vipCardCode: code\r\n                        }]\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.couponDrawed = true;\r\n    }\r\n\r\n    async showProductDetail(product: number) {\r\n        let { cProduct } = this.cApp;\r\n        await cProduct.showProductDetail(product);\r\n    }\r\n\r\n    renderProduct = (product: any) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderProductWithPrice(product);\r\n    }\r\n\r\n    renderModelCardDiscount = () => {\r\n        return this.renderView(VModelCardDiscount);\r\n    }\r\n\r\n    renderCardDiscount = () => {\r\n        return this.renderView(VVIPCardDiscount, { vipCard: this.curCardDiscount });\r\n    }\r\n}","import * as React from 'react';\r\nimport { VPage, Page, List, LMR, FA } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { CYncProjects } from './CYncProjects';\r\n\r\nexport class VYncProjects extends VPage<CYncProjects> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { YncProjectsItems } = this.controller;\r\n\r\n        let header = <header>\r\n            <div>选择项目</div>\r\n        </header>;\r\n        return <Page header={header} headerClassName=\"py-1 bg-primary\" >\r\n            <List items={YncProjectsItems} item={{ render: this.renderItem, onClick: this.onClick }} />\r\n        </Page>;\r\n    });\r\n\r\n\r\n    private onClick = async (model: any) => {\r\n        await this.controller.returnYncProject(model);\r\n        this.closePage();\r\n    }\r\n\r\n    private renderItem = (item: any, index: number) => {\r\n        let { ProjectName } = item;\r\n        return <LMR className=\"py-2 border\">\r\n            <div><FA name=\"circle\" className=\"px-2 text-primary\"></FA>{ProjectName}</div>\r\n        </LMR >;\r\n    }\r\n\r\n}\r\n","import { CUqBase } from 'tapp';\r\nimport { VYncProjects } from './VYncProjects';\r\nimport { YncProjectsResponse, YncProjectsItem } from './YncProductItem';\r\n\r\nexport class CYncProjects extends CUqBase {\r\n\r\n    private OrganCode: string;\r\n    private UserId: number;\r\n    YncProjectsItems: YncProjectsItem[] = [];\r\n    private YncProjectsResponse: YncProjectsResponse;\r\n\r\n    async internalStart(OrganCode: string, UserId: number) {\r\n        this.OrganCode = OrganCode;\r\n        this.UserId = UserId;\r\n        await this.getYncProjects();\r\n        this.openVPage(VYncProjects);\r\n    }\r\n\r\n    getYncProjects = async () => {\r\n        let formData = new FormData();\r\n        formData.append(\"OrganCode\", this.OrganCode);\r\n        formData.append(\"UserId\", this.UserId.toString());\r\n\r\n        let res = await window.fetch('http://apitest.sinopec.ad/api/ynk/projects', {\r\n            method: 'post',\r\n            body: formData,\r\n            headers: {\r\n                'Accept': 'application/x-www-form-urlencoded',\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        if (res.ok) {\r\n            let content = await res.json();\r\n            if (content.ok) {\r\n                this.YncProjectsResponse = JSON.parse(content);\r\n                if (this.YncProjectsResponse.code === 200) {\r\n                    this.YncProjectsItems = this.YncProjectsResponse.response;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    returnYncProject = (model: any) => {\r\n        this.returnCall(model);\r\n    }\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, FA } from 'tonva-react';\r\nimport { CLottery } from './CLottery';\r\nimport { PointProductImage } from 'tools/productImage';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport classNames from 'classnames';\r\n\r\nexport class VLottery extends VPage<CLottery> {\r\n    currIndex: number;\r\n    winning: any;   /* 中奖的商品 */\r\n    isLottery: boolean = false;\r\n    lotterySuccess: boolean = false;\r\n    aDeg: any = 0;/* 轮盘转到度数 */\r\n    prize = [0, 1, 2, 5, 8, 7, 6, 3];//抽奖轮转顺序  九宫格\r\n\r\n    constructor(c: CLottery) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            currIndex: observable,\r\n            winning: observable,\r\n            isLottery: observable,\r\n            lotterySuccess: observable,\r\n            aDeg: observable\r\n        });\r\n    }\r\n\r\n    // prize = [0, 1, 2, 3, 4, 5, 6, 7];//抽奖轮转顺序     轮盘\r\n    async open(param?: any) {\r\n        // console.log(await this.controller.cApp.uqs.积分商城);\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private lottery = async () => {\r\n        let { lotteryProducts, productsLib, decreasingNumberOfDraws, winningProduct } = this.controller;\r\n        await decreasingNumberOfDraws();\r\n        let i = 0;//转到哪个位置\r\n        let count = 0;//转圈初始值\r\n        let totalCount = 9;//转动的总圈数\r\n        let speed = 500;//转圈速度，越大越慢\r\n        let timer: any;\r\n        /* ---------------- 轮盘转动 ---------------- */\r\n        // let aaaaa = Math.floor(Math.random() * (3600 - 1000) + 1000);\r\n        // let roll = () => {\r\n        //     this.aDeg += 10;\r\n        //     if (this.aDeg >= aaaaa) {\r\n        //         clearTimeout(timer);\r\n        //         this.isLottery = false; this.lotterySuccess = true;\r\n        //     } else\r\n        //         timer = setTimeout(roll, 50);\r\n        // }\r\n        // roll();\r\n        /* ---------------- 轮盘转动 ---------------- */\r\n        this.currIndex = undefined;\r\n        this.isLottery = true;\r\n        let indexMR = this.mR();//随机取值\r\n        let roll = async () => {\r\n            speed -= 50;//速度衰减\r\n            if (speed <= 10) speed = 10;\r\n            this.currIndex = this.prize[i];\r\n            i++;\r\n            if (i > this.prize.length - 1) {//计算转圈次数\r\n                i = 0; count++;\r\n            }\r\n            if (count >= totalCount && productsLib[indexMR].productId === lotteryProducts[this.currIndex].id) {//满足转圈数和指定位置就停止\r\n                clearTimeout(timer); speed = 500; this.isLottery = false; this.lotterySuccess = true; this.winning = lotteryProducts[this.currIndex];\r\n                await winningProduct(this.winning);\r\n            } else {\r\n                timer = setTimeout(roll, speed);//不满足条件时调用定时器\r\n                if (count >= totalCount - 1 || speed <= 50) speed += 100;//最后一圈减速\r\n            }\r\n        }\r\n        roll();\r\n    }\r\n\r\n    private mR = () => {\r\n        let { productsLib } = this.controller;\r\n        return Math.floor(Math.random() * (productsLib.length - 0) + 0);\r\n    }\r\n\r\n    private renderLotteryBtn = () => {\r\n        let { remainingNumOfDraws } = this.controller;\r\n        return <button className={classNames('btn btn-primary  align-self-center ', this.isLottery ? 'disabled pr-4' : '')} onClick={() => {\r\n            if (remainingNumOfDraws === 0) { this.lotterySuccess = true; return; }\r\n            if (!this.isLottery) { this.lottery() }\r\n        }}>{this.isLottery ? '抽奖中' : '开始抽奖'}\r\n            <span className=\" position-relative\" style={{ display: this.isLottery ? '' : 'none' }}>\r\n                <i className=\"fa-li fa fa-spinner fa-spin position-absolute\" style={{ left: -7 }}></i>\r\n            </span>\r\n        </button>\r\n    }\r\n\r\n    private renderPrizesBlock = (v: any, index: any) => {\r\n        let color = [0, 2, 4, 6].includes(index) ? '#A52A2A' : '#7EC0EE';\r\n        // Math.cos((45 / 2) * (Math.PI / 180)) * 160 / 2 可大约计算border的带宽,存在误差 (------思路错误，需修正)\r\n        // console.log(Math.sin((45) * (Math.PI / 180)) * 160 / 2);\r\n        return <div key={index}\r\n            style={{\r\n                transform: `rotate(${index * 45 - 90}deg) translateY(-50%)`, top: '50%', left: '50%', width: 0, height: 0, border: \"68px solid transparent\",\r\n                borderRight: `160px solid ${this.currIndex === index ? 'rgb(255,203,63)' : color}`, borderLeft: 0, transformOrigin: '0% 0%'\r\n            }}\r\n            className=\"position-absolute\">\r\n            <span className=\"position-absolute\" style={{ top: -10, left: 130, transform: 'rotate(90deg)' }}>{v.content}</span>\r\n        </div>\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { lotteryProducts, remainingNumOfDraws, openMyLotteryPrize } = this.controller;\r\n        let header = <div className=\"w-100 text-center\">幸运抽奖</div>;\r\n\r\n        return <Page header={header} right={<></>} className=\"w-100\">\r\n\r\n            <div className=\"position-relative\" style={{ background: `url(http://bpic.588ku.com/back_pic/04/70/62/26589975a47d9d0.jpg) no-repeat`, backgroundSize: 'cover', }}>\r\n                {/* <img style={{ visibility: 'hidden' }} width=\"100%\" src={timg1_test} alt=\"\" /> */}\r\n                <div className=\"w-100 pb-5\" >\r\n                    {/* 抽奖机会 */}\r\n                    <div className=\"d-flex justify-content-center text-light pt-5 mb-3\" >\r\n                        <span className=\"border border-light rounded px-2 bg-transparent\" style={{ padding: '2px 0' }}>\r\n                            剩余 <b className=\"bg-white p-1 text-danger\">{remainingNumOfDraws}</b> 次抽奖机会\r\n                        </span>\r\n                    </div>\r\n\r\n                    {/* 抽奖区域 */}\r\n                    <div className=\" pb-5 mx-2 rounded-lg w-auto\"\r\n                        style={{ background: \"url(https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1104137880,798719686&fm=26&gp=0.jpg) no-repeat\", backgroundSize: \"100% 100%\" }}>\r\n                        {/* 抽奖标题 */}\r\n                        <div className=\"d-flex justify-content-center p-2 pt-3 h3 text-center text-monospace font-weight-bolder\">\r\n                            <div className=\" position-relative\" style={{ color: \"#cc0000\" }}>\r\n                                <span style={{ top: 3, left: -30, transform: 'rotate(-12deg)' }} className=\"position-absolute\">福</span>\r\n                                利放\r\n                                <span style={{ top: 3, right: -30, transform: 'rotate(12deg)' }} className=\"position-absolute\">送</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* 抽奖内容 */}\r\n                        {/* 轮盘--------------界面适配bug */} {/* overflow-hidden */}\r\n                        {/* <div className=\"border rounded-circle m-auto w-20c h-20c position-relative overflow-hidden\"\r\n                            style={{ transform: `rotate(${this.aDeg}deg)` }}>\r\n                            {lotteryProducts.map((v: any, index: number) => {\r\n                                return this.renderPrizesBlock(v, index);\r\n                            })}\r\n                            <div className=\"border rounded-circle position-absolute w-75 h-75 d-flex justify-content-center align-items-center\"\r\n                                style={{ top: '50%', left: '50%', transform: 'translate(-50%, -50%)', }}>\r\n                                {this.renderLotteryBtn()}\r\n                            </div>\r\n                        </div> */}\r\n                        {/* 九宫格 */}\r\n                        <div className='d-flex flex-wrap px-2 m-auto'>\r\n                            {lotteryProducts.map((v: any, index: number) => {\r\n                                if (index === 4) {\r\n                                    return <div className=\"d-flex justify-content-center\" key={index} style={{ width: '33.3%' }} >\r\n                                        {this.renderLotteryBtn()}\r\n                                    </div>\r\n                                }\r\n                                return <PointProductImage className={classNames('border', this.currIndex === index ? 'border-success' : '')} key={index} style={{ width: \"33.3%\" }} chemicalId={'1'} />\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    {/* 我的奖品 */}\r\n                    <div className=\"mx-2 d-flex justify-content-center mt-2\" onClick={() => { if (!this.isLottery) openMyLotteryPrize() }}>\r\n                        <span style={{ borderRadius: \"22px\", color: '#F7C709' }} className=\"text-center py-1 px-3 bg-white\">\r\n                            <FA name='gift' /> <span style={{ color: 'rgb(152,42,7)' }} className=\"small\">我的奖品</span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n\r\n            {/* 抽奖成功提示 */}\r\n            {\r\n                this.lotterySuccess ?\r\n                    <div className=\"position-fixed d-flex justify-content-center\"\r\n                        style={{ top: 0, left: 0, right: 0, bottom: 0, zIndex: 99999, backgroundColor: 'hsla(120,0%,50%,.7)' }}>\r\n                        <div className=\"align-self-center bg-white rounded-lg px-4 py-3 pb-4 text-center position-relative\">\r\n                            <div className=\"position-absolute\" style={{ top: 5, right: 10, }} onClick={() => { this.lotterySuccess = false; this.winning = undefined; }}><FA name=\"times-circle-o\" /></div>\r\n                            {\r\n                                remainingNumOfDraws === 0 && this.winning === undefined\r\n                                    ? <div className=\"pt-2\">\r\n                                        <div className=\"text-warning\"><FA name='frown-o' size='2x' /></div>\r\n                                        您的抽奖机会用完了！\r\n                                    </div>\r\n                                    : <div className=\"align-self-center bg-white rounded-lg  pt-3 text-center\">\r\n                                        <div>恭喜您</div>\r\n                                        <div>获得-----</div>\r\n                                        <div className=\"py-5\">展示</div>\r\n                                        <div className='small mt-2'>可以到我的奖品中去查看</div>\r\n                                    </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    : null\r\n            }\r\n        </Page >\r\n    })\r\n}","import * as React from 'react';\r\nimport { observer } from 'mobx-react';\r\nimport { VPage, Page, List } from 'tonva-react';\r\nimport { CLottery } from './CLottery';\r\n\r\nexport class VMyLotteryPrize extends VPage<CLottery> {\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private renderMyPrize = (myPrize: any) => {\r\n        return <div>1111</div>\r\n    }\r\n\r\n    private page = observer(() => {\r\n        let { myPrizeLib, openMyPrizeOrder } = this.controller;\r\n        let footer = <div className=\"w-100 px-3 d-flex justify-content-end\">\r\n            <button type=\"button\" className=\"btn btn-danger m-1\" onClick={openMyPrizeOrder}>领取奖品</button>\r\n        </div>\r\n\r\n        return <Page header='我的奖品' footer={footer}>\r\n            <List items={myPrizeLib} item={{ render: this.renderMyPrize }} none='无' />\r\n        </Page >\r\n    })\r\n}","import { BoxId } from 'tonva-react';\r\nimport { observable, computed, makeObservable } from 'mobx';\r\n\r\nexport class prizeOrder {\r\n\r\n    webUser: any;   // OK\r\n    organization: BoxId;\r\n    customer: any;  //OK\r\n    salesRegion: BoxId;   // OK\r\n\r\n    shippingContact: BoxId; //OK\r\n    exchangeItems: prizeOrderItem[] = [];\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            shippingContact: observable,\r\n            exchangeItems: observable,\r\n            amount: computed\r\n        });\r\n    }\r\n\r\n    get amount() {\r\n        return this.exchangeItems.reduce((pv, cv) => (pv + cv.subAmount), 0);\r\n    };\r\n\r\n    getDataForSave() {\r\n        let exchangeItems: any[] = [];\r\n        this.exchangeItems.forEach(oi => {\r\n            exchangeItems.push({\r\n                product: oi.product, pack: oi.pack, point: oi.point, quantity: oi.quantity\r\n                , subAmount: oi.quantity * oi.point\r\n            })\r\n        });\r\n        return {\r\n            webUser: this.webUser,\r\n            organization: this.organization,\r\n            customer: this.customer,\r\n            shippingContact: this.shippingContact,\r\n            amount: this.amount,\r\n            exchangeitems: exchangeItems, // 前面的必须是小写的\r\n            salesRegion: this.salesRegion\r\n        }\r\n    }\r\n}\r\n\r\nexport class prizeOrderItem {\r\n    product: BoxId;\r\n    pack: BoxId;\r\n    quantity: any;\r\n    point: any;\r\n    imageUrl: any;\r\n    description: any;\r\n    descriptionC: any;\r\n    grade: any;\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            pack: observable,\r\n            quantity: observable,\r\n            point: observable,\r\n            imageUrl: observable,\r\n            description: observable,\r\n            descriptionC: observable,\r\n            grade: observable,\r\n            subAmount: computed\r\n        });\r\n    }\r\n\r\n    get subAmount() {\r\n        return this.quantity * this.point;\r\n    }\r\n}","/* eslint-disable */\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VLottery } from './VLottery';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { VMyLotteryPrize } from './VMyLotteryPrize';\r\nimport { VMyPrizeExchangeOrder } from '../VExchangeOrder';\r\nimport { prizeOrder, prizeOrderItem } from './prizeOrder';\r\n\r\nexport class CLottery extends CUqBase {\r\n    lotteryProducts: any[] = [];        /* 抽奖产品列表 */\r\n    remainingNumOfDraws: number = 1;    /* 剩余抽奖次数 */\r\n    productsLib: any[] = [];            /* 抽奖产品集合（加概率） */\r\n    myPrizeLib: any[] = [];             /* 我的奖品 */\r\n    totalNumPrizes: number = 10000;      /* 奖品总量 */\r\n    prizeOrderData: prizeOrder = new prizeOrder();\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            lotteryProducts: observable,\r\n            remainingNumOfDraws: observable,\r\n            productsLib: observable,\r\n            myPrizeLib: observable,\r\n            totalNumPrizes: observable,\r\n            prizeOrderData: observable\r\n        });\r\n    }\r\n\r\n    async internalStart(param?: any) { }\r\n\r\n    /**\r\n     * 抽奖界面\r\n     */\r\n    openLotteryProduct = async () => {\r\n        await this.getLotteryProducts();\r\n        await this.getLotteryNumOfDraws();\r\n        this.basedChanceHandlePrizes();\r\n        this.openVPage(VLottery);\r\n    }\r\n\r\n    /**\r\n     * 我的奖品界面\r\n     */\r\n    openMyLotteryPrize = async () => {\r\n        await this.getMyPrizes();\r\n        this.openVPage(VMyLotteryPrize);\r\n    }\r\n\r\n    /**\r\n    * 奖品领取预览界面\r\n    */\r\n    openMyPrizeOrder = async () => {\r\n        let { cPointProduct } = this.cApp;\r\n        if (this.prizeOrderData.shippingContact === undefined) {\r\n            this.prizeOrderData.shippingContact = await cPointProduct.getDefaultShippingContact();\r\n        }\r\n        this.openVPage(VMyPrizeExchangeOrder);\r\n    }\r\n\r\n    /**\r\n     * 中奖获得的产品\r\n     */\r\n    winningProduct = async (winning: any) => {\r\n        console.log('winning', winning);\r\n        await this.addMyPrize(winning);\r\n    }\r\n\r\n    /**\r\n     * 抽奖次数递减\r\n     */\r\n    decreasingNumberOfDraws = async () => {\r\n        this.remainingNumOfDraws -= 1;\r\n        // await this.uqs.积分商城.\r\n    }\r\n\r\n    /**\r\n     * 获取可抽奖次数\r\n     */\r\n    getLotteryNumOfDraws = async () => {\r\n        // this.remainingNumOfDraws = await this.uqs.积分商城.\r\n    }\r\n\r\n    /**\r\n     * 获取抽奖产品列表\r\n     */\r\n    getLotteryProducts = async () => {//PR\r\n        // this.lotteryProducts = await this.uqs.积分商城.\r\n        this.lotteryProducts = [\r\n            { id: 1, content: '111', p: '1', PR: 15 },\r\n            { id: 2, content: '222', p: '4', PR: 20 },\r\n            { id: 3, content: '333', p: '5', PR: 5 },\r\n            { id: 4, content: '444', p: '1', PR: 10 },\r\n            { id: 5, content: '555', p: '1', PR: 10 },\r\n            { id: 6, content: '666', p: '8', PR: 20 },\r\n            { id: 7, content: '777', p: '2', PR: 5 },\r\n            { id: 8, content: '888', p: '7', PR: 15 },\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * 据概率处理抽奖商品\r\n     */\r\n    basedChanceHandlePrizes = () => {\r\n        let arr = [], minPrice = this.lotteryProducts[0];\r\n        for (let key of this.lotteryProducts) {\r\n            if (minPrice.p >= key.p && minPrice.PR > key.PR) minPrice = key;\r\n            let base = key.PR * this.totalNumPrizes / 100;\r\n            arr.push(Array.from(Array(base), (v, k) => { return { productId: key.id, content: key.content } }));\r\n        }\r\n        let shift = arr.flat();\r\n        this.productsLib = shift;\r\n        let total = this.productsLib.length;\r\n\r\n        if (total !== this.totalNumPrizes) {\r\n            for (let i = 0; i < (this.totalNumPrizes - total); i++)  //找8个商品中价值最小的\r\n                this.productsLib.push({ productId: minPrice.id, content: minPrice.content });//productId 暂未定\r\n        }\r\n\r\n        //乱序\r\n        let { length } = this.productsLib, i;\r\n        while (length) {\r\n            i = (Math.random() * length--) >>> 0;\r\n            [this.productsLib[length], this.productsLib[i]] = [this.productsLib[i], this.productsLib[length]]\r\n        }\r\n\r\n        this.lotteryProducts.splice(this.lotteryProducts.length / 2, 0, {}); // 九宫格 使用\r\n    }\r\n\r\n    /**\r\n     * 抽中的产品添加至我的奖品列表   ------------------ 需uq \r\n     */\r\n    addMyPrize = async (prize: any) => {\r\n        // await this.uqs.积分商城\r\n    }\r\n\r\n    /**\r\n     * 获取我的奖品\r\n     */\r\n    getMyPrizes = async () => {\r\n        this.myPrizeLib = [];\r\n        // await this.uqs.积分商城\r\n    }\r\n\r\n    private createOrderFromCart = async () => {\r\n        let { currentUser, currentSalesRegion } = this.cApp;\r\n        this.prizeOrderData.webUser = currentUser.id;\r\n        this.prizeOrderData.salesRegion = currentSalesRegion.id;\r\n        if (currentUser.currentCustomer !== undefined) {\r\n            this.prizeOrderData.customer = currentUser.currentCustomer.id;\r\n        }\r\n\r\n        /* if (this.myPrizeLib !== undefined && this.myPrizeLib.length > 0) {\r\n            this.prizeOrderData.exchangeItems = this.myPrizeLib.map((e: any) => {\r\n                if (e.quantity > 0) {\r\n                    var item = new prizeOrderItem();\r\n                    item.product = e.id;\r\n                    item.pack = e.pack;\r\n                    item.quantity = e.quantity;\r\n                    item.point = e.point;\r\n                    return item;\r\n                }\r\n            });\r\n        } */\r\n    }\r\n\r\n    /**\r\n     * 确认领取(成功 VMyPrizeExchangeOrder 确认使用此函数)\r\n     */\r\n    submitOrder = async () => {\r\n        this.createOrderFromCart();\r\n        console.log(this.prizeOrderData);\r\n\r\n        // let PointExchangeSheet = this.uqs.积分商城.PointExchangeSheet;\r\n        // let getDataForSave = this.orderData.getDataForSave();\r\n        // let result: any = await PointExchangeSheet.save(\"PointExchangeSheet\", getDataForSave);\r\n        // let { id, flow, state } = result;\r\n        // await PointExchangeSheet.action(id, flow, state, \"submit\");\r\n\r\n\r\n        // 打开下单成功显示界面\r\n        // nav.popTo(this.cApp.topKey);\r\n        // this.openVPage(OrderSuccess, result);\r\n    }\r\n\r\n    onSelectShippingContact = async () => {\r\n        let { cPointProduct } = this.cApp;\r\n        this.prizeOrderData.shippingContact = await cPointProduct.selectContact()\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/已签到.552dc80d.png\";","import * as React from 'react';\r\nimport { VPage, Page, DropdownAction, DropdownActions, FA } from 'tonva-react';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { signTopicMap, Homemadelogo } from 'tools/images';\r\nimport { CSignIn } from './CSignIn';\r\nimport { RevenueExpenditure } from '../basicRefer';\r\nimport moment from 'moment';\r\nimport 积分图标P from 'images/积分图标P.png'\r\nimport 已签到 from 'images/已签到.png'\r\nimport { xs } from 'tools/browser';\r\nimport { CrPageHeaderTitle, pageHTitle } from 'tools/pageHeaderTitle';\r\nimport { renderDropdownActions } from '../VMyPoint';\r\n\r\nexport const daysAndMultipleByWelfare = [\r\n    { id: 1, days: 7, multiple: 2 },\r\n    { id: 2, days: 15, multiple: 3 },\r\n    { id: 3, days: 30, multiple: 4 },\r\n    { id: 4, days: 180, multiple: 5 },\r\n    { id: 5, days: 365, multiple: 6 }\r\n];\r\n\r\nexport class VPointSign extends VPage<CSignIn> {\r\n    showTips: any = \"none\";\r\n    rulesNum: number = 0;\r\n\r\n    constructor(c: CSignIn) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            showTips: observable\r\n        });\r\n    }\r\n\r\n    async open(param?: any) {\r\n        this.openPage(this.page);\r\n    }\r\n\r\n    private renderRule = (rulesNum: any, ruleContent: any) => {\r\n        return <div key={rulesNum} className=\" mb-3 d-flex\" style={{ boxShadow: \"0px 1px 3px #333333\", borderRadius: \"8px\" }}>\r\n            <span className=\"h4 m-0 p-2  align-self-center\" style={{ borderRight: '1px dashed #cccccc' }}>\r\n                {String(rulesNum).padStart(2, '0')}\r\n            </span>\r\n            <div className=\"initialism modal-title flex-fill p-2  align-self-center\">{ruleContent}</div>\r\n        </div>\r\n    }\r\n\r\n    private demandBlock = (name: string, icon: string, color: string, action: any) => {\r\n        return <div onClick={action} className=\"w-25 text-center p-2\" style={{ color }}>\r\n            <FA name={icon} size=\"2x\" />\r\n            <div className=\"small\">{name}</div>\r\n        </div>\r\n    }\r\n\r\n    private page = observer((param: any) => {\r\n        let { isSignin, signinval, openRevenueExpenditure } = this.controller;\r\n        //let { cLottery } = cApp;\r\n        let date = moment().format('YYYY-MM-DD').split('-');\r\n        let timer = `${date[0]} 年 ${date[1]} 月 ${date[2]} 日 `;\r\n\r\n        // if (IsSignin) this.handleChange();\r\n        let actions: DropdownAction[] = [\r\n            {\r\n                icon: 'get-pocket',\r\n                caption: RevenueExpenditure.SIGNINHISTORY,\r\n                action: () => openRevenueExpenditure(RevenueExpenditure.SIGNINHISTORY)\r\n            }\r\n        ];\r\n        let right = <DropdownActions className=\"align-self-center mr-1 bg-transparent border-0 text-light\" icon=\"navicon\" actions={actions} />;\r\n        let header = CrPageHeaderTitle('签到');\r\n        if (!xs) right = null;\r\n        return <Page header={header} right={right}>\r\n            {pageHTitle('签到')}\r\n            {renderDropdownActions(actions)}\r\n            <div className=\"text-center text-light px-5 pt-5\"\r\n                style={{ background: `url(${signTopicMap}) no-repeat`, backgroundSize: \"100% 100%\" }}>\r\n                {/* <div className=\"rounded-circle mx-auto\"\r\n                    style={{ background: 'linear-gradient(#FCF4F3 15%, #EFDCD4, #CC9287, #C17162, #A93338, #A52230)', padding: '.8rem', width: '10rem', height: '10rem' }}>\r\n                    <div className=\"w-100 h-100 rounded-circle pt-3\" style={{ background: \"#A52230\" }}>\r\n                        <div className=\"small pt-2\">已连续签到</div>\r\n                        <div className=\"d-flex align-items-end justify-content-center\">\r\n                            <span className=\"font-weight-bolder display-4\">{signinConsecutiveDays} </span>\r\n                            <span className=\"mb-1 pb-2 ml-1\"> 天</span>\r\n                        </div>\r\n                    </div>\r\n                </div> */}\r\n                <div className=\"pb-5\">\r\n                    <div className=\"h4\">{timer}</div>\r\n                    {isSignin ? <>\r\n                        <img src={积分图标P} alt=\"\" className=\"h-5c\" />\r\n                        <div className=\"pt-3\">\r\n                            <span className=\"bg-white px-3 py-1 font-weight-bolder\" style={{ borderRadius: \"25px\", color: 'rgb(165,34,48)' }}>本次签到获取{signinval}分</span>\r\n                        </div>\r\n                    </>\r\n                        : <>\r\n                            <img src={已签到} alt=\"\" className=\"h-4c mb-3 mt-2\" />\r\n                            <div className=\"mb-2 h5\">今日已签到</div>\r\n                        </>\r\n                    }\r\n                    {/* <div className=\"my-4 h5\">今日已签到</div> */}\r\n                </div>\r\n                {/* <div className=\"rounded-circle mx-auto w-12c h-12c\"\r\n                    style={{ background: 'linear-gradient(#FCF4F3 15%, #EFDCD4, #CC9287, #C17162, #A93338, #A52230)', padding: '.8rem' }}>\r\n                    <div className=\"w-100 h-100 rounded-circle pt-3\" style={{ background: \"#A52230\" }}>\r\n                        <div className=\"pt-4\">已连续签到</div>\r\n                        <div className=\"d-flex align-items-end justify-content-center\">\r\n                            <span className=\"font-weight-bolder display-4\">{signinConsecutiveDays} </span>\r\n                            <span className=\"mb-1 pb-2 ml-1\"> 天</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"small\" style={{ transform: 'translateY(-30px)' }}>\r\n                    <span className=\"bg-white px-3 py-1 font-weight-bolder\" style={{ borderRadius: \"25px\", color: 'rgb(165,34,48)' }}>本次签到获取{signinval}分</span>\r\n                    <div className=\"small mt-2\">连续签到30天，可获得1次抽奖机会</div>\r\n                </div> */}\r\n            </div>\r\n            <div className=\"w-100 p-5 mt-4 d-flex justify-content-center flex-column\" >\r\n                <img src={Homemadelogo} alt=\"\" className=\"w-100 mx-auto\" style={{ opacity: .1, transform: 'skew(-10deg, 0deg)' }} />\r\n            </div>\r\n\r\n            {/* 抽奖 */}\r\n            {/* <div style={{ background: `url(${signViceMap})`, backgroundSize: \"100%\" }} className=\"h-20c\">\r\n                <div className=\"mx-5 mt-2 py-1 d-flex justify-content-center flex-wrap\" style={{ boxShadow: \"0px 1px 3px #333333\", borderRadius: \"8px\" }}>\r\n                    {this.demandBlock('抽奖', 'life-ring', '#CD6600', cLottery.openLotteryProduct)}\r\n                </div>\r\n            </div> */}\r\n\r\n            {/* 签到规则 */}\r\n            {/* <div className=\"pt-4 px-4 mt-4\">\r\n                <p className=\"text-center mb-4\"><span style={{ borderRadius: \"22px\", background: \"#D56F2B\" }} className=\"text-center py-2 px-3 text-white\">签到规则</span></p>\r\n                {this.renderRule(1, '连续签到30天，可获得1次抽奖机会')}\r\n                {this.renderRule(2, '若累计签到中断,则重新计算签到天数。')}\r\n            </div> */}\r\n\r\n            {/* <small style={{ color: 'rgb(255,192,120)' }} >连续签到{welfare.days}天，可获得{welfare.multiple}倍的积分奖励</small> */}\r\n            {/* 签到获取提示 */}\r\n            {/* <div className=\"text-left small w-100 pt-1 pl-2 position-absolute text-body\"\r\n                style={{ top: 0, left: 0, display: this.showTips }}>本次签到获取{signinval}分</div> */}\r\n        </Page >;\r\n\r\n        /* return <Page header='签到领积分' right={right}>\r\n            <div className=\"text-center \" style={{ position: \"relative\", background: \"linear-gradient(rgb(253, 98, 52), rgb(250, 51, 82))\", padding: '3rem' }}>\r\n                <div className=\"d-flex justify-content-center\" style={{ flexDirection: 'column', margin: '0 4rem' }}>\r\n                    <h2 style={{ color: 'rgb(255,192,120)' }} className=\"mb-3\">\r\n                        <FA name='diamond' /> <span className=\"text-light\"><small>x</small> {this.signinval}</span>\r\n                    </h2>\r\n                    {getSignpoint}\r\n                </div>\r\n                <div className=\"text-center text-white small w-100 p-1 alert alert-warning text-muted\" style={{\r\n                    position: \"absolute\", top: 0, left: 0, display: this.showTips\r\n                }}>本次签到获取{this.signinval}分</div>\r\n            </div>\r\n            // <div className=\"text-center my-1 p-1  bg-white\" style={{ borderBottom: \".5px solid #ccc\" }}>签到积分详情</div>\r\n            // <List items={signinPageHistory} item={{ render: renderPointRecord }} none={none} />\r\n        </Page >; */\r\n    })\r\n\r\n\t/*\r\n    protected handleChange = async () => {\r\n        this.showTips = \"\";\r\n        if (!this.showTips)\r\n            setTimeout(() => { this.showTips = \"none\"; this.controller.isSignin = false }, GLOABLE.TIPDISPLAYTIME);\r\n\t}\r\n\t*/\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAdEUlEQVR4Xu1dCZQU1bn+/uoZQAWmq0HiErcIz7xoeJqhq8EtmKeCQ1ePkoiJ5r24xyXEfY9HkxjjlhhFjFvUqFGjUaSrAUUjGo3Q1UPUGEnygko0cYXuHkFQZrr+d6qZ0WaYmarqqaqurr51zhxg6l+//37UvVV3IYhLICAQGBABEtgIBAQCAyMgCCJah0BgEAQEQUTzEAgIgog2IBCoDgHxBKkON8daa+bHpxPRAQCPJUkaC+ZtCRjLwLYAxgJYTcAHDKwG0QdsGKsBWs3Mz41pzz3u2KFQcAUBQRBXYNzSyJrH4jtFmqTDwMahDDoUwKghuFpL4MUgaXGp21g05vDcW0OwJVQdICAI4gAsO6IFbdJUgM4i0AwGInZ0nMgQUDKAhRLxjdFk7iknukLWOQKCIM4x61ejuLB1d6NbOpuITnPJpLUZorvJoDnR1LI/WQsLiWoQEASpBrUKHV44fnhnt3wWE84GyBxP+HoRoYsZc9AtzZGPWLbKV+cN4EwQZAhFzs+ftB9JdCNAXxmCGVdUCXiPmc6TU9l7XTEojJQREASpsiEUtfhRDHqwSnXv1Bhnyyn9eu8cNJZlQZAq6p1Pxy8kop9WoeqPCvEv5GTuLH+chduLIIjD+hY05Y8A9nWoVgvxl2RV36cWjsPkUxDEQTXzmvIRAVs7UNlclNFJhAUG8yuQ0AmmThA6JeaPmdACllpQ/pNbCDBfE8er9gWAgfUxVd9mKDYaXVcQxGYLKGhKB4BWm+KfihHwLjMeZhiLYqmORU70Ox+fMt7oLh1GTIcx+DAnuhWyy2VVn1SlbsOrCYLYaAKFTOJeMH/bhmilyHoG5oJLN8VSy990qLuFeFFLfINhnA7QVMe2iO6Tk9n/cawnFMRbLKs2UMwoFzPjJ1ZylfcJuMUgY24s2fEXJ3p2ZAta4jiAzwawlx35XhkiXBJN6lc60RGy4jXvoG0gr8VVAqUdNpTLZVX/oUMdR+KdWmICg3/NwBRHimS0y8kOp/k4chE2YdHFGqSi+bSyiAjT7RadmM6LprLX2ZUfqlw+rTxBBHMipM2Ln5HV3EE2hYWY+FA4cBtYo8WPkhx8CDRA08ao2cWVFguacllfD06fLn1tRAhPj07qz/Xa7bl/ud3WLBGf3pLM3WxXvtHlxBNkgBZQ0JRnAHzVTgMh8MFRNff7vrLF+coklpD7dBwAdEdVvdmOTVMmn07sT8SfkoGAJ6KqvsUTLa8pNxNwqi27zK81NXVPGdX24ge25BtcSBCknwZQSMePBdFd9toGHS+r2QFlC5oyD8DhvbaYcUksZW+wXMzEFzPTIb26TRHac1RbdkV/cRU05VEAR9iJmZmviqVyF9mRbXQZQZD+CKIpOux9pLMckBfTym5MeL3CTV5W9TFWDa9Tm6IYKGUrnj73R1X9mIH0ivNad+emyLMAdrSyDfAn3Wzsu21quZgmbwGWIEgfgIpa4lAGP2HdyPB6BKXEaHX5aivZQlq5A4QTPm3sNgbzBU0x3zapvTpdEm8/bkbu3cF85bXERQS29SqXGRfGUvrVVrE3+n1BkD4toKApPwPMtR2W1zmyqv/cUgrAmoWJ0VKJOz+VZaySU/puA+kW5k/aB5L02f/uhDlyUv++lS+ev9+ogrRRJ9AXrWQJWBhV9RlWco1+XxBkS4KY3aEBG2+P+MurI/nEhLaVn9htQHlNuZqA8z8jCZ8hp3I39qef15T7CPi0O/Xa26Vhk767vMuOr04tcboBvsmObASlbe08Ae3YCquMIEhFZQvz4wdCIrMfb3HRmbKavcFKqu/9gqZwxe9ellV9774ya9LxPSWiyi/wluOcfvzYITmIjW9EUx2POM2jkeQFQSoJoiV+AfAZVg1gsLdJg+kWNeV8Bir6/Vu+AStmEnOZubyu3VxOG03qw6zi6YcgvwJwvLUe3yWrORty1pbCKiEIUkmQtPIeCOMGLTajQ07pVU9DL2iKORYZbfpg4LmYqh/Y68+cQmKAX0LvlHrG9+WUPsdp4ytmlCOZ8ZClHmONnNLNPbnENQACgiA9wOSfbG2hjyNFGy3FcZen0mYxo5zAjDt6f0dM34imsuVuTl5L/JTAF5afHsC7UVXf3kY8/YoUNeVjBoZb6fOIUjR2yPLPXiBYKTTYfUGQnoK/P3/K+Gap9A+r+jPTAbFU9nkrucHuFzSlcoyQkVVd/VBrHduNyCsEbNfzdDkmpur3V+snrymPEzDNSr/LiEwY1750pZVco94XBOmpfGc6MdkgXmrVEFiKTIzNWPqKlZwFQcwv6+YX9t5rbyJKMPOtPb94VVZ1R9PZ+/rLa/HbCHSSVZwS05SWVHaZlVyj3hcE6an8hwuUZMmAZtUQmEu7uLEAqpBRcmBsWulHdDcYBwG8i/lPgzB9TFK387FywHALWvwHAP3YKp+IBHX0DD1jJdeo9wVBeipf0OLHAXSnVUNw2mfvb0ZvhY8tZuGaA3cCtpj4aOo4mQlc0JT/BfBrq3wAPl5WczbnnVlbC5uEIEhPRYuach4D11gVWFZ1R5g5nY4+sH9nazk27REsLbHKx/x4GVX1a63kGvW+o2KHGSS7BKnyCWJ7vYZ7BLH3BBEEGbxVC4L0drFsTnF3OgbZ9AThQTZaqNyEgc01KANeTlYD2h2DiC6WIIitB1+nlmgzwAushN14i9XrY8tukLNu1GCx2n2LJQbpgiBWbb58vzMdjxtE5jqQQS83voP4QxB730HEa15BEKs2X75fmDd5VzQZb9gQHtKX9Er7Xj5B7H5JFx8KBUFstHng3XsmbjNcHrHOUniIc7H8IIjtuVjmfDAx1WTQkotBegU8RU1ZwcB/WpHEyWzeWrzmLWiKzdm8WC2ruu+H/ljhG6T7giCVBMkoP2HGxdYFsr8epEYEsbUehMG3x9Tcydb5Nq6EIEhF7ftuszNIs7C9otBvgjhaUSimmVgyXxCkD0QFTTE3mt7JEjnA9pr0gWy5PUh3siYdwIauDevGjZu1wnrcZQOMsIoIgvSpbD4dv5WI7HQ7bO9q4hdBnOxqQoSHokn9qLA2bLfyEgTpg2RnJvFNg/kBmwAP6ZWvm0+Qnv23zF0YbeyLVV6QdWpU1W+xmWfDigmC9FP6gqaYDW1/O62CCLOiSf1hO7J9ZdwkSEFT7kPFTigW8bzVLLEy0mKfrWpyCpuOIEg/FXXyHcFUd/Lat9KdWwQppBNngtj2ybbEfFE0lbsqbI3Zi3wEQQZAte+eulbgO50Gb9pzgyDF+YlDWOLNdpUfLFYC/t4SIYXash9a5STuiwN0BmwDhUziIDA/7aSRMBttTs4h3ESQzS9Z7Rh0Ru/mT6DEDQBb7ri4uQc+U1Zzjvf0coJDmGTFE2SQahY05XYAJzopOAPnxzxegLTmsfhOJNFtTg736cnhpdfeLil2d2l0kndYZQVBBqnsu4/uO25YU/eTRJjopAF4fkYh4Swwf9lJTKYsM46OpXS7b+icmg+lvCCIRVlXp5WvRaj/NeIWqsE55bYcqOhaVcPgQBMkn1FmxJK65SKmahJ3olPIKLPB6HejaSs7ATgnHUx8XSyZO88qVnF/SwQCS5DeNzxsGPvH2jv+WOviOfjCPnCojE4iLGCiHGC8SURvRpqa3hxZaun8sJTfmWHszJB2BnhnAmawvUN8BoWGgMVRVbfcQK7W+AbVfyAJ0nM+hrl74dYEXBNV9QtqBeD7C+LbNTNNM3cpZC7vVBirVSxV+H1PVvXyTo3iqg6BQBKkz//Wb25AqXUHGyc5VQfB5lqFBfvuglLpQIAPJMIBDOzhht0a2/i9BJrXBemxserSf9c4lrpyHziCFDOJVmbuqESRiU+LJXO/9ApZ823ViGHdKjOnAEp55ScIdpmRJaLFJZQyY9UOyzX4QYi5ljEEjyD9bODGwPoSlw5w89BJXjK1qfjRRylwmRDmj1zLQtTGN78CSIs3jVM2P+O9NvEEz2vgCFLQ4kuAyr2iekAj+mdUWrMHOTj2rD+4zd1LSkRHSoSZzNg9eCWpUURErzDjAeqmB+Qjlq2qURSBcxsogvCtrc3FHSIbB0FpuazqmzZ8dnCVN2SIDj+SiY4koM2BaiOKriXC/WzwA3IqZ+M4unBDFCiCrFsQ367LoHcGhZzwTpNEB49qy66wKo05njGYjyLCkWDsaiUv7m+OAANPkIEHojuW7qdJ9g4RDRuGgSJIPjNpL2LJ5tkbdIWsZi/tryBlYhjGyTZXBoatpq7nw4y/k0T3dzEeGKdmLQ8Zcj2AGhoMFEHs7kj+KV5EaZL4hmibXp512/PEOJuAo2uIaWhdE2Ae63bH8GF8zdbTcm+FNtGKxAJFkGIm/gVmes0p8OZbGGYmEB3iVFfIO0eAGW+BcE1M1W2dx+7cQ3A0AkWQJUumNu29bn1XcOARkQyGABE/WSpJ145pzz4ZVqQCRRAT5LwW/zeBdggr4CHN66awdruCR5C0spQIk0PakEKbVli7XcEjiJa4iMBXhrYlhTwxs9vVzfyDsExjCRxBVmtTdoyg9K+Qt6Owp5dnotNjyeyD9Z5o4AhiAlrQFHOyYmu9g9vo8TPjklhKr+veQCAJUswkTmbmWxu9gYUk/99ER259Ih30zMf1mE8gCdLzFOF6BFTE3C8C+aYIHWBnelDQ8AscQd5/6Esjm7caeT8ANWhgiXiGhgCDvx1Tc78ZmhV/tQNFEHN5a5NBT5ONU578hUl4cxGB38iq/m0X7XlqKjAEeX/+lPHNUqmhJsJ5WtlAG3fvuGuv0wwEQT7UlCkl4AWvkxX2g4RAfZCk5gRZrbV+MYLIX4NUOhGLPwgQsDCq6jP88Vadl5oSZO2j+47rbu5+r7rQhVYYEAj6SVc1I0h50wQxczcMbXzIORDhzmhSP2HIhjwwUDOC5DVlPQFbeZCTMFmXCNCNspo9I2ih14QgBU15GXC2Y3rQgBPxuI8AEa6MJvVL3LdcvUXfCVJIJx4B8czqQxaaYUaAGCdFU/odQcnRV4LkNeVqAs4PSvIijiAiwB+wIR0ca8/+OQjR+UaQNen4LInot0FIWsQQeAQysqoHYqqRLwTZkG7d+WOK/B7A+MCXRgQYCAQk8KUtau6KWgfjC0EKmcS9YK6b+Te1LorwvwkBAzRtTI33DPacIHlN+R4Bc6oo+l8YtJSY/8pEfyc2xrGEPSWmiQwcWoU9oVJnCBChwxheOjh2yPLOWoXuKUE+eFT5j6ZmmKdDjXWWID8zrNk4epvpy/vdhjSfUW4hxned2RTS9YgAM98cS+VOr1XsnhIkr8VvI9BJDpO7XFb1H1rpfLhASZYMaFZy4n4oEPiOrOr31CITzwjSuSA+3TBokZOknE45KKTjx4LoLic+hGwdIsB4MfrxLnGa9XDJ7+g9I0hBU54C8N8OEnoJ3RsPko94qehAB4VM4i4wH+tER8jWHwJsYHas3f+tTj0hSF5TTiHA6ZFpd8qq8wlrhUzieDD/qv5KLiJ2iMCr0Q2ROM1ausGh3pDEXSfIWw9N2Wrk1kYWzF92FJnB58rtuZ850unZ0b3vmYZObQj5ukHgHFnVf+5ntK4TZE06fq5EdK3zJIyDZLXjGed65X20xA4o1QBXfzr/4BGluJ+vfV0lyDsL99l2RKk5C2A3x9gznyGncjc61cvPT0wkic3ZweJqAASY+aJYKneVX6m6SpCCplwG4PJqgjfHLFFVP82pbl6LH0Og+5zqCfm6ReCfTZHh8VFtz31glUExo5wAxmQGdu/uwinbztT/z0qn7323CfIigL2dBrFJnp6S1azjA3CGQsrq4hRaNUeA6TI5lf3RYHF8dloy/UxWs+euWZgYTd2YGEtln3cSv2sEWZNRpkmMx50430KW6Sw5lf2FXRuOj2yza1jIBRoB88zEWEr/4kBB5tPK34iwh3m/KdI1blTbix+sXZj4UneJT5BV/RwnyblGkKKm3MzAqU6c9ydL4IOjas6c+Wt5icG5JUShFWDD2D/W3mFOY9rsKmSU2WD0jGU/21qo3BUn6QI5mZ3oBBRXCGI+vqQS/gqwWydD3SSr+uyBEhGbWzspcVhl+VK5n+nwxYyyjBmJTVnT27Ka3dH8W1FLLGTwYeiWdpOPWLbKLiquEKSoxY9ikKtnQTD4QWI8IQGvbih+smLEqObtuClist/8qepFgF1QhFwdIED0RzmZ3b8y0nfvmbjNcHnEuorfrS+VpK9FIt1bAdIS8/cSIdmS1BfYzdAdgmQSc5nZ8Rsou0EKOYFAv91xxheiKf2N3nuFeZN3RZPR++8XI8Dpo1V96WZdcaIT5GT2TruIukIQceCNXbiFnJsI9N3goTMdjxuEHwD0pw0oXTvCaBoPiZ8nYFSvX6eH+gyZIMX05K8wGcvdTFzYEgjYQYAZj8dS+mH9yZrjVIONswjU923XEbKqP9afzoePKmNGz9TXVN4bOkHEaVB2ailkPEJgdSQ/YkLbyk96zfe8wDm5vyP8CNjI3Rs/h6ZhT0nEdxrMK8p6LM1ko3R77PDlr/QNc1CC9Oy6fg2AnXt+PEpTmBUIVIcAMR/FwNaQpK8CPBWMXQexZD45Xur7kodA06IDrH0fkCDiC3V1BRNaPiNAWGVBik8fLpD4IBh0NsA7lX9pIBNpIm30jIGnoPRLkM5M4psG8wM+pyrcCQS8Q8DhLI3eQPolSEFT/gDgAO+iFZYFAv4hQOAHo2ruW9V47J8gGeUNm4+tanwKHYGAbwgQ6Kqomr2oWocDPUHEAqRqERV6gUFAAma3qENbxy4IEphyikDcQsD8PgLim2NqbsjbQgmCuFUVYScICDxLbMyJpjoecSsYQRC3kBR2aocA4w/EdEW0Pfuk20EIgriNqLBXCwRs7cZZTWCCINWgJnSChoAgSNAqIuIJFAKCIIEqhwgmUAh4uRWQ6GIFqtQimGoQIODUqKrfUo2ulY4giBVC4n7gEWDG0bGU7sncQUGQwJdfBGiFgMRSW0tqmaOjNqxs9t4XBLGLlJALLAIG8X5jkrkXvAhQEMQLVIVNXxFoitCeo9qym1YHunwJgrgMqDDnPwIlRD4/Vl36by88C4J4gaqw6SsCXRvWjRo3a0Xlfliu+RcEcQ1KYagmCDAX5VRO9sq3IIhXyAq7/iDA9Kicyn7dK2eCIF4hK+z6ggCDvhdTs3O9ciYI4hWywq4/CEi8jzwjZ27l48klCOIJrMKoLwgQ3pGTulsnCvQbsiCIL5UUTrxAgID7o6p+jBe2e20KgniJrrDtLQJVHvzqJChBECdoCdlAISBJ0uSWGcvMU5U9uwRBPINWGPYYgVdlVd/LYx8QBPEaYWHfKwQ8W0VYGbAgiFflE3Y9RcDLCYp2CFIAEPU0Q2FcIFA9Ag/Lqj6renX7mgM9QV4EsLd9M0JSIOAfAkSYFU3qD/vhsV+C5NPxuUQkDuX0owLCh1MEfBmc9wY1yAE68fcB2tZp9EJeIOAxAr4Mzi0JYgrkNeWXBJziccLCvEDANgJ+Dc5tEaRMkowyQwLtyMzb282CGRcQYSu78kJOIGAHASJcHU3qF9qRdUtm0EM8q3VSSCuzQbixWn2hJxDYAgHCCsKw/aPJ5803rL5dnhDEjL6gKeYU5P/yLRPhKOwIfEdW9Xv8TtIzghTT8VlM9Fu/ExL+QonA72RVP7IWmXlGEDOZoqYsYKCtFokJn2FBgD8hifaPztA7apGRpwTJZ5QDJMZTDAyrRXLCZwgQIP6RnMxdVqtMPCVI+SmSSZzLzNfWKkHht64ReDGK0v6kLl9fqyw8J8imAXv8dwB5tvNErcATfr1FwCBMH5PUn/DWy+DWfSHIB/Mn7dEkSU8B+HwtkxW+6wcBZlwYS+lX1zpiXwhiJpnX4scQ6L5aJyz8Bx8BAj8YVXPfCkKkvhGk3NWaH78UEv0oCImLGIKJAIH+VhpmHDpmWu6tIEToK0HKJEkn7gLxsUFIXsQQQAQMo11u70gHJTLfCcJPTNym+MmIhSAcGBQQRBwBQYDpMjmVDVQPw3eCmKVYm5m0VzdL5v8SuwWkNCKM2iPg2ypBJ6nWhCDlrpY2aSogLQTErF8nBQupbCDJYWJdM4JUkGRJSIsu0rKHQGDJUXOCCJLYa0Ehlgo0OQJBEDOIfGbSXsTSKyFuCCK1PggQ6LdRNfvNoANT0y5WJTirtSk7Rrj0LAi7Bx00Ed9QEeC5spr73lCt+KEfGIKUu1vz9o6iadi9AJJ+JC981AQBXzddGGqGgSKImQx3tDYX3oncTcDRQ01O6AcNAeMgWe14JmhRDRZP4AjSG2w+rfyECBfXE5gi1gEQIKxio/TVWGr5m/WGUWAJYgJZ1OInMcg8f6653oAV8fYgQHR3dP3OJ9Ksh0v1iEmgCVImyfzEISyxSZIJ9QhwQ8dc49WAbmAfeIKUB++P7LMLNzddTEQnu5G0sOE9Asw4JZbSb/Xek7ce6oIgvRCsnh+fGZHIHJe0eguLsF4tAgRaZBD/NJbUn6vWRpD06oogYgAfpKazeSwMvEuEK+WkPie4UTqPrC4JUu52LYjvzQZdRcA052kLDXcR4LuaDemike3Z99y1W3trdUuQXuiKaeUEJlwFYGzt4Wy4CF40QBeOUbOLw5p53RPELMzbWuvWIxC5joBTw1qooOVFTOdFU9nrghaX2/GEgiDlLlcmPhNMj7gNkLA3AALd0m7yEctWhR2fEBEkcSaYrw97wQKTH/Nxcip3d2Di8SiQEBEkfj2YzvQIJ2G2LwJEd8vJ7HFhByY8BNGUeQAOD3vBApRfTlZ1JUDxeBJKeAiSTjwC4pmeoCSMbokAYZWc1EO/6UZoCJLXlKsJOF+0ZZ8QIHwkJ/WRPnmrmZvQEKSYVk5kwu01Q7LxHK+TVX1U2NMODUF6thESO6T41WIJr8lJfbxf7mrlJzQE4SVTRxTXrd9QKyAb0O8LsqrvF/a8Q0MQs1AFLb4EoKl+FI2IDzHXqDBoAhgTqPz38poVyQ//AF5nYKVEtJINXsnEKyXQnezTlBtmvi2Wyn3Xp1xr5iZkBElcB/A5PqCpyaqe6s/Pem3Kjp+gawKxNJ6JdgEwGoTRYG4p/x0YzcBoMn9n/psxAsCH5o6s5p8ErDUYa4nM3/FaQCrfIxhvMkkr2eh+baClq3lNOZ8AX87UYGB2TNVv8gHrmroIFUHWaMoUCXjBa0TNp0c0mTMPBArU1fn4lPFGV+kffgRlGHTomPbsk374qqWPUBFkUzdLeQiAh0cG859kNRfYBVuFtPIYCO0eN6qG+EhoYhg6guTTSpIImlcNxGA+b0wqF9hZrKvT8XiE6FkvNwU3vzdFVb0hDmYNHUFMYhQzibnMfJrbJCFgWcuGyNdo1tJAvy3Lp5VLiHCF2/n32HujaVjT5FHTXnjfI/uBMhtKgnw0f78dNlLXH1zexnQjGxSPtWf/HKgKDhBMIaM8Bvaiq8VnymruhnrAwI0YQ0mQnrHIEQDuAeDOdAjir8vJ3KNugO6XjUIm8TyY3fxW8Zys6g11MlhoCVImyfz4gYjQneChbYhNwAVRVb/Gr4btpp9iRlnEjOlu2CTi3aPJ3Otu2KoXG6EmiFmEnqMVflzNVHgCViOCo6Jt+tP1UtD+4ixoymUALh9KDqWSNHns4cuyQ7FRj7qhJ0hvUQrpxJkgng3gC3YKZX4pbpZ4zqhkx1/syAddZhNJzI33eAeHsb7aFKFZo9qyKxzqhUK8YQhiVotvbW3u3L4pxcTmd4LJfbczZfDfJGAeSHokmswuD0WFK5L46PHW7Td2RU4G4VgwdrXMj3H98Cb6+dZt2X9ZyoZUoKEI0reG+YdaWyJb0R5SJLJuI/CvMW1Zc1pHQ1zFjHIkM8yfPYjwOQCfY8afifAyCDmpKbKoZfrSlQ0BxiBJNjRBGr34In9rBARBrDESEg2MgCBIAxdfpG6NgCCINUZCooER+H/kWudQubvKQQAAAABJRU5ErkJggg==\"","/* eslint-disable */\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport { QueryPager } from 'tonva-react';\r\nimport { VPointSign, daysAndMultipleByWelfare } from './VPointSign';\r\nimport { VRevenueExpenditure } from '../VRevenueExpenditure';\r\n\r\nconst pointBase: number = 3; /* 积分基数 */\r\n\r\nexport class CSignIn extends CUqBase {\r\n    signinval: number = pointBase;         /* 签到可领积分 */\r\n    signinConsecutiveDays: number = 0;     /* 连续签到天数 */\r\n    isSignin: boolean = false;             /* 是否签到 */\r\n    signinPageHistory: QueryPager<any>;    /* 签到记录 */\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        makeObservable(this, {\r\n            signinval: observable,\r\n            signinConsecutiveDays: observable,\r\n            isSignin: observable,\r\n            signinPageHistory: observable\r\n        });\r\n    }\r\n\r\n    async internalStart(param?: any) { }\r\n\r\n    /**\r\n     * 签到   ------------------ 需调用连续签到天数 uq:this.getSigninConsecutiveDays --------------------\r\n     */\r\n    openPointSign = async () => {\r\n        await this.isSignined();\r\n        if (this.isSignin)\r\n            await this.addSigninSheet(47, this.signinval);\r\n        await this.getSigninConsecutiveDays();\r\n        this.openVPage(VPointSign);\r\n    }\r\n\r\n    /**\r\n    * 签到明细页面\r\n    */\r\n    openRevenueExpenditure = async (topic?: any) => {\r\n        await this.getSigninHistory();\r\n        this.openVPage(VRevenueExpenditure, topic)\r\n    }\r\n\r\n    /**\r\n     * 是否签到\r\n     */\r\n    isSignined = async () => {\r\n        let { currentUser } = this.cApp;\r\n        let { checkIsSignin } = this.uqs.积分商城;\r\n        let res = await checkIsSignin.obj({ customer: currentUser?.currentCustomer });\r\n        this.isSignin = res?.result === 0 ? true : false;\r\n    }\r\n\r\n    /**\r\n     * 签到添加积分到\r\n     */\r\n    addSigninSheet = async (customer: any, amount: any) => {\r\n        let { cPointProduct } = this.cApp;\r\n        let { Signin } = this.uqs.积分商城;\r\n        customer = this.cApp.currentUser.currentCustomer;\r\n        // customer = customer ? customer : this.user.id;\r\n        await Signin.submit({ webuser: this.user.id, customer: customer, amount: amount });\r\n        await cPointProduct.refreshMypoint();\r\n        // await this.getSigninConsecutiveDays();\r\n        // await this.getSigninHistory();\r\n        // await this.getPointHistory();\r\n\r\n        /**\r\n        let result: any = await SigninSheet.save(\"SigninSheet\", { customer: customer, amount: amount });\r\n        console.log(this.cApp.currentUser);\r\n        let { id, flow, state } = result;\r\n        await SigninSheet.action(id, flow, state, \"submit\");\r\n        await Signin.submit({ webbuser: 47, customer: 47, amount: 3 });\r\n        **/\r\n    }\r\n\r\n\r\n    /**\r\n     * 获取签到记录\r\n     */\r\n    getSigninHistory = async () => {\r\n        let { currentUser } = this.cApp;\r\n        this.signinPageHistory = new QueryPager(this.uqs.积分商城.GetPointSigninHistory, 15, 30);\r\n        this.signinPageHistory.first({ customer: currentUser?.currentCustomer });\r\n    }\r\n\r\n    /**\r\n     * 连续签到天数  webUser  ----------------------------需uq --------------------------------\r\n     */\r\n    getSigninConsecutiveDays = async () => {\r\n        // this.signinConsecutiveDays \r\n        await this.getSigninHistory();\r\n\r\n    }\r\n\r\n    /**\r\n     * 福利：连续签到 数倍积分（弃用）\r\n     */\r\n    /* multiplePointsWelfare = () => {\r\n        let arr = daysAndMultipleByWelfare;\r\n        if (this.IsSignin) this.signinConsecutiveDays += 1;\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (this.signinConsecutiveDays < arr[i].days) {\r\n                if (i === 0) this.signinval = pointBase;\r\n                else this.signinval = pointBase * arr[i - 1].multiple;\r\n                return arr[i];\r\n            } else if (this.signinConsecutiveDays >= arr[i].days && i === (arr.length - 1)) {\r\n                this.signinval = pointBase * arr[i].multiple;\r\n                return arr[i];\r\n            }\r\n        }\r\n    } */\r\n\r\n}\r\n","import { observable, autorun, IReactionDisposer, makeObservable, runInAction } from 'mobx';\r\nimport { TuidDiv, BoxId, Tuid } from 'tonva-react';\r\nimport { PackRow, Product } from './Product';\r\nimport { Store } from './store';\r\nimport { OrderItem } from 'order/Order';\r\n\r\nexport interface CartItem {\r\n    product: Product; // BoxId;\r\n    packs: CartPackRow[];\r\n    $isSelected?: boolean;\r\n    $isDeleted?: boolean;\r\n    createdate: number;\r\n}\r\n\r\nexport interface CartPackRow extends PackRow {\r\n    /**\r\n     * 销售成交价（在购物车中是目录价或市场活动价或协议价的最小值），订单中还会经过券的计算\r\n     */\r\n    price: number;\r\n\r\n    /**\r\n     * 订单中的初始销售成交价（订单中应用折扣券之前的价格）\r\n     */\r\n    priceInit?: number;\r\n    /**\r\n     * 订单中目录价\r\n     */\r\n    retail: number;\r\n    currency: any;\r\n}\r\n\r\nexport class Cart {\r\n    private store: Store;\r\n    private cartData: any;\r\n    private cartStore: CartStore;\r\n    private disposer: IReactionDisposer;\r\n\r\n    /*\r\n    @observable data: any = {\r\n        list: observable<CartItem>([]),\r\n    };\r\n    */\r\n    cartItems: CartItem[];\r\n    count = 0; //observable.box<number>(0);\r\n    amount = 0; //= observable.box<number>(0);\r\n    constructor(store: Store) {\r\n        makeObservable(this, {\r\n            cartItems: observable,\r\n            count: observable,\r\n            amount: observable\r\n        });\r\n\r\n        //this.cApp = cApp;\r\n        //this.cartItems = this.data.list;\r\n        this.store = store;\r\n        this.disposer = autorun(this.calcSum);\r\n    }\r\n\r\n    dispose() {\r\n        this.disposer();\r\n    }\r\n\r\n    private calcSum = () => {\r\n        if (!this.cartItems) return;\r\n        let count = 0, amount = 0;\r\n        for (let cp of this.cartItems) {\r\n            let { $isSelected, $isDeleted, packs } = cp;\r\n            if ($isDeleted === true || !($isSelected === true)) continue;\r\n            for (let pi of packs) {\r\n                let { price, quantity } = pi;\r\n                count += quantity;\r\n                if (price === Number.NaN || quantity === Number.NaN) continue;\r\n                amount += quantity * price;\r\n            }\r\n        }\r\n        this.count = count;\r\n        this.amount = parseFloat(amount.toFixed(2));\r\n    }\r\n\r\n    async init(): Promise<void> {\r\n        let { isLogined } = this.store;\r\n        if (isLogined)\r\n            this.cartStore = new CartRemote(this.store);\r\n        else\r\n            this.cartStore = new CartLocal(this.store);\r\n        let cartData = await this.cartStore.load();\r\n        this.cartItems = await this.buildItem2(cartData);\r\n        this.calcSum();\r\n    }\r\n\r\n    againOrderCart = (data: CartItem[]) => {\r\n        this.cartItems.forEach((v: any) => v.$isSelected = false);\r\n        data.forEach((v: any) => {\r\n            let findRepeatData = this.cartItems.findIndex((i: any) => Tuid.equ(v.product, i.product) && Tuid.equ(v.packs[0].pack, i.packs[0].pack));\r\n            if (findRepeatData > -1) {\r\n                v.packs[0].quantity = v.packs[0].quantity + this.cartItems[findRepeatData].packs[0].quantity;\r\n                this.cartItems.splice(findRepeatData, 1);\r\n            };\r\n        });\r\n        this.cartItems = [...data, ...this.cartItems];\r\n        this.calcSum();\r\n    }\r\n\r\n    /**\r\n     * 合并购物车数据\r\n     * @param cartData \r\n     * @returns \r\n     */\r\n    async mergeFromRemote() {\r\n        let { isLogined } = this.store;\r\n        if (!isLogined)\r\n            return;\r\n        this.cartStore = new CartRemote(this.store);\r\n        let cartData = await this.cartStore.load();\r\n        if (!cartData) return;\r\n        let cartItems = await this.buildItem2(cartData);\r\n        if (!(this.cartItems) || this.cartItems.length === 0) {\r\n            this.cartItems = cartItems;\r\n            return;\r\n        }\r\n\r\n        for (let i = 0; i < this.cartItems.length; i++) {\r\n            const e = this.cartItems[i];\r\n            let { product, packs } = e;\r\n            let { pack, quantity, price, currency } = packs[0];\r\n            let cartItemExists = cartItems.find((ci) => Tuid.equ(product, ci.product) && Tuid.equ(pack, ci.packs[0].pack));\r\n            if (!cartItemExists)\r\n                await this.cartStore.storeCart(product, pack, quantity, price, currency);\r\n        }\r\n        cartItems.forEach(e => {\r\n            let { product, packs } = e;\r\n            let { pack } = packs[0];\r\n            let cartItemExists = this.cartItems.find((ci) => Tuid.equ(product, ci.product) && Tuid.equ(pack, ci.packs[0].pack));\r\n            if (!cartItemExists) {\r\n                this.cartItems.push(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 填充购物车中相关产品的具体信息 \r\n     * @param cartData \r\n     * @returns \r\n     */\r\n    private async buildItem2(cartData: any[]): Promise<CartItem[]> {\r\n        let { uqs, currentSalesRegion } = this.store;\r\n        // 初始化购物车中产品的目录价\r\n        let { product } = uqs;\r\n        let { PriceX } = product;\r\n        let promises: PromiseLike<void>[] = [];\r\n        cartData.forEach((e: any) => promises.push(PriceX.obj({ product: e.product, pack: e.pack, salesRegion: currentSalesRegion })));\r\n        let prices = await Promise.all(promises);\r\n        for (let index = cartData.length - 1; index >= 0; index--) {\r\n            let e: any = cartData[index];\r\n            let priceMap: any = prices.find((v: any) => {\r\n                if (!v) return false;\r\n                return Tuid.equ(v.product, e.product)\r\n                    && Tuid.equ(v.pack, e.pack)\r\n                    && v.discountinued === 0\r\n                    && v.expireDate > Date.now()\r\n            });\r\n            if (priceMap && priceMap.retail) {\r\n                e.retail = priceMap.retail;\r\n            } else {\r\n                cartData.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        // let cartDataGrouped = groupByProduct(cartData);\r\n        let productPromises: Promise<any>[] = [];\r\n        let cartItems: CartItem[] = [];\r\n        if (cartData && cartData.length) {\r\n            for (let key of cartData) {\r\n                let { product: productId, pack, quantity, price, retail, currency, createdate } = key;\r\n                let product = this.store.getProduct(productId);\r\n                productPromises.push(product.loadListItem());\r\n                cartItems.push({\r\n                    product: product,\r\n                    packs: [{ pack: pack, quantity: quantity, price: price, retail: retail, currency: typeof currency === 'number' ? currency : currency?.id }],\r\n                    $isSelected: true,\r\n                    $isDeleted: false,\r\n                    createdate: createdate,\r\n                });\r\n            };\r\n        };\r\n        await Promise.all(productPromises);\r\n        return cartItems;\r\n    }\r\n\r\n    async buildItems() {\r\n        if (this.cartItems) return;\r\n        this.cartItems = await this.buildItem2(this.cartData);\r\n        delete this.cartData;\r\n    }\r\n\r\n    /*\r\n    private mergeToRemote(localItems: any[]) {\r\n        let originLength = localItems.length;\r\n        let nowLength = this.items.length;\r\n        if (originLength > 0) {\r\n            if (nowLength > 0) {\r\n                // 合并，谁覆盖谁？\r\n                for (let i = 0; i < originLength; i++) {\r\n                    let { product: tempProduct, pack: tempPack } = localItems[i];\r\n                    let cartItemExits = this.items.find(v => v.product === tempProduct && v.pack === tempPack);\r\n                    if (cartItemExits) {\r\n                        // 如果本地购物车中的产品已经过期，则要删除\r\n                    } else {\r\n                        this.items.push(localItems[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                this.items.push(...localItems);\r\n            }\r\n            // 保存到远程\r\n        }\r\n    }\r\n    */\r\n\r\n    getQuantity(productId: number, packId: number): number {\r\n        if (!this.cartItems) return 0;\r\n        let cps = this.cartItems.filter(v => v.$isDeleted !== true && Tuid.equ(v.product, productId));\r\n        if (!cps.length) return 0;\r\n        let cpp = cps.find((v => v.packs[0].pack.id === packId));\r\n        return cpp === undefined ? 0 : cpp.packs[0].quantity;\r\n        /* if (!cp) return 0;\r\n        let cpp = cp.packs.find(v => v.pack.id === packId);\r\n        return cpp === undefined ? 0 : cpp.quantity; */\r\n    }\r\n\r\n    isDeleted(productId: number): boolean {\r\n        let i = this.cartItems.findIndex(v => v.$isDeleted === true && Tuid.equ(v.product, productId));\r\n        return i !== -1;\r\n    }\r\n\r\n    getSelectedItems(): CartItem[] {\r\n        return this.cartItems.filter(v => {\r\n            let { $isSelected, $isDeleted } = v;\r\n            return $isSelected === true && $isDeleted !== true;\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    private async add(product: Product/*BoxId*/, pack: BoxId, quantity: number, price: number, retail: number, currency: any) {\r\n        let cartItemExists = this.cartItems.find((e) => Tuid.equ(e.product, product) && Tuid.equ(e.packs[0].pack, pack));\r\n        if (!cartItemExists) {\r\n            this.cartItems.push({\r\n                product: product,\r\n                packs: [{ pack: pack, quantity: quantity, price: price, retail: retail, currency: currency }],\r\n                $isSelected: true,\r\n                $isDeleted: false,\r\n                createdate: Date.now()\r\n            });\r\n        }\r\n        else {\r\n            let { $isDeleted, packs } = cartItemExists;\r\n            if ($isDeleted === true) packs.splice(0);\r\n\r\n            let packExists: CartPackRow = packs.find(e => Tuid.equ(e.pack, pack));\r\n            packExists.quantity = quantity;\r\n            packExists.price = price;\r\n            packExists.currency = currency;\r\n\r\n            cartItemExists.$isSelected = true;\r\n            cartItemExists.$isDeleted = false;\r\n            cartItemExists.createdate = Date.now();\r\n        }\r\n\r\n        await this.cartStore.storeCart(product, pack, quantity, price, currency);\r\n    }\r\n    removeStrike = async (data: any) => {\r\n        console.log(data);\r\n        // data.forEach((el: CartItem2) => {\r\n        //     el.packs.forEach(async (v: any) => {\r\n        //         await this.cartStore.storeCart(el.product, v.pack, v.quantity, v.price, v.currency);\r\n        //     })\r\n        // });\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param rows\r\n     */\r\n    async removeItem(rows: [{ productId: number, packId: number }]) {\r\n        if (rows && rows.length > 0) {\r\n            rows.forEach(pe => {\r\n                let cartItemIndex = this.cartItems.findIndex(e => Tuid.equ(e.product, pe.productId)\r\n                    && Tuid.equ(e.packs[0].pack, pe.packId));\r\n                if (cartItemIndex >= 0) {\r\n                    let cartItem = this.cartItems[cartItemIndex];\r\n                    let i = cartItem.packs.findIndex(e => e.pack.id === pe.packId)\r\n                    if (i >= 0) {\r\n                        cartItem.packs.splice(i, 1);\r\n                        if (cartItem.packs.length === 0) {\r\n                            this.cartItems.splice(cartItemIndex, 1);\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            this.cartStore.removeFromCart(rows);\r\n        }\r\n    }\r\n\r\n    async changeQuantity(product: Product, pack: BoxId, quantity: number, price: number, retail: number, currency: any) {\r\n        if (quantity > 0)\r\n            await this.add(product, pack, quantity, price, retail, currency);\r\n        else\r\n            await this.removeItem([{ productId: product.id, packId: pack.id }]);\r\n    }\r\n\r\n\r\n    againCreatOrder = async (initialData: OrderItem[]) => {\r\n        let { uqs, currentSalesRegion } = this.store;\r\n        let { product: p } = uqs;\r\n        let { PriceX } = p;\r\n        let promises: PromiseLike<void>[] = [];\r\n        initialData.forEach((e: any) => e.packs.forEach((v: any) => {\r\n            promises.push(PriceX.obj({ product: e.product, pack: v.pack, salesRegion: currentSalesRegion }))\r\n        }));\r\n        let prices: any[] = await Promise.all(promises);\r\n        let orderData: CartItem[] = [];\r\n        let productPromises: Promise<any>[] = [];\r\n        for (let key of initialData) {\r\n            let { product, packs } = key;\r\n            let filtPacksByProductId = prices.filter((v: any) => Tuid.equ(v.product, product) && v.discountinued === 0 && v.expireDate > Date.now());\r\n            if (!filtPacksByProductId.length) continue;\r\n            for (let i of packs) {\r\n                let findPack = filtPacksByProductId.find((v: any) => Tuid.equ(v.pack, i.pack));\r\n                if (!findPack) continue;\r\n                product = this.store.getProduct(product.id);\r\n                productPromises.push(product.loadListItem());\r\n                orderData.push({\r\n                    product: product,\r\n                    packs: [{ pack: i.pack, quantity: i.quantity || 1, price: findPack.retail, retail: findPack.retail, currency: findPack.salesRegion?.obj?.currency }],\r\n                    $isSelected: true,\r\n                    $isDeleted: false,\r\n                    createdate: Date.now()\r\n                })\r\n            };\r\n        };\r\n        await Promise.all(productPromises);\r\n        orderData.forEach((v: any) => {\r\n            let newPrices: any[] = v.product?.prices || [];\r\n            let findPack = newPrices.find((i: any) => Tuid.equ(i.pack, v.packs[0].pack));\r\n            if (findPack) {\r\n                let { vipPrice, promotionPrice } = findPack;\r\n                v.packs[0].price = this.minPrice(vipPrice, promotionPrice) || v.packs[0].price;\r\n            };\r\n        });\r\n        this.againOrderCart(orderData);\r\n        //nav.navigate('/cart');\r\n    }\r\n\r\n    private minPrice(vipPrice: any, promotionPrice: any) {\r\n        if (vipPrice || promotionPrice)\r\n            return Math.min(typeof (vipPrice) === 'number' ? vipPrice : Infinity, typeof (promotionPrice) === 'number' ? promotionPrice : Infinity);\r\n    }\r\n\r\n    /*\r\n    setDeletedMark(productId: number, packId: number) {\r\n        let cp = this.items.find(v => v.$isDeleted !== true && v.product === productId && v.pack === packId);\r\n        if (cp !== undefined)\r\n            cp.$isDeleted = true;\r\n    }\r\n\r\n    async removeDeletedItem() {\r\n        let rows: { product: number, packItem: CartPackRow }[] = [];\r\n        for (let cp of this.items) {\r\n            let { quantity, $isDeleted } = cp;\r\n            if ($isDeleted === true || quantity === 0) {\r\n                // TODO:\r\n            }\r\n        }\r\n        if (rows.length === 0) return;\r\n        await this.cartStore.removeFromCart(rows);\r\n\r\n        // 下面是从本地数据结构中删除\r\n        for (let cp of this.items) {\r\n            let { packs } = cp;\r\n            let packIndexes: number[] = [];\r\n            let len = packs.length;\r\n            for (let i = 0; i < len; i++) {\r\n                if (packs[i].quantity === 0) packIndexes.push(i);\r\n            }\r\n            for (let i = packIndexes.length - 1; i >= 0; i--) packs.splice(packIndexes[i], 1);\r\n        }\r\n\r\n        let itemIndexes: number[] = [];\r\n        let len = this.items.length;\r\n        for (let i = 0; i < len; i++) {\r\n            let { $isDeleted, packs } = this.items[i];\r\n            if ($isDeleted === true || packs.length === 0) itemIndexes.push(i);\r\n        }\r\n        for (let i = itemIndexes.length - 1; i >= 0; i--) this.items.splice(itemIndexes[i], 1);\r\n    }\r\n\r\n    async clear() {\r\n        this.items.forEach(v => v.$isDeleted = true);\r\n        await this.removeDeletedItem();\r\n    }\r\n    */\r\n\r\n}\r\n\r\nabstract class CartStore {\r\n\r\n    protected store: Store;\r\n    constructor(store: Store) {\r\n        this.store = store;\r\n    }\r\n    //abstract get isLocal(): boolean;\r\n    abstract load(): Promise<CartItem[]>;\r\n    abstract storeCart(product: Product, pack: BoxId, quantity: number, price: number, currency: any): Promise<void>;\r\n    abstract removeFromCart(rows: [{ productId: number, packId: number }]): Promise<void>;\r\n}\r\n\r\nclass CartRemote extends CartStore {\r\n    //private getCartQuery: Query;\r\n    //private setCartAction: Action;\r\n    //private removeFromCartAction: Action;\r\n\r\n    //get isLocal(): boolean { return false }\r\n\r\n    /*\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n\r\n        let { cUqOrder } = this.cApp;\r\n        this.getCartQuery = cUqOrder.query('getcart')\r\n        this.setCartAction = cUqOrder.action('setcart');\r\n        this.removeFromCartAction = cUqOrder.action('removefromcart');\r\n    }\r\n    */\r\n\r\n    async load(): Promise<CartItem[]> {\r\n        let ret = await this.store.uqs.order.GetCart.page(undefined, 0, 100);\r\n        return ret && ret.$page && ret.$page.filter((v: any) => v.product && v.pack) as any;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param product\r\n     * @param pack\r\n     * @param quantity\r\n     * @param price\r\n     * @param currency\r\n     */\r\n    async storeCart(product: Product, pack: BoxId, quantity: number, price: number, currency: any) {\r\n        await this.store.uqs.order.SetCart.submit({\r\n            product,\r\n            pack: pack.id,\r\n            price: price,\r\n            currency: currency,\r\n            quantity: quantity\r\n        });\r\n    }\r\n\r\n    async removeFromCart(rows: [{ productId: number, packId: number }]) {\r\n        let param = rows.map(e => { return { product: e.productId, pack: e.packId } });\r\n        await this.store.uqs.order.RemoveFromCart.submit({ rows: param });\r\n    }\r\n}\r\n\r\nexport const LOCALCARTNAME: string = \"cart\";\r\nclass CartLocal extends CartStore {\r\n\r\n    private cartData: any[] = [];\r\n    private productTuid: Tuid;\r\n    private packTuid: TuidDiv;\r\n    constructor(store: Store) {\r\n        super(store);\r\n\r\n        this.productTuid = this.store.uqs.product.ProductX;\r\n        this.packTuid = this.productTuid.div('packx');\r\n    }\r\n\r\n    //get isLocal(): boolean { return true }\r\n\r\n    async load(): Promise<CartItem[]> {\r\n        try {\r\n            let cartstring = localStorage.getItem(LOCALCARTNAME);\r\n            if (cartstring === null) return [];\r\n            this.cartData = JSON.parse(cartstring);\r\n            let cartDataBoxed = [];\r\n            for (let i = 0; i < this.cartData.length; i++) {\r\n                let { product, pack, quantity, price, currency } = this.cartData[i];\r\n                if (product && pack) {\r\n                    let productbox = this.productTuid.boxId(product);\r\n                    let packbox = this.packTuid.boxId(pack);\r\n                    cartDataBoxed.push({\r\n                        product: productbox,\r\n                        pack: packbox,\r\n                        quantity: quantity,\r\n                        price: price,\r\n                        currency: currency\r\n                    } as any)\r\n                }\r\n            }\r\n            return cartDataBoxed;\r\n        }\r\n        catch (e) {\r\n            localStorage.removeItem(LOCALCARTNAME);\r\n            this.cartData = [];\r\n            return this.cartData;\r\n        }\r\n    }\r\n\r\n    async storeCart(product: Product, pack: BoxId, quantity: number, price: number, currency: any) {\r\n        let cartItemExists = this.cartData.find(e => {\r\n            if (!e) return false;\r\n            return Tuid.equ(e.product, product) && TuidDiv.equ(e.pack, pack);\r\n        });\r\n        if (cartItemExists !== undefined) {\r\n            cartItemExists.quantity = quantity;\r\n            cartItemExists.price = price;\r\n            cartItemExists.currency = typeof currency === 'number' ? currency : currency?.id\r\n        } else\r\n            this.cartData.push({ product: product.id, pack: pack.id, quantity: quantity, price: price, currency: typeof currency === 'number' ? currency : currency?.id });\r\n        localStorage.setItem(LOCALCARTNAME, JSON.stringify(this.cartData));\r\n    }\r\n\r\n    async removeFromCart(rows: [{ productId: number, packId: number }]) {\r\n\r\n        rows.forEach(e => {\r\n            let i = this.cartData.findIndex(v => v.product = e.productId && v.pack === e.packId);\r\n            if (i >= 0)\r\n                this.cartData.splice(i, 1);\r\n        })\r\n        localStorage.setItem(LOCALCARTNAME, JSON.stringify(this.cartData));\r\n    }\r\n}","import { GLOABLE } from 'global';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport moment from 'moment';\r\nimport { BoxId } from 'tonva-react';\r\nimport { MainBrand, Chemical } from './model';\r\nimport { UQs } from 'uq-app';\r\nimport { Store } from './store';\r\n\r\nexport interface InventoryAllocation {\r\n\twarehouse: BoxId;\r\n\tquantity: number;\r\n\tdeliveryTimeDescription: string;\r\n}\r\n\r\nexport interface PackRow {\r\n\tpack: BoxId;\r\n\tquantity: number;\r\n}\r\n\r\nexport interface ProductPackRow extends PackRow {\r\n\tretail: number;\r\n\tvipPrice?: number;\r\n\tpromotionPrice?: number;\r\n\tcurrency: BoxId;\r\n\tinventoryAllocation: InventoryAllocation[];\r\n}\r\n\r\nexport interface ProductProps {\r\n\tid: BoxId; \t\t\t\t// {id: 525, tuid: TuidInner, ui: ƒ, isUndefined: false}\r\n\torigin: string;\r\n\tdescription: string;\r\n\tdescriptionC: string;\r\n\timageUrl: string;\r\n\tbrand: BoxId;\r\n\tCAS: string; \t\t\t\t// '50525-27-4'\r\n\tchemical: BoxId; \t\t\t// ReactBoxId {id: 2030, tuid: TuidInner, ui: undefined, isUndefined: false}\r\n\tmolecularWeight: string; \t//'748.63'\r\n\tmolecularFomula: string;\r\n\tno: string; //\t\t\t\t// 'A01102033'\r\n\tpurity: string; \t\t\t// '98%'\r\n\tmdlnumber?: string;\r\n\t// seq: number;\r\n}\r\n\r\nexport class Product {\r\n\tprivate uqs: UQs;\r\n\tprivate store: Store;\r\n\r\n\tid: number;\r\n\tprops: ProductProps;\r\n\r\n\tbrand: MainBrand;\t/* 品牌 */\r\n\tchemical: Chemical;\t/* 化学属性 */\r\n\tfavorite: boolean;\t\t/* 是否收藏 */\r\n\twarnings: any[] = [];\t/* 警示：危化品、夏东季禁运等 */\r\n\textention: any;\t\t\t/* 基本信息、安全信息 */\r\n\tstandardSample: any;\t/* 标样信息 */\r\n\tproductCrumbs: any[] = [];\t/* 产品目录 */\r\n\tdescriptionPost: any;\t/* 产品描述 */\r\n\tpacks: ProductPackRow[];\t/* 销售包装 */\r\n\tprices: any[];\t\t\t\t// 包含价格和折扣信息\r\n\tfutureDeliveryTimeDescription: string;\r\n\tproductDocs: any = { msds: false, spec: false, coa: false, um: false };\r\n\t// @observable MSDSFiles: any;\r\n\t// @observable specFiles: any;\r\n\t// @observable data: any;\r\n\tdiscount: any;\r\n\r\n\tconstructor(store: Store, id: number | BoxId) {\r\n\t\tmakeObservable(this, {\r\n\t\t\tprops: observable.ref,\r\n\t\t\tbrand: observable.ref,\r\n\t\t\tchemical: observable.ref,\r\n\t\t\tfavorite: observable,\r\n\t\t\twarnings: observable,\r\n\t\t\textention: observable,\r\n\t\t\tstandardSample: observable,\r\n\t\t\tproductCrumbs: observable,\r\n\t\t\tdescriptionPost: observable,\r\n\t\t\tpacks: observable.shallow,\r\n\t\t\tprices: observable,\r\n\t\t\tfutureDeliveryTimeDescription: observable,\r\n\t\t\tproductDocs: observable,\r\n\t\t\tdiscount: observable\r\n\t\t});\r\n\t\tthis.uqs = store.uqs;\r\n\t\tthis.store = store;\r\n\t\tthis.id = typeof id === 'object' ? id.id : id;\r\n\t}\r\n\r\n\tgetInventoryAllocation(packId: number): InventoryAllocation[] {\r\n\t\t// return undefined;\r\n\t\tif (this.packs === undefined) return undefined;\r\n\t\tlet pack = this.packs.find(v => v.pack.id === packId);\r\n\t\tif (!pack) return undefined;\r\n\t\treturn pack.inventoryAllocation;\r\n\t}\r\n\r\n\tasync loadDetail() {\r\n\t\tthis.discount = 0;\r\n\t\tawait this.loadBase();\r\n\t\tawait this.loadBrand();\r\n\t\tlet promises: PromiseLike<any>[] = [\r\n\t\t\tthis.loadChemical(),\r\n\t\t\tthis.loadFavorite(),\r\n\t\t\tthis.loadPrices(),\r\n\t\t\tthis.loadMSDSFile(),\r\n\t\t\tthis.loadSpecFile(),\r\n\t\t\tthis.loadCOAFile(),\r\n\t\t\tthis.loadUserManualFile(),\r\n\t\t\tthis.loadFDTimeDescription(),\r\n\t\t\tthis.getProductExtention(),\r\n\t\t\tthis.loadDescriptionPost(),\r\n\t\t\tthis.loadProductCrumbs(),\r\n\t\t\tthis.loadStandardSample()\r\n\t\t];\r\n\t\tawait Promise.all(promises);\r\n\t\tawait this.loadProductWarnings();\r\n\t}\r\n\r\n\tasync loadListItem() {\r\n\t\tawait this.loadBase();\r\n\t\tawait this.loadBrand();\r\n\t\tlet promises: PromiseLike<any>[] = [\r\n\t\t\tthis.loadChemical(),\r\n\t\t\tthis.loadFavorite(),\r\n\t\t\tthis.loadPrices(),\r\n\t\t\tthis.loadFDTimeDescription()\r\n\t\t];\r\n\t\tawait Promise.all(promises);\r\n\t}\r\n\r\n\tasync loadBase() {\r\n\t\tif (this.props) return;\r\n\t\tlet { currentSalesRegion } = this.store;\r\n\t\tlet ret = await this.uqs.product.GetAvailableProductById.obj({ product: this.id, salesRegion: currentSalesRegion });\r\n\t\t// let ret = await this.uqs.product.ProductX.load(this.id);\r\n\t\tthis.props = ret;\r\n\t}\r\n\r\n\tprivate async loadBrand() {\r\n\t\tif (this.brand) return;\r\n\t\tlet ret = await this.uqs.product.Brand.load(this.props?.brand?.id);\r\n\t\tthis.brand = ret;\r\n\t}\r\n\r\n\tprivate async loadChemical() {\r\n\t\tif (this.chemical) return;\r\n\t\tlet ret = await this.uqs.product.ProductChemical.obj({ product: this.id });\r\n\t\tthis.chemical = ret;\r\n\t}\r\n\r\n\tasync loadFavorite() {\r\n\t\tif (this.favorite !== undefined) return;\r\n\t\tlet ret = await this.uqs.webuser.myFavorites.obj({ webUser: this.store.currentUser, product: this.id });\r\n\t\tthis.favorite = (ret !== undefined);\r\n\t}\r\n\r\n\t/**\r\n\t * 获取产品MSDS文件(是否存在)\r\n\t */\r\n\tprivate async loadMSDSFile() {\r\n\t\tlet productMSDSFiles = await this.uqs.product.ProductMSDSFile.table({ product: this.id });\r\n\t\tthis.productDocs.msds = productMSDSFiles.length ? true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取产品Spec文件(是否存在)\r\n\t */\r\n\tprivate async loadSpecFile() {\r\n\t\tlet specFiles = await this.uqs.product.ProductSpecFile.table({ product: this.id });\r\n\t\tthis.productDocs.spec = specFiles.length ? true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取产品COA(是否存在)\r\n\t */\r\n\tprivate async loadCOAFile() {\r\n\t\tlet coaFile = await this.uqs.product.getProductLotNumber.table({ product: this.id });\r\n\t\tthis.productDocs.coa = coaFile.length ? true : false;\r\n\t}\r\n\r\n\t/**\r\n\t * 获取用户手册(是否存在)\r\n\t */\r\n\tprivate async loadUserManualFile() {\r\n\t\tlet userManualFile = await this.uqs.product.ProductUserManualFile.table({ product: this.id });\r\n\t\tthis.productDocs.um = userManualFile.length ? true : false;\r\n\t}\r\n\r\n\tprivate async loadPrices() {\r\n\t\tlet { customerDiscount, product, promotion, warehouse } = this.uqs;\r\n\t\tlet discount = 0;\r\n\t\tlet { currentUser, currentSalesRegion, cart, currentLanguage } = this.store;\r\n\t\t//线上客户是否是线下客户 协议折扣  discount\r\n\t\tif (currentUser) {\r\n\t\t\tif (currentUser.hasCustomer) {\r\n\t\t\t\tlet { Discounts } = currentUser?.currentCustomer;\r\n\t\t\t\tlet discountSetting = Discounts.find((el: any) => el.brand?.id === this.brand?.id);\r\n\t\t\t\tif (discountSetting && discountSetting.discount)\r\n\t\t\t\t\tdiscount = discountSetting.discount;\r\n\t\t\t};\r\n\t\t\t/* if (currentUser.hasCustomer) {\r\n\t\t\t\tlet discountSetting = await customerDiscount.GetDiscount.obj({ brand: this.brand?.id, customer: currentUser?.currentCustomer });\r\n\t\t\t\tif (discountSetting && discountSetting.discount)\r\n\t\t\t\t\tdiscount = discountSetting.discount;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (currentUser.currentCustomer.Organization) {\r\n\t\t\t\t\t\tdiscountSetting = await customerDiscount.GetDiscountByOrganization.obj({ brand: this.brand?.id, organization: currentUser.currentCustomer.Organization });\r\n\t\t\t\t\t\tif (discountSetting && discountSetting.discount) discount = discountSetting.discount;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} */\r\n\r\n\t\t\t// 协议客户与vip客户不同存\r\n\t\t\tif (currentUser.webUserVIPCard !== undefined) {\r\n\t\t\t\tlet brandDiscounts = currentUser.VIPDiscount;\r\n\t\t\t\tlet brandDiscount = brandDiscounts.find((e: any) => e.brand.id === this.brand?.id);\r\n\t\t\t\t// 协议与vip折扣比较 取其大值  (两者不可同存)\r\n\t\t\t\tif (brandDiscount && brandDiscount.discount > discount)\r\n\t\t\t\t\tdiscount = brandDiscount && brandDiscount.discount;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// let { id: currentSalesRegionId } = currentSalesRegion;\r\n\t\tlet prices: any[] = await this.getProductPacks();\r\n\t\tthis.prices = prices.sort((a, b) => a.retail - b.retail).map(element => {\r\n\t\t\tlet ret: any = {};\r\n\t\t\tret.pack = element.pack;\r\n\t\t\tret.retail = element.retail;\r\n\t\t\tif (discount !== 0)\r\n\t\t\t\tret.vipPrice = Math.round(element.retail * (1 - discount));\r\n\t\t\tret.currency = currentSalesRegion.currency;\r\n\t\t\tif (cart) {\r\n\t\t\t\tret.quantity = cart.getQuantity(this.id, element.pack.id)\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t});\r\n\r\n\t\tlet promises: PromiseLike<any>[] = [];\r\n\t\tlet promises1: PromiseLike<any>[] = [];\r\n\t\tthis.prices.forEach(v => {\r\n\t\t\tpromises.push(promotion.GetPromotionPack.obj({ product: this.id, pack: v.pack, salesRegion: currentSalesRegion, language: currentLanguage }));\r\n\t\t\tpromises1.push(warehouse.GetInventoryAllocation.table({ product: this.id, pack: v.pack, salesRegion: currentSalesRegion }));\r\n\t\t});\r\n\t\tlet results = await Promise.all(promises);\r\n\t\tlet results2 = await Promise.all(promises1);\r\n\r\n\t\tlet newPacks = [];\r\n\t\tfor (let i = 0; i < this.prices.length; i++) {\r\n\t\t\tlet inventoryAllocation = results2.find((v: any[]) => {\r\n\t\t\t\tlet res = v.filter((j: any) => j.pack.id === this.prices[i].pack.id);\r\n\t\t\t\treturn res.length;\r\n\t\t\t});\r\n\t\t\tnewPacks.push({ ...this.prices[i], inventoryAllocation: inventoryAllocation })\r\n\r\n\t\t\tlet price = this.prices[i];\r\n\t\t\tlet promotion = results[i];\r\n\t\t\tlet discount = promotion && promotion.discount;\r\n\t\t\tif (discount)\r\n\t\t\t\tprice.promotionPrice = Math.round((1 - discount) * price.retail);\r\n\t\t}\r\n\t\tthis.packs = newPacks;\r\n\t}\r\n\r\n\tasync loadPacks(param: any) {\r\n\t\tlet { currentSalesRegion } = this.store;\r\n\t\tlet { pack, quantity, retail, currency } = param;\r\n\t\tlet inventoryAllocation = await this.uqs.warehouse.GetInventoryAllocation.table({ product: this.id, pack: pack, salesRegion: currentSalesRegion });\r\n\t\tthis.packs = [{ pack, quantity, retail, currency, inventoryAllocation }];\r\n\t}\r\n\r\n\tprivate async addProductFavorites(pack?: any) {\r\n\t\tlet { currentUser } = this.store;\r\n\t\tlet createDate = moment().format('YYYY-MM-DD HH:mm:ss');\r\n\t\tawait this.uqs.webuser.myFavorites.add({ webUser: currentUser, product: this.id, arr1: [{ pack: 0, date: createDate }] });\r\n\t\tthis.favorite = true;\r\n\t}\r\n\r\n\tprivate async delProductFavorites(pack?: any) {\r\n\t\tlet { currentUser } = this.store;\r\n\t\tawait this.uqs.webuser.myFavorites.del({ webUser: currentUser, product: this.id, arr1: [{ pack: 0 }] });\r\n\t\tthis.favorite = false;\r\n\t}\r\n\r\n\tgetProductPacks = async () => {\r\n\t\tlet { product } = this.uqs;\r\n\t\tlet { currentSalesRegion } = this.store;\r\n\t\tlet { id: currentSalesRegionId } = currentSalesRegion;\r\n\t\t// let pricex2 = await product.PriceX.table({ product: this.id, salesRegion: currentSalesRegionId });\r\n\t\tlet pricex = await product.GetProductPrices.table({ product: this.id, salesRegion: currentSalesRegionId });\r\n\t\treturn pricex.filter(e => e.discountinued === 0 && e.expireDate > Date.now() && e.salesLevel?.id === 1);\r\n\t}\r\n\r\n\tfavoriteOrCancel = async (pack?: any) => {\r\n\t\tawait this.loadFavorite();\r\n\t\tif (this.favorite === true) {\r\n\t\t\tawait this.delProductFavorites();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tawait this.addProductFavorites();\r\n\t\t}\r\n\t}\r\n\r\n\tgetProductAndDiscount = async (productId: BoxId) => {\r\n\t\tlet product = await this.uqs.product.ProductX.load(productId);\r\n\t\tlet discount = 0;\r\n\t\tlet { currentUser } = this.store;\r\n\t\tif (currentUser.hasCustomer) {\r\n\t\t\tlet discountSetting = await this.uqs.customerDiscount.GetDiscount.obj({ brand: product.brand.id, customer: currentUser.currentCustomer });\r\n\t\t\tdiscount = discountSetting && discountSetting.discount;\r\n\t\t}\r\n\t\treturn { product: product, discount: discount };\r\n\t}\r\n\r\n\tgetProductExtention = async () => {\r\n\t\tif (this.extention) return;\r\n\t\tlet extention = await this.uqs.product.ProductExtention.obj({ product: this.id });\r\n\t\tthis.extention = extention?.content;\r\n\t}\r\n\r\n\tloadDescriptionPost = async () => {\r\n\t\tif (this.descriptionPost) return;\r\n\t\tlet result = await window.fetch(GLOABLE.CONTENTSITE + '/partial/productapplication/' + this.id);\r\n\t\tif (result.ok) {\r\n\t\t\tlet content = await result.text();\r\n\t\t\tthis.descriptionPost = content;\r\n\t\t};\r\n\t}\r\n\r\n\tloadStandardSample = async () => {\r\n\t\tlet standardSample: any = await this.uqs.product.Productstandardsample.obj({ product: this.id });\r\n\t\tthis.standardSample = standardSample ? JSON.parse(standardSample.content.replace(/\\t\\n\\r*/g, \"\")) : undefined;\r\n\t}\r\n\r\n\tloadProductCrumbs = async () => {\r\n\t\tlet { ProductProductCategory, ProductCategory } = this.uqs.product;\r\n\t\tlet arr: any[] = [];\r\n\t\tlet getProductCategorys: any[] = await ProductProductCategory.table({ product: this.id });\r\n\t\tif (getProductCategorys.length) {\r\n\t\t\tlet promise: PromiseLike<any>[] = [];\r\n\t\t\tfor (let key of getProductCategorys) {\r\n\t\t\t\tpromise.push(ProductCategory.load(key?.category));\r\n\t\t\t};\r\n\t\t\tlet result: any[] = await Promise.all(promise);\r\n\t\t\tif (result.length) {\r\n\t\t\t\tlet value: any;\r\n\t\t\t\tfor (let key of result) {\r\n\t\t\t\t\tlet keyArr: any[] = [];\r\n\t\t\t\t\tkeyArr.unshift(key.productcategorylanguage.find((el: any) => el.language?.id == GLOABLE.CHINESE.id));\r\n\t\t\t\t\tvalue = key?.parent;\r\n\t\t\t\t\twhile (value) {\r\n\t\t\t\t\t\tlet productCategoryByParent: any = await ProductCategory.load(value);\r\n\t\t\t\t\t\tif (productCategoryByParent)\r\n\t\t\t\t\t\t\tkeyArr.unshift(productCategoryByParent?.productcategorylanguage?.find((el: any) => el.language?.id == GLOABLE.CHINESE.id));\r\n\t\t\t\t\t\tvalue = productCategoryByParent?.parent;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tarr.push(keyArr);\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t};\r\n\t\tthis.productCrumbs = arr;\r\n\t}\r\n\r\n\tloadProductWarnings = async () => {\r\n\t\tlet warnings: PromiseLike<any>[] = [\r\n\t\t\tthis.getProductWarningSigns(),\r\n\t\t\tthis.getProductEmbargo(),\r\n\t\t];\r\n\t\tlet res = await Promise.all(warnings);\r\n\t\tthis.warnings = res.filter((el: any) => el);\r\n\t};\r\n\r\n\t/* 产品警示标示 */\r\n\tgetProductWarningSigns = async () => {\r\n\t\tlet JNKRestrictByChemical: any[] = await this.uqs.chemical.ChemicalJNKRestrict.table({ chemical: this.chemical?.chemical });\r\n\t\tif (!JNKRestrictByChemical.length) return;\r\n\t\tlet promise: PromiseLike<any>[] = [];\r\n\t\tfor (let key of JNKRestrictByChemical) {\r\n\t\t\tpromise.push(this.uqs.chemicalSecurity.JNKRestrict.load(key?.jnkRestrict?.id));\r\n\t\t};\r\n\t\tlet result = await Promise.all(promise);\r\n\t\tlet warningSign: string = \"\";\r\n\t\tfor (let key of result) {\r\n\t\t\tif (key) {\r\n\t\t\t\tlet { no } = key;\r\n\t\t\t\tif (no.indexOf('WX') > -1) warningSign = '危化品';\r\n\t\t\t};\r\n\t\t};\r\n\t\t/* let { jnkRestrict } = JNKRestrictByChemical;\r\n\t\tlet jnkRestrictObj = await this.uqs.chemicalSecurity.JNKRestrict.load(jnkRestrict?.id);\r\n\t\tlet warningSign: string = \"\";\r\n\t\tif (jnkRestrictObj) {\r\n\t\t\tlet { no } = jnkRestrictObj;\r\n\t\t\tif (no.indexOf('WX') > -1) warningSign = '危化品';\r\n\t\t}; */\r\n\t\treturn warningSign;\r\n\t}\r\n\r\n\t/* 产品禁运信息 */\r\n\tgetProductEmbargo = async () => {\r\n\t\tlet { currentSalesRegion } = this.store;\r\n\t\tlet getProductEmbargo = await this.uqs.product.ProductEmbargo.obj({ product: this.id, salesRegion: currentSalesRegion });\r\n\t\tif (!getProductEmbargo || getProductEmbargo.beginDate > Date.now() || getProductEmbargo.endDate < Date.now()) return;\r\n\t\tlet { type, packDescription, endDate } = getProductEmbargo;\r\n\t\tlet dateTime = moment(endDate).format(\"MM月DD日\");\r\n\t\treturn `${type}产品,${dateTime}后发运(限${packDescription || \"1L\"}以上包装)`;\r\n\t};\r\n\r\n\t/**\r\n\t * 获取PDF文件流\r\n\t */\r\n\tgetPDFFileUrl = async (captcha: string) => {\r\n\t\tdebugger;\r\n\t\t/*\r\n\t\tlet lang = this.currentLanguage ? this.currentLanguage.id : undefined;\r\n\t\tlet productId = this.currentProduct ? this.currentProduct.id : undefined;\r\n\t\t// let res = await window.fetch(GLOABLE.CONTENTSITE + `/partial/productpdffile/${captcha}/${32}/${7084}`);\r\n\t\tlet res = await window.fetch(GLOABLE.CONTENTSITE + `/partial/productpdffile/${captcha}/${lang}/${productId}`);\r\n\t\tif (res.status === 200) {\r\n\t\t\tlet content = await res.arrayBuffer();\r\n\t\t\treturn content;\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\tstatus: res.status,\r\n\t\t\t\tmsg: res.status !== 412 ? res.statusText : '验证码错误!'\r\n\t\t\t}\r\n\t\t}\r\n\t\t*/\r\n\t}\r\n\r\n\t/**\r\n\t * 获取验证码\r\n\t */\r\n\tgetVerifyCode = async () => {\r\n\t\tdebugger;\r\n\t\t/*\r\n\t\tlet timer = (new Date()).getTime()\r\n\t\tthis.verifyCode = GLOABLE.CONTENTSITE + `/partial/captcha/?timer=${timer}`;//'http://dummyimage.com/200x100';\r\n\t\t*/\r\n\t}\r\n\r\n\tprivate async loadFDTimeDescription() {\r\n\t\tlet { currentSalesRegion } = this.store;\r\n\t\tlet futureDeliveryTime = await this.uqs.product.ProductDeliveryTime.table({ product: this.id, salesRegion: currentSalesRegion });\r\n\t\tif (!futureDeliveryTime.length) {\r\n\t\t\tfutureDeliveryTime = await this.uqs.product.GetFutureDeliveryTime.table({ product: this.id, salesRegion: currentSalesRegion });\r\n\t\t};\r\n\t\tif (futureDeliveryTime.length > 0) {\r\n\t\t\tlet { minValue, maxValue, unit, deliveryTimeDescription } = futureDeliveryTime[0];\r\n\t\t\tthis.futureDeliveryTimeDescription = minValue + (maxValue > minValue ? '~' + maxValue : '') + ' ' + unit;\r\n\t\t} else {\r\n\t\t\tthis.futureDeliveryTimeDescription = '';\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tgetChemicalInfo(product: number|BoxId):any {\r\n\t\tlet p = this.getCacheProduct(product);\r\n\t\tlet {chemical} = p;\r\n\t\tif (chemical) return chemical;\r\n\t\tif (chemical === null) return null;\r\n\t\tif (chemical as any === '') return null;\r\n\t\tp.chemical = '';\r\n\t\tthis.uqs.product.ProductChemical.obj({ product }).then(value => {\r\n\t\t\tp.chemical = value;\r\n\t\t});\r\n\t\treturn;\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tgetInventoryAllocation(product: number|BoxId, pack: number|BoxId): any[] {\r\n\t\tlet p = this.getCacheProduct(product);\r\n\t\tlet {inventoryAllocation} = p;\r\n\t\tif (inventoryAllocation) return inventoryAllocation;\r\n\t\tif (inventoryAllocation === null) return null;\r\n\t\tif (inventoryAllocation as any === '') return null;\r\n\t\tp.inventoryAllocation = '' as any;\r\n\t\tthis.uqs.warehouse.GetInventoryAllocation.table({ product, pack, salesRegion: this.cApp.currentSalesRegion }).then(results => {\r\n\t\t\tp.inventoryAllocation = results;\r\n\t\t});\r\n\t}\r\n\r\n\tgetFutureDeliveryTimeDescription(product: number|BoxId) {\r\n\t\tlet p = this.getCacheProduct(product);\r\n\t\tlet {futureDeliveryTimeDescription} = p;\r\n\t\tif (futureDeliveryTimeDescription) return futureDeliveryTimeDescription;\r\n\t\tif (futureDeliveryTimeDescription === null) return null;\r\n\t\tif (futureDeliveryTimeDescription === '') return null;\r\n\t\tp.futureDeliveryTimeDescription = '';\r\n\t\tthis.uqs.product.GetFutureDeliveryTime.table({ product, salesRegion: this.cApp.currentSalesRegion.id}).then(futureDeliveryTime => {\r\n\t\t\tlet value: string;\r\n\t\t\tif (futureDeliveryTime.length > 0) {\r\n\t\t\t\tlet { minValue, maxValue, unit, deliveryTimeDescription } = futureDeliveryTime[0];\r\n\t\t\t\tvalue = minValue + (maxValue > minValue ? '~' + maxValue : '') + ' ' + unit;\r\n\t\t\t} else {\r\n\t\t\t\tvalue = null;\r\n\t\t\t}\r\n\t\t\tp.futureDeliveryTimeDescription = value;\r\n\t\t});\r\n\t}\r\n\r\n\tgetPrices(product: BoxId, discount:number): any[] {\r\n\t\tlet p = this.getCacheProduct(product);\r\n\t\tlet {prices} = p;\r\n\t\tif (prices) return prices;\r\n\t\tif (prices === null) return null;\r\n\t\tif (prices as any === '') return null;\r\n\t\tp.prices = '';\r\n\t\tlet { id: productId } = product;\r\n\t\tlet { currentSalesRegion, cart, currentLanguage, uqs } = this.cApp;\r\n\r\n\t\tuqs.product.PriceX.table({ product: product, salesRegion: currentSalesRegion }).then(pricesResult => {\r\n\t\t\tlet priceSets = pricesResult.filter(e => e.discountinued === 0 && e.expireDate > Date.now()).sort((a, b) => a.retail - b.retail).map(element => {\r\n\t\t\t\tlet ret: any = {};\r\n\t\t\t\tret.pack = element.pack;\r\n\t\t\t\tret.retail = element.retail;\r\n\t\t\t\tif (discount !== 0)\r\n\t\t\t\t\tret.vipPrice = Math.round(element.retail * (1 - discount));\r\n\t\t\t\tret.currency = currentSalesRegion.currency;\r\n\t\t\t\tret.quantity = cart.getQuantity(productId, element.pack.id)\r\n\t\t\t\treturn ret;\r\n\t\t\t});\r\n\t\t\tlet promises: PromiseLike<any>[] = priceSets.map(v => {\r\n\t\t\t\treturn uqs.promotion.GetPromotionPack.obj({ product: productId, pack: v.pack, salesRegion: currentSalesRegion, language: currentLanguage });\r\n\t\t\t})\r\n\t\t\tPromise.all(promises).then(results => {\r\n\t\t\t\tfor (let i = 0; i < priceSets.length; i++) {\r\n\t\t\t\t\tlet priceSet = priceSets[i];\r\n\t\t\t\t\tlet promotion = results[i];\r\n\t\t\t\t\tlet discount = promotion && promotion.discount;\r\n\t\t\t\t\tif (discount)\r\n\t\t\t\t\t\tpriceSet.promotionPrice = Math.round((1 - discount) * priceSet.retail);\r\n\t\t\t\t}\r\n\t\t\t\tp.prices = priceSets;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t*/\r\n\r\n\t/*\r\n\tgetInventoryAllocation = async (productId: number, packId: number, salesRegionId: number) => {\r\n\t\treturn await this.uqs.warehouse.GetInventoryAllocation.table({ product: productId, pack: packId, salesRegion: this.cApp.currentSalesRegion });\r\n\t}\r\n\r\n\tgetFutureDeliveryTimeDescription = async (productId: number, salesRegionId: number) => {\r\n\t\tlet cacheId = productId + '_' + salesRegionId;\r\n\t\tif (this.futureDeliveryTimeDescriptionContainer[cacheId] === undefined) {\r\n\t\t\tlet futureDeliveryTime = await this.uqs.product.GetFutureDeliveryTime.table({ product: productId, salesRegion: salesRegionId });\r\n\t\t\tif (futureDeliveryTime.length > 0) {\r\n\t\t\t\tlet { minValue, maxValue, unit, deliveryTimeDescription } = futureDeliveryTime[0];\r\n\t\t\t\tthis.futureDeliveryTimeDescriptionContainer[cacheId] = minValue + (maxValue > minValue ? '~' + maxValue : '') + ' ' + unit;\r\n\t\t\t} else {\r\n\t\t\t\tthis.futureDeliveryTimeDescriptionContainer[cacheId] = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.futureDeliveryTimeDescriptionContainer[cacheId];\r\n\t}\r\n\t*/\r\n\r\n}\r\n/*\r\nexport class ProductInCApp extends Product {\r\n\t//private cApp: CApp;\r\n\r\n\tconstructor(cApp: CApp, id: number | BoxId)\t{\r\n\t\tsuper(cApp.uqs, id);\r\n\t\t//this.cApp = cApp;\r\n\t}\r\n}\r\n\r\nexport class ProductInStore extends Product {\r\n\r\n}\r\n*/\r\n","import { BoxId, nav } from 'tonva-react';\r\nimport { UQs } from \"uq-app\";\r\nimport { Cart } from \"./Cart\";\r\nimport { WebUser } from \"CurrentUser\";\r\nimport { Product } from \"./Product\";\r\n\r\nexport class Store {\r\n    private cache: Map<number, Product>;\r\n\r\n    uqs: UQs;\r\n    cart: Cart;\r\n    currentSalesRegion: any;\r\n    currentLanguage: any;\r\n    currentUser: WebUser;\r\n\r\n    constructor(uqs: UQs) {\r\n        this.uqs = uqs;\r\n        this.cart = new Cart(this);\r\n        this.cache = new Map();\r\n    }\r\n\r\n    getProduct(productId: number | BoxId): Product {\r\n        if (!productId) return;\r\n        // region, language 改变的时候，直接清cache\r\n        /*\r\n        let {currentSalesRegion, currentLanguage} = this;\r\n        if (this.salesRegion !== currentSalesRegion\r\n            || this.language != currentLanguage) {\r\n            this.cache = new Map<number, Product>();\r\n            this.salesRegion = currentSalesRegion;\r\n            this.language = currentLanguage;\r\n        }\r\n        */\r\n        if (typeof productId === 'object') productId = productId.id;\r\n        let product = this.cache.get(productId);\r\n        if (!product) {\r\n            product = new Product(this, productId);\r\n            this.cache.set(productId, product);\r\n        }\r\n        return product;\r\n    };\r\n\r\n    get isLogined(): boolean {\r\n        let { user } = nav;\r\n        if (user === undefined) return false;\r\n        return user?.id > 0;\r\n    }\r\n\r\n    get cartCount(): number { return this.cart.count; }\r\n\r\n    async buildCartItems(): Promise<void> {\r\n        await this.cart.buildItems();\r\n    }\r\n\r\n    async initCart() {\r\n        await this.cart.init();\r\n        //await this.buildCartItems();\r\n    }\r\n\r\n    dispose() {\r\n        this.cart.dispose();\r\n    }\r\n}\r\n","/* eslint-disable */\r\nimport { observable, computed, makeObservable } from 'mobx';\r\nimport { User, BoxId, QueryPager } from 'tonva-react';\r\nimport { UQs } from 'uq-app';\r\n\r\nexport class WebUser {\r\n    private _user: User;\r\n    id: number;\r\n    name: string;\r\n    nick?: string;\r\n    icon?: string;\r\n\r\n    firstName: string;\r\n    gender: string;\r\n    salutation: string;\r\n    organizationName: string;\r\n    departmentName: string;\r\n\r\n    get defaultOrganizationName(): string {\r\n        return this.organizationName ||\r\n            (this.webUserSettings &&\r\n                (\r\n                    (this.webUserSettings.invoiceInfo && this.webUserSettings.invoiceInfo.obj['title'])\r\n                    || (this.webUserSettings.shippingContact && this.webUserSettings.shippingContact.obj['organizationName'])\r\n                    || (this.webUserSettings.invoiceContact && this.webUserSettings.invoiceContact.obj['organizationName'])\r\n                )\r\n            );\r\n    }\r\n\r\n    get defaultName(): string {\r\n        return this.firstName ||\r\n            (this.webUserSettings &&\r\n                ((\r\n                    this.webUserSettings.shippingContact && this.webUserSettings.shippingContact.obj['name'])\r\n                    || (this.webUserSettings.invoiceContact && this.webUserSettings.invoiceContact.obj['name'])\r\n                )\r\n            );\r\n    }\r\n\r\n    get defaultMobile(): string {\r\n        return this.mobile ||\r\n            (this.webUserSettings &&\r\n                ((\r\n                    this.webUserSettings.shippingContact && this.webUserSettings.shippingContact.obj['mobile'])\r\n                    || (this.webUserSettings.invoiceContact && this.webUserSettings.invoiceContact.obj['mobile'])\r\n                )\r\n            );\r\n    }\r\n\r\n    telephone: string;\r\n    mobile: string;\r\n    email: string;\r\n    fax: string;\r\n    address: BoxId;\r\n    addressString: string;\r\n    zipCode: string;\r\n    VIPDiscount: any;\r\n    webUserVIPCard: any;\r\n    thirdPartyOrg: any;\r\n    epecUser: any;\r\n\r\n    get agtCustomerType() {\r\n        if (this.epecUser) return 'EPEC';\r\n        return \"\";\r\n    };\r\n\r\n    get allowOrdering() {\r\n        // 这个地方要改成相关账号吧？\r\n        return this.currentCustomer !== undefined ||\r\n            (this.mobile && this.firstName && this.organizationName);\r\n    }\r\n\r\n    private webUserSettings: any;\r\n\r\n    private uqs: UQs;\r\n\r\n\r\n    constructor(uqs: UQs) {// cUsqWebUser: CUq, cUsqCustomer: CUq) {\r\n        makeObservable(this, {\r\n            firstName: observable,\r\n            organizationName: observable,\r\n            mobile: observable,\r\n            allowOrdering: computed,\r\n            agtCustomerType: computed,\r\n        });\r\n\r\n        // cUsqWebUser: CUq, cUsqCustomer: CUq) {\r\n        this.uqs = uqs;\r\n    }\r\n\r\n    setUser = async (user: User) => {\r\n        if (!user) return;\r\n        this._user = user;\r\n        this.id = user.id;\r\n        this.name = user.name;\r\n        this.nick = user.nick;\r\n        this.icon = user.icon;\r\n\r\n        await this.loadWebUser();\r\n    }\r\n\r\n    private async loadWebUser() {\r\n        let { id, _user } = this;\r\n        if (_user === undefined) return;\r\n\r\n        let { webuser: webUserTuid, salesTask, platformjoint } = this.uqs;\r\n        let { WebUser, WebUserContact, WebUserSetting, WebUserCustomer, WebUserBuyerAccount, RecordLogin } = webUserTuid;\r\n        let webUser = await WebUser.load(this.id);\r\n        if (webUser) {\r\n            let { firstName, gender, salutation, organizationName, departmentName } = webUser;\r\n            this.firstName = firstName;\r\n            this.gender = gender;\r\n            this.salutation = salutation;\r\n            this.organizationName = organizationName;\r\n            this.departmentName = departmentName;\r\n            this.webUserVIPCard = await webUserTuid.WebUserVIPCard.obj({ webUser: this });\r\n            if (this.webUserVIPCard !== undefined) {\r\n                // this.VIPDiscount = await vipCardType.VIPCardTypeDiscount.query({ vipCard: this.webUserVIPCard.vipCardType })\r\n                if (this.webUserVIPCard.expiredDate > Date.now())\r\n                    this.VIPDiscount = await salesTask.VIPCardDiscount.table({ coupon: this.webUserVIPCard.vipCard });\r\n                else this.VIPDiscount = [];\r\n            }\r\n\r\n            await RecordLogin.submit({ webUser: webUser, ip: \"\", app: \"shop\" });\r\n            let thirdPartyOrg: any = await platformjoint.NeoTridentUser.obj({ webUser: this });\r\n            this.thirdPartyOrg = thirdPartyOrg?.organization;\r\n            this.epecUser = await platformjoint.EpecUser.obj({ webUser: this });\r\n        }\r\n\r\n\r\n        let contact = await WebUserContact.obj({ \"webUser\": id });\r\n        if (contact) {\r\n            let { telephone, mobile, email, fax, address, addressString, zipCode } = contact;\r\n            this.telephone = telephone;\r\n            this.mobile = mobile;\r\n            this.email = email;\r\n            this.fax = fax;\r\n            this.address = address;\r\n            this.addressString = addressString;\r\n            this.zipCode = zipCode;\r\n        }\r\n\r\n        this.webUserSettings = await WebUserSetting.obj({ webUser: id }) || { webUser: id };\r\n\r\n        let value = await WebUserCustomer.obj({ webUser: id });\r\n        if (value !== undefined) {\r\n            this.currentCustomer = new Customer(value.customer, this.uqs);\r\n            await this.currentCustomer.init();\r\n        }\r\n        let accountValue = await WebUserBuyerAccount.query({ webUser: id });\r\n        let { ret: buyerAccounts } = accountValue;\r\n        if (buyerAccounts && buyerAccounts.length > 0) {\r\n            // TODO: 暂时不考虑有多个相关账号的情况\r\n            this.buyerAccount = buyerAccounts[0].buyerAccount;\r\n        }\r\n    }\r\n\r\n    /*\r\n    get isLogined(): boolean {\r\n        return this._user !== undefined;\r\n    }\r\n    */\r\n\r\n    get hasCustomer(): boolean {\r\n        return this.currentCustomer !== undefined;\r\n    }\r\n    currentCustomer: Customer;\r\n    buyerAccount: any;\r\n\r\n    async getContacts(): Promise<any[]> {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            return await this.currentCustomer.getContacts()\r\n        }\r\n        */\r\n        return await this.uqs.webuser.WebUserContacts.table({ webUser: this.id });\r\n    }\r\n\r\n    async addContact(contactId: number) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.addContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        await this.uqs.webuser.WebUserContacts.add({ webUser: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async addContactFromAccount() {\r\n        let { firstName, organizationName, mobile, telephone, email, address, addressString } = this;\r\n        if (firstName && organizationName && mobile && address && addressString) {\r\n            let newContact = await this.uqs.customer.Contact.save(undefined, {\r\n                name: firstName,\r\n                organizationName: organizationName,\r\n                mobile: mobile,\r\n                telephone: telephone,\r\n                email: email,\r\n                address: address,\r\n                addressString: addressString\r\n            })\r\n            if (newContact) {\r\n                let { id: newContactId } = newContact;\r\n                await this.addContact(newContactId);\r\n                let newContactBox = this.uqs.customer.Contact.boxId(newContactId);\r\n                this.setDefaultShippingContact(newContactBox);\r\n            }\r\n        }\r\n    }\r\n\r\n    async delContact(contactId: number) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.delContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        await this.uqs.webuser.WebUserContacts.del({ webUser: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async getSetting() {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            return this.currentCustomer.getSetting();\r\n        }\r\n        */\r\n        return this.webUserSettings;\r\n    }\r\n\r\n    async setDefaultShippingContact(contactId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultShippingContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        this.webUserSettings.shippingContact = contactId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoiceContact(contactId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultInvoiceContact(contactId);\r\n            return;\r\n        }\r\n        */\r\n        this.webUserSettings.invoiceContact = contactId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoice(invoiceTypeId: BoxId, invoiceInfoId: BoxId) {\r\n        /*\r\n        if (this.currentCustomer !== undefined) {\r\n            await this.currentCustomer.setDefaultInvoice(invoiceTypeId, invoiceInfoId);\r\n            return;\r\n        }\r\n        */\r\n        // await this.webUserSettingMap.add({ webUser: this.id, arr1: [{ invoiceType: invoiceTypeId, invoiceInfo: invoiceInfoId }] });\r\n        this.webUserSettings.invoiceType = invoiceTypeId;\r\n        this.webUserSettings.invoiceInfo = invoiceInfoId;\r\n        this.saveDefaultSettings();\r\n    }\r\n\r\n    async saveDefaultSettings() {\r\n        await this.uqs.webuser.WebUserSetting.add(this.webUserSettings);\r\n    }\r\n\r\n\r\n    async changeWebUser(webUser: any) {\r\n        await this.uqs.webuser.WebUser.save(this.id, webUser);\r\n        await this.loadWebUser();\r\n    }\r\n\r\n    async changeWebUserContact(webUserContact: any) {\r\n        webUserContact.webUser = this.id;\r\n        await this.uqs.webuser.WebUserContact.add(webUserContact);\r\n        await this.loadWebUser();\r\n    }\r\n\r\n    async getPoints() {\r\n        return await this.uqs.积分商城.getPoints.table({ customer: this.currentCustomer });\r\n    }\r\n\r\n    async getValidCredits() {\r\n        let { customer, webuser } = this.uqs;\r\n        let creditsForWebUser: any[] = [];\r\n        if (this.hasCustomer) {\r\n            creditsForWebUser = await customer.CustomerCredits.table({ customer: this.currentCustomer });\r\n        } else {\r\n            creditsForWebUser = await webuser.WebUserCredits.table({ webUser: this.id });\r\n        };\r\n        return creditsForWebUser.filter(v => v.expiredDate.getTime() > Date.now());\r\n    }\r\n\r\n    async getValidCoupons() {\r\n        let { customer, webuser } = this.uqs;\r\n        let couponsForWebUser: any[] = [];\r\n        if (this.hasCustomer) {\r\n            couponsForWebUser = await customer.CustomerCoupon.table({ customer: this.currentCustomer });\r\n        } else {\r\n            couponsForWebUser = await webuser.WebUserCoupon.table({ webUser: this.id });\r\n        };\r\n        return couponsForWebUser.filter(v => v.expiredDate.getTime() > Date.now());\r\n    }\r\n\r\n    async getUserdCoupon() {\r\n        let { webuser, customer } = this.uqs;\r\n        let result: any;\r\n        if (this.hasCustomer) {\r\n            result = new QueryPager<any>(customer.getMyUsedCoupon, 10, 10);\r\n            await result.first({ customer: this.currentCustomer });\r\n        } else {\r\n            result = new QueryPager<any>(webuser.getMyUsedCoupon, 10, 10);\r\n            await result.first({ webUser: this.id });\r\n        };\r\n        return result;\r\n    }\r\n\r\n    async getExpiredCoupon() {\r\n        let { webuser, customer } = this.uqs;\r\n        let result: any;\r\n        if (this.hasCustomer) {\r\n            result = new QueryPager<any>(customer.getMyExpiredCoupon, 10, 10);\r\n            await result.first({ customer: this.currentCustomer });\r\n        } else {\r\n            result = new QueryPager<any>(webuser.getMyExpiredCoupon, 10, 10);\r\n            await result.first({ webUser: this.id });\r\n        };\r\n        return result;\r\n    }\r\n\r\n};\r\n\r\nexport class Customer {\r\n    private readonly uqs: UQs;\r\n    id: number;\r\n\r\n    private customerSettings: any;\r\n    Contractor: any;\r\n    Organization: any;\r\n    Discounts: any[] = []\r\n\r\n    constructor(customer: BoxId, uqs: UQs) {\r\n        this.id = customer.id;\r\n        this.uqs = uqs;\r\n    };\r\n\r\n    async getContacts(): Promise<any[]> {\r\n        return await this.uqs.customer.CustomerContacts.table({ customer: this.id });\r\n    }\r\n\r\n    async addContact(contactId: number) {\r\n        await this.uqs.customer.CustomerContacts.add({ customer: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    async delContact(contactId: number) {\r\n        await this.uqs.customer.CustomerContacts.del({ customer: this.id, arr1: [{ contact: contactId }] });\r\n    }\r\n\r\n    /**\r\n     * 获取customer折扣表\r\n     */\r\n    async getcustomerDiscount(customer: BoxId | number) {\r\n        let discounts = await this.uqs.customerDiscount.CustomerDiscount.table({ customer: customer });\r\n        return discounts.filter((el: any) => el.endDate > Date.now());\r\n    }\r\n\r\n    /**\r\n     * 获取所属组织折扣表\r\n     */\r\n    async getOrganizationDiscount(organization: BoxId | number) {\r\n        let discounts = await this.uqs.customerDiscount.OrganizationDiscount.table({ organization: organization });\r\n        return discounts.filter((el: any) => el.endDate > Date.now());\r\n    }\r\n    /* 获取用户的折扣表(个人-->个人所属组织-->关联老师-->老师所属组织) */\r\n    async getcustomerDiscountArr() {\r\n        /* 获取个人的折扣表 */\r\n        this.Discounts = await this.getcustomerDiscount(this.id);\r\n        if (this.Organization && !this.Discounts.length) {/* 获取个人组织的折扣表 */\r\n            this.Discounts = await this.getOrganizationDiscount(this.Organization);\r\n        };\r\n        if (this.Discounts.length) return;\r\n        /* 获取关联老师 */\r\n        let customerBuyerAccount = await this.uqs.customer.CustomerBuyerAccount.obj({ customer: this.id });\r\n        if (customerBuyerAccount) {\r\n            let { buyerAccount } = customerBuyerAccount;\r\n            /* 读取老师 buyerAccount */\r\n            let getBuyerAccountID = await this.uqs.customer.Buyeraccount.load(buyerAccount);\r\n            if (getBuyerAccountID) {\r\n                let { description: BuyerAccountName, organization } = getBuyerAccountID;\r\n                /*  获取老师customer */\r\n                let getBuyerAccountCustomerRes = await this.uqs.customer.Customer.search(BuyerAccountName, 10, 10);\r\n                if (!getBuyerAccountCustomerRes.length) return;\r\n                /* 获取老师的折扣表 */\r\n                this.Discounts = await this.getcustomerDiscount(getBuyerAccountCustomerRes[0].id);\r\n                if (this.Discounts.length) return;\r\n                /* 获取老师组织折扣表 */\r\n                this.Discounts = await this.getOrganizationDiscount(organization);\r\n            };\r\n        };\r\n    }\r\n\r\n    async init() {\r\n        this.customerSettings = await this.uqs.customer.CustomerSetting.obj({ customer: this.id }) || { customer: this.id };\r\n        let customerContactorMap: any = await this.uqs.customer.CustomerContacts.obj({ customer: this.id });\r\n        if (customerContactorMap)\r\n            this.Contractor = customerContactorMap.contractor;\r\n        let customerOrganization = await this.uqs.customer.getCustomerOrganization.obj({ customerId: this.id });\r\n        if (customerOrganization) this.Organization = customerOrganization.organization;\r\n        await this.getcustomerDiscountArr();\r\n    }\r\n\r\n    getSetting() {\r\n        return this.customerSettings;\r\n    }\r\n\r\n    async setDefaultShippingContact(contactId: BoxId) {\r\n        this.customerSettings.shippingContact = contactId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoiceContact(contactId: BoxId) {\r\n        this.customerSettings.invoiceContact = contactId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultInvoice(invoiceTypeId: BoxId, invoiceInfoId: BoxId) {\r\n        this.customerSettings.invoiceType = invoiceTypeId;\r\n        this.customerSettings.invoiceInfo = invoiceInfoId;\r\n        await this.setDefaultSettings();\r\n    }\r\n\r\n    async setDefaultSettings() {\r\n        await this.uqs.customer.CustomerSetting.add(this.customerSettings);\r\n    }\r\n\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { autoHideTips, LMR, FA, List, VPage } from 'tonva-react';\r\nimport { observer } from 'mobx-react';\r\nimport { observable, makeObservable } from 'mobx';\r\nimport classNames from 'classnames';\r\nimport XLSX from \"xlsx\";\r\nimport { xs } from 'tools/browser';\r\nimport { CQuickOrder } from './CQuickOrder';\r\nimport { Product } from '../store';\r\nimport { renderBrand, renderPropItem } from 'product/renders';\r\n\r\nconst productOrderType: { [type:number]:string } = {\r\n    1: \"产品编号订购\",\r\n    2: \"上传Excel文件订购\",\r\n};\r\n\r\n\r\nexport class VQuickOrder extends VPage<CQuickOrder> {\r\n\r\n    directOrderType: number = 1;        /* 一键下单 类型 */\r\n    excelData: any[] = [];              /* excel文件数据 */\r\n    execlFileName: string;              /* excel文件名称 */\r\n    private excelTip = observable.box<string>('');\r\n\r\n    constructor(c: CQuickOrder) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            directOrderType: observable,\r\n            excelData: observable,\r\n            execlFileName: observable\r\n        });\r\n    }\r\n\r\n    header() {\r\n        return this.isWebNav === true ? null : <>批量订购</>;\r\n    }\r\n\r\n    right() {\r\n        return this.isWebNav === true ? null : <></>;\r\n    }\r\n\r\n    content() {\r\n        return <this.contentView />\r\n    }\r\n\r\n    /* 存储input输入值 */\r\n    inputStorageToOrigin = () => {\r\n        this.controller.quickOrderProducts.forEach((el: any) => { if (el?.iptValue) el.origin = el?.iptValue?.value; });\r\n    };\r\n\r\n    productContent = (item: any, index: number) => {\r\n        let delProduct = () => {\r\n            this.inputStorageToOrigin();\r\n            this.controller.quickOrderProducts.splice(index, 1);\r\n        };\r\n        let { product, origin, noProductTip } = item;\r\n        let rightUI = <div><span className=\"ml-2\"\r\n            onClick={() => { delProduct() }} ><FA name=\"trash-o\" className=\"cursor-pointer\" /></span></div>;\r\n        return React.createElement(observer(() => {\r\n            return <LMR right={rightUI} >\r\n                <div className=\"row mx-0 py-1 border-bottom\">\r\n                    <div className=\"col-lg-6 row mx-0 align-items-center px-0\">\r\n                        {\r\n                            !product\r\n                                ? <input ref={v => { item.iptValue = v }} defaultValue={origin || ''}\r\n                                        placeholder=\"产品编号\" type=\"text\" className=\"form-control col-6 col-sm-3 d-inline-block\" />\r\n                                : null\r\n                        }\r\n                        <span className={classNames(!product ? \"col-12 col-sm-9 text-danger\" : \"col-12\", \"small align-self-center px-0\")}>\r\n                            {\r\n                                !product && noProductTip\r\n                                    ? <div className=\"px-2\">{noProductTip}</div>\r\n                                    : this.renProduct(product)\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"col-lg-6 px-0\">\r\n                        {this.controller.renderPriceQuickOrderView(item)}\r\n                    </div>\r\n                </div>\r\n            </LMR>\r\n        }));\r\n    };\r\n\r\n    renProduct = (product: Product) => {\r\n        if (!product) return <></>;\r\n        let { props, brand } = product;\r\n        let { description, descriptionC, origin } = props;\r\n        let eName = <div dangerouslySetInnerHTML={{ __html: description || '' }}></div>;\r\n        let cName: any;\r\n        if (descriptionC !== description) {\r\n            cName = <div dangerouslySetInnerHTML={{ __html: descriptionC || '' }}></div>;\r\n        };\r\n        return <>\r\n            <div className=\"small font-weight-bolder\">{eName}{cName}</div>\r\n            <div className=\"row mx-0\">\r\n                {renderPropItem('产品编号', origin, 'text-primary')}\r\n                {renderBrand(brand)}\r\n            </div>\r\n        </>;\r\n    };\r\n\r\n    /** \r\n     * 上传excel文件 添加产品\r\n     */\r\n    excelUpload = () => {\r\n        let csv2table = (csv: string) => {\r\n            let rows = csv.split('\\n');\r\n            rows.pop();\r\n            let arr: any[] = rows.map((row: string, idx: number) => {\r\n                let columns = row.split(',');\r\n                let obj = {\r\n                    id: idx + 1,\r\n                    origin: columns[0],\r\n                    pack: columns[1],\r\n                    quantity: columns[2],\r\n                };\r\n                return obj;\r\n            });\r\n            return arr;\r\n        };\r\n        let readExcelFile = (e: any) => {\r\n            let reads = new FileReader();\r\n            let fileName = e.target.files[0];\r\n            if (!(/.xls(x?)$/.test(fileName?.name))) {\r\n                this.excelTip.set(\"文件格式仅限于 .xlsx 或 .xls\");\r\n                return;\r\n            };\r\n            this.execlFileName = fileName?.name ? fileName.name.replace(/(.{2}).*(.{1}.xls(x?))/, \"$1...$2\") : '';\r\n            reads.readAsBinaryString(fileName);\r\n            reads.onload = (e) => {\r\n                //workbook存放excel的所有基本信息\r\n                let workbook = XLSX.read(e.target.result, { type: 'binary' });\r\n                //定义sheetList中存放excel表格的sheet表，就是最下方的tab\r\n                let sheetList = workbook.SheetNames;\r\n                //只获取第一张表的数据\r\n                let firstSheet = sheetList[0];\r\n                //存放json数组格式的表格数据\r\n                let worksheet = workbook.Sheets[firstSheet];\r\n                let csv = XLSX.utils.sheet_to_csv(worksheet);\r\n                let csv1 = csv2table(csv);\r\n                // let excelData = XLSX.utils.sheet_to_json(worksheet, { defval: '' });//每行以json数组形式输出\r\n                this.excelData = csv1; //|| excelData;\r\n            };\r\n            e.target.value = '';\r\n        }\r\n        return <div className=\"col-lg-6 p-2\" style={{ background: \"#efefef\" }}>\r\n            <div className=\"w-50 py-2 text-center position-relative rounded-sm border-primary\" style={{ border: \"1px dashed\" }}>\r\n                上传Excel文件 <br /><span className=\"small\">（格式: .xlsx、.xls）</span>\r\n                <div className=\"text-primary\">{this.execlFileName}</div>\r\n                <input onChange={(e) => readExcelFile(e)} type=\"file\" name=\"\" className=\"position-absolute w-100 h-100 cursor-pointer\"\r\n                    style={{ top: 0, left: 0, opacity: 0 }}\r\n                    accept=\"application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\" />\r\n            </div>\r\n            {autoHideTips(this.excelTip, <div className=\"text-danger\">*{this.excelTip.get()}</div>)}\r\n            <div className=\"row mx-0 align-items-end justify-content-between mt-2\">\r\n                <button onClick={this.UploadExcel} className=\"btn btn-sm btn-primary w-25\"><span className=\"mx-2\">上载</span></button>\r\n                <a className=\"col-6 col-sm-6 text-right collapsed text-primary small p-0\" data-toggle=\"collapse\" href=\"#setMyFileC\" role=\"button\" aria-expanded=\"false\">\r\n                    如何设置我的文件\r\n                </a>\r\n            </div>\r\n            <div className=\"mt-lg-2 mb-lg-2 collapse\" id=\"setMyFileC\">\r\n                如何设置我的Excel文件以进行批量订购\r\n                <div className=\"small\">您的文件应按以下所示的列顺序包含以下信息。请不要在列中包含任何文本标题。</div>\r\n                <div className=\"text-center my-2\"><img style={{ maxWidth: \"100%\" }} src=\"/images/Excel.gif\" alt=\"\" /></div>\r\n                <div className=\"small\"><span className=\"text-danger\">注意：</span>“产品编号”是输入文件中唯一需要的列。您可以根据需要省略包装尺寸和/或数量。上传文件后，您将可以编辑所有产品信息。</div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    private contentView = observer(() => {\r\n        let { quickOrderProducts, overOrder } = this.controller;\r\n        let quickOrderDised = !quickOrderProducts.length || !quickOrderProducts.every((v: any) => v?.selectedPack && v?.selectedPack?.retail);\r\n        return <div className=\"mb-5 row mx-0 \">\r\n            {!xs ? <h4 className=\"col-12 mt-5 mb-4 text-center\">批量订购</h4> : null}\r\n            <div className=\"px-2 px-lg-0\">\r\n                <h5>按产品编号订购</h5>\r\n                <div className=\"small\">输入商品编号,检索商品。下单时所有产品必须有效,且已选择包装的大小和数量。</div>\r\n            </div>\r\n            <div className=\"col-lg-12 mx-auto p-2 rounded\" style={{ background: \"#efefef\" }}>\r\n                <List items={quickOrderProducts} item={{ render: this.productContent, className: \"bg-transparent\" }} none={<div className=\"py-2 d-flex justify-content-center\" style={{userSelect: \"none\"}}>请添加产品</div>} />\r\n                <div className=\"py-2\">\r\n                    <button onClick={this.addMoreProducts} className=\"btn btn-sm btn-primary col—2\"><span className=\"mx-2\">添加更多产品</span></button>\r\n                    {\r\n                        quickOrderProducts.every((v: any) => v.product)\r\n                            ? <button onClick={overOrder} disabled={quickOrderDised}\r\n                                className=\"btn btn-sm btn-success col—2 float-right\" style={{ backgroundColor: \"#218838\" }}><span className=\"mx-2\">现在下单</span></button>\r\n                            : <button onClick={this.getProductByOriginOrPack}\r\n                                className=\"btn btn-sm btn-primary col—2 float-right\" style={{ backgroundColor: \"#007bff\" }}><span className=\"mx-2\">获取产品包装</span></button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {\r\n                !xs ? <div>\r\n                    <div className=\"mt-3 px-2 px-lg-0\">\r\n                        <h5>上传您自己的产品列表</h5>\r\n                        <div className=\"small\">通过上载每行一个产品（最多30行）的Excel文件，将商品添加到列表中。\r\n                            文件的第一列必须是产品编号,第二列包装大小和第三列数量的列表。您可以将任何/所有产品的包装尺寸和数量列留空。上传文件后，您就可以添加/编辑包装的尺寸和数量。</div>\r\n                    </div>\r\n                    {this.excelUpload()}\r\n                </div> : null\r\n            }\r\n        </div>\r\n    });\r\n\r\n    /**\r\n     * 添加更多产品\r\n     */\r\n    addMoreProducts = () => {\r\n        let { quickOrderProducts } = this.controller;\r\n        let { length: leng } = quickOrderProducts;\r\n        if (length >= 30) return;\r\n        let id = quickOrderProducts[leng - 1]?.id || 0;\r\n        let len = 30 - leng < 5 ? 30 - leng : 5;\r\n        let newArr = Array.from({ length: len }, (v, k) => { return { id: id + k + 1, origin: '' } });\r\n        this.inputStorageToOrigin();\r\n        this.controller.quickOrderProducts.push(...newArr);\r\n    };\r\n\r\n    /**\r\n     * 上载Excel\r\n     */\r\n    UploadExcel = async () => {\r\n        if (!this.execlFileName) {\r\n            this.excelTip.set('请上传的文件.');\r\n            return;\r\n        };\r\n        let excelData = this.excelData.map((el: any) => {\r\n            if (!el || (el && !(\"origin\" in el) && el.origin !== \"\")) return;\r\n            if (\"pack\" in el) {\r\n                let radioyArr = el.pack.match(/(\\d*\\.*\\d+)/g);\r\n                let unitArr = el.pack.replace(/(\\.)*/g, \"\").match(/\\D+/g);\r\n                let radioy = radioyArr ? Number(radioyArr[0]) : 1;\r\n                let unit = unitArr ? unitArr[0] : \"\";\r\n                return {\r\n                    id: el.id,\r\n                    origin: el.origin,\r\n                    radiox: 1,\r\n                    radioy: radioy,\r\n                    unit: unit,\r\n                    quantity: Number(el?.quantity) || 1,\r\n                }\r\n            } else return { id: el.id, origin: el.origin };\r\n        }).filter((v: any) => v);\r\n        if (!excelData.length || excelData.length > 30) {\r\n            this.excelTip.set('您上传的文件无法解析,请保证数据格式正确,并且包含至少1中产品,最多30个产品!');\r\n            return;\r\n        };\r\n        this.controller.quickOrderProducts = excelData;\r\n        this.excelData = [];\r\n        this.execlFileName = '';\r\n        await this.getProductByOriginOrPack();\r\n    };\r\n\r\n    /**\r\n     * 获取产品\r\n     */\r\n    getProductByOriginOrPack = async () => {\r\n        let { quickOrderProducts, QueryProductsByOriginOrPack } = this.controller;\r\n        this.inputStorageToOrigin();\r\n        let origins: any = quickOrderProducts.map((el: any) => {\r\n            if (el.product) return;\r\n            let obj:any= {\r\n                id: el.id,\r\n                origin: el.origin || el?.iptValue?.value\r\n            };\r\n            if (\"radioy\" in el || \"unit\" in el) {\r\n                obj = { ...obj, radiox: el?.radiox, radioy: el?.radioy, unit: el?.unit, quantity: el?.quantity };\r\n            };\r\n            return obj;\r\n        }).filter((v: any) => v && v.origin);\r\n        if (!origins.length) return;\r\n        await QueryProductsByOriginOrPack(origins);\r\n    };\r\n}","import { observable, makeObservable } from 'mobx';\r\nimport { BoxId, Tuid } from 'tonva-react';\r\nimport { CApp, CUqBase } from 'tapp';\r\nimport { VQuickOrder } from './VQuickOrder';\r\nimport { VPriceQuickOrder } from 'product/views';\r\n\r\nexport let minPrice = (vipPrice: any, promotionPrice: any) => {\r\n    if (vipPrice || promotionPrice)\r\n        return Math.min(typeof (vipPrice) === 'number' ? vipPrice : Infinity, typeof (promotionPrice) === 'number' ? promotionPrice : Infinity);\r\n};\r\n\r\nexport class CQuickOrder extends CUqBase {\r\n\r\n    quickOrderProducts: any[] = [\r\n        // { id: 1, origin: \"187351\" },\r\n        // { id: 2, origin: \"102053\" },\r\n        // { id: 3, origin: \"159262\" },\r\n        // { id: 4, origin: \"160666\" },\r\n        // { id: 5, origin: \"187351\" },\r\n    ];\r\n\r\n    constructor(cApp: CApp) {\r\n        super(cApp);\r\n        makeObservable(this, {\r\n            quickOrderProducts: observable\r\n        });\r\n    }\r\n    \r\n    protected async internalStart(param?: any) { }\r\n\r\n    /**\r\n     * 初始化产品订购列表\r\n     */\r\n    initProduct = () => {\r\n        this.quickOrderProducts = Array.from({ length: 5 }, (v, k) => { return { id: k + 1, origin: '' } });\r\n    };\r\n\r\n    /**\r\n     * 一键下单页\r\n     */\r\n    openQuickOrder = async () => {\r\n        this.initProduct();\r\n        this.openVPage(VQuickOrder);\r\n    }\r\n\r\n    renderPriceQuickOrderView = (item:any) => {\r\n        return this.renderView(VPriceQuickOrder , item);\r\n    }\r\n\r\n    renderDeliveryTime = (pack: BoxId) => {\r\n        let { cProduct } = this.cApp;\r\n        return cProduct.renderDeliveryTime(pack);\r\n    }\r\n\r\n    /**\r\n     * 据指定字段检索产品\r\n     */\r\n    queryProductByOrigin = async (origin: string) => {\r\n        let { currentSalesRegion } = this.cApp;\r\n        let nOrigin = origin.trim();\r\n        let productByOrigin = await this.cApp.uqs.product.GetProductPackByOrigin.table({ origin: nOrigin, salesRegion: currentSalesRegion });\r\n        return productByOrigin;\r\n    };\r\n\r\n    /**\r\n     * 根据产品编号/包装规格查询产品，在客户手动输入或提交excel表格 检索产品\r\n     */\r\n    QueryProductsByOriginOrPack = async (param: any[]) => {\r\n        /* 获取product 据origin */\r\n        let promises: Promise<any>[]=[];\r\n        param.forEach((el: any) => {\r\n            let { origin } = el;\r\n            promises.push(this.queryProductByOrigin(origin));\r\n        });\r\n        let res = await Promise.all(promises);\r\n        let result = res.flat();\r\n        /* 去重 product */\r\n        let resultArr: any = [];\r\n        result.forEach((el: any) => {\r\n            let { product, pack } = el;\r\n            let productExists = resultArr.find((i: any) => Tuid.equ(i.product, product));\r\n            if (productExists) {\r\n                if (!Tuid.equ(productExists.pack, pack)) productExists.packArr.push(pack);\r\n            } else {\r\n                resultArr.push({ product: product, packArr: [pack] });\r\n            };\r\n        });\r\n        /* product 重装为 Product类数据 */\r\n        let promises2: PromiseLike<any>[] = [];\r\n        resultArr.forEach((el: any) => {\r\n            let productExists = this.quickOrderProducts.find((v: any) => Tuid.equ(el.product, v.product));\r\n            if (productExists) {\r\n                el.product = productExists.product;\r\n            } else {\r\n                el.product = this.cApp.getProduct(el?.product?.id);\r\n                promises2.push(el.product.loadListItem());\r\n            };\r\n        });\r\n        await Promise.all(promises2);\r\n        /* 获取有效的Pack,pack数据重装（获取的pack中obj数据不是需求值,需重装） */\r\n        resultArr = resultArr.map((el: any) => {\r\n            el.packArr = el.packArr.map((v: any) => {\r\n                let packExistsFormPrices = el.product.prices.find((i: any) => Tuid.equ(i.pack, v));\r\n                if (!packExistsFormPrices || packExistsFormPrices.retail === 0.01) return;\r\n                return { ...packExistsFormPrices, quantity: packExistsFormPrices.quantity || 1 };\r\n            }).filter((i: any) => i);\r\n            return el;\r\n        });\r\n        /* 不考虑一个origin 匹配到多个产品,多个取一个就行 */\r\n        this.quickOrderProducts.forEach((el: any) => {\r\n            if (el?.productExists) return;\r\n            let findOriginById = param.find((i: any) => i.id === el.id);\r\n            if (!findOriginById) return;\r\n            let getProductByOrigin = resultArr.find((v: any) => v.product.props.origin === findOriginById.origin);\r\n            if (getProductByOrigin) {\r\n                el.product = getProductByOrigin.product;\r\n                el.noProductTip = \"\";\r\n                if (findOriginById?.radioy || findOriginById?.unit) {\r\n                    let finddefaultPack:any = getProductByOrigin.packArr.find((v: any) => v.pack?.obj?.radioy === findOriginById?.radioy && v.pack?.obj?.unit === findOriginById?.unit);\r\n                    el.selectedPack = finddefaultPack ? { ...finddefaultPack, quantity: findOriginById?.quantity } : undefined;\r\n                };\r\n                if (!getProductByOrigin.packArr.length) {\r\n                    el.noPackTip = \"该产品无销售包装,请删除.\"; return;\r\n                };\r\n                el.QPacks = getProductByOrigin.packArr;\r\n                el.productExists = true;\r\n            } else {\r\n                el.noProductTip = \"您输入了无效的产品编号,请再试一次.\";\r\n            };\r\n        });\r\n        this.quickOrderProducts = this.quickOrderProducts.filter((v: any) => v && v.origin);\r\n    };\r\n\r\n    /**\r\n     * 产品列表数量变更\r\n     */\r\n    changeProductQuantity = async (item: any, pack: BoxId, quantity: number) => {\r\n        let { id } = item;\r\n        this.quickOrderProducts.forEach((el: any) => {\r\n            if (el.id === id) el.selectedPack.quantity = quantity;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 包装选择 \r\n     */\r\n    selectedPack = (item: any, pack: any) => {\r\n        let { id } = item;\r\n        this.quickOrderProducts.forEach((el: any) => { if (el.id === id) el.selectedPack = pack; });\r\n    };\r\n\r\n    /* 现在下单 */\r\n    overOrder = async () => {\r\n        await this.cApp.assureLogin();\r\n        let resultArr: any = [];\r\n        this.quickOrderProducts.forEach((el: any) => {\r\n            if (!el) return;\r\n            let { product, selectedPack } = el;\r\n            let getPriceByPackID = product.prices.find((v: any) => Tuid.equ(v.pack, selectedPack.pack));\r\n            let price = minPrice(getPriceByPackID?.vipPrice, getPriceByPackID?.promotionPrice) || selectedPack.retail;\r\n            selectedPack.price = price;\r\n            let productExists = resultArr.find((i: any) => Tuid.equ(i.product, product));\r\n            if (productExists) {\r\n                if (!Tuid.equ(productExists.pack, selectedPack.pack)) productExists.packs.push(selectedPack);\r\n            } else {\r\n                resultArr.push({ product: product, packs: [selectedPack], $isSelected: true, $isDeleted: false, createdate: Date.now() });\r\n            };\r\n        });\r\n        await this.cApp.cOrder.createOrderFromCart(resultArr);\r\n    };\r\n}\r\n","/* eslint-disable */\r\nimport { User, nav, NavPage, BoxId, PageWebNav } from 'tonva-react';\r\n//import { Cart/*, LOCALCARTNAME*/ } from \"../cart/Cart\";\r\nimport { CHome } from \"../home\";\r\nimport { CCart } from \"../cart\";\r\nimport { CProduct } from \"../product\";\r\nimport { COrder } from \"../order/COrder\";\r\nimport { CProductCategory } from \"../productCategory/CProductCategory\";\r\nimport { CMember } from \"../member\";\r\nimport { CMe } from \"../me/CMe\";\r\nimport { CUqApp } from \"./CBase\";\r\nimport { VMain } from 'tapp/main';\r\nimport * as qs from 'querystringify';\r\nimport { CCoupon } from \"coupon/CCoupon\";\r\nimport { CPointProduct } from \"pointMarket/CPointProduct\";\r\nimport { CYncProjects } from \"ync/CYncProjects\";\r\nimport { CFavorites } from 'customer/CFavorites';\r\nimport { CLottery } from 'pointMarket/lottery/CLottery';\r\nimport { CSignIn } from 'pointMarket/signIn/CSignIn';\r\nimport { Store, Product } from '../store';\r\nimport { WebUser } from 'CurrentUser';\r\nimport { GLOABLE } from 'global';\r\nimport { CSelectInvoiceContact, CSelectShippingContact } from 'customer/CSelectContact';\r\nimport { CAddress } from '../customer/CAddress';\r\nimport { CInvoiceInfo } from 'customer/CInvoiceInfo';\r\nimport { CQuickOrder } from '../order/CQuickOrder';\r\n\r\nexport class CApp extends CUqApp {\r\n    store: Store;\r\n    private cache: Map<number, Product>;\r\n    //cart: Cart;\r\n    currentSalesRegion: any;\r\n    currentLanguage: any;\r\n    currentUser: WebUser;\r\n\r\n    topKey: any;\r\n\r\n    cHome: CHome;\r\n    cCart: CCart;\r\n\r\n    cProduct: CProduct;\r\n    cOrder: COrder;\r\n    cQuickOrder: CQuickOrder;\r\n    cCoupon: CCoupon;\r\n    cProductCategory: CProductCategory;\r\n    cMember: CMember;\r\n    cMe: CMe;\r\n    cPointProduct: CPointProduct;\r\n    cFavorites: CFavorites;\r\n    cYncProjects: CYncProjects;\r\n    cLottery: CLottery;\r\n    cSignIn: CSignIn;\r\n    cSelectShippingContact: CSelectShippingContact;\r\n    cSelectInvoiceContact: CSelectInvoiceContact;\r\n    cAddress: CAddress;\r\n    cInvoiceInfo: CInvoiceInfo;\r\n\r\n\r\n    protected async beforeStart(): Promise<boolean> {\r\n        if (await super.beforeStart() === false) return false;\r\n\r\n        this.store = new Store(this.uqs);\r\n        this.currentSalesRegion = GLOABLE.SALESREGION_CN;\r\n        this.currentLanguage = GLOABLE.CHINESE;\r\n        this.store.currentSalesRegion = this.currentSalesRegion;\r\n        this.store.currentLanguage = this.currentLanguage;\r\n\r\n        this.cache = new Map();\r\n        /*\r\n        this.setUser();\r\n        this.cart = new Cart(this);\r\n        await this.cart.init();\r\n        await this.cart.buildItems();\r\n        */\r\n\r\n        this.cHome = this.newC(CHome);\r\n        this.cProductCategory = this.newC<CProductCategory>(CProductCategory);\r\n        this.cProduct = this.newC(CProduct);\r\n        this.cOrder = this.newC(COrder);\r\n        this.cQuickOrder = this.newC(CQuickOrder);\r\n        this.cCart = this.newC(CCart);\r\n        this.cCoupon = this.newC(CCoupon);\r\n        this.cMember = this.newC(CMember);\r\n        this.cMe = this.newC(CMe);\r\n        this.cPointProduct = this.newC(CPointProduct);\r\n        this.cFavorites = this.newC(CFavorites);\r\n        this.cYncProjects = this.newC(CYncProjects);\r\n        this.cLottery = this.newC(CLottery);\r\n        this.cSignIn = this.newC(CSignIn);\r\n        this.cSelectShippingContact = this.newC(CSelectShippingContact);\r\n        this.cSelectInvoiceContact = this.newC(CSelectInvoiceContact);\r\n        this.cAddress = this.newC(CAddress);\r\n        this.cInvoiceInfo = this.newC(CInvoiceInfo);\r\n        await this.store.initCart();/* 暂时性初始化购物车 调整后可删除 */\r\n        await this.cSelectShippingContact.getContactList();\r\n        await this.cHome.getSlideShow();\r\n        return true;\r\n    }\r\n\r\n    protected async internalStart(params: any) {\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cProductCategory.start());\r\n        await Promise.all(promises);\r\n\r\n        let { location } = document;\r\n        let { search, pathname } = location;\r\n        if (search) {\r\n            let query: any = qs.parse(search.toLowerCase());\r\n            switch (query.type) {\r\n                case \"privacy\":\r\n                    this.showMain();\r\n                    this.cMe.openPrivacy();\r\n                    break;\r\n                case \"product\":\r\n                    this.showMain();\r\n                    let prouductBoxId = await this.uqs.product.ProductX.boxId(query.product).assure();\r\n                    await this.cProduct.showProductDetail(prouductBoxId);\r\n                    break;\r\n                case \"coupon\":\r\n                    this.showMain();\r\n                    if (query.coupon)\r\n                        await this.cCoupon.showSharedCoupon(query);\r\n                    break;\r\n                case \"credits\":\r\n                    this.showMain();\r\n                    if (query.credits) {\r\n                        await this.cCoupon.showSharedCredits(query);\r\n                    }\r\n                    break;\r\n                case \"vipcard\":\r\n                    this.showMain();\r\n                    if (query.vipcard)\r\n                        await this.cCoupon.showSharedVIPCard(query);\r\n                    break;\r\n                case \"login\":\r\n                    if (!this.isLogined)\r\n                        this.cMe.showLogin(async (user: User) => {\r\n                            window.location.href = window.location.origin;\r\n                        });\r\n                    break;\r\n                case \"loginout\":\r\n                    if (this.isLogined)\r\n                        this.cMe.showLoginOut(async () => {\r\n                            window.location.href = window.location.origin;\r\n                        });\r\n                    break;\r\n                case \"productlist\":\r\n                    this.cProduct.start(query.key);\r\n                    break;\r\n                case \"me\":\r\n                    this.cMe.openMyOrders('all');\r\n                    break;\r\n                default:\r\n                    this.showMain();\r\n                    break;\r\n            }\r\n        } else {\r\n            this.showMain();\r\n            //this.openVPage(Entrance);\r\n        }\r\n    }\r\n\r\n    protected async afterStart(): Promise<void> {\r\n        // await super.afterStart();\r\n        nav.onChangeLogin = (user: User) => this.onChangeLogin(user);\r\n        await this.onChangeLogin(this.user);\r\n        nav.resolveRoute();\r\n        this.topKey = nav.topKey();\r\n    }\r\n\r\n    renderCartLabel() {\r\n        return this.cCart.renderCartLabel();\r\n    }\r\n\r\n    /*\r\n    private setUser() {\r\n        this.currentUser = new WebUser(this.uqs); //this.cUqWebUser, this.cUqCustomer);\r\n        this.currentUser.setUser(this.user);\r\n    }\r\n    */\r\n\r\n    /**\r\n     * \r\n     * @returns \r\n     */\r\n    getPageWebNav(): PageWebNav {\r\n        let webNav = this.getWebNav();\r\n        if (webNav === undefined) return;\r\n        let { VNavHeader, VNavRawHeader, VNavFooter, VNavRawFooter, renderPageHeader } = webNav;\r\n        let navHeader: JSX.Element;\r\n        if (VNavHeader) navHeader = this.renderView(VNavHeader);\r\n        let navRawHeader: JSX.Element;\r\n        if (VNavRawHeader) navRawHeader = this.renderView(VNavRawHeader);\r\n        let navFooter: JSX.Element;\r\n        if (VNavFooter) navFooter = this.renderView(VNavFooter);\r\n        let navRawFooter: JSX.Element;\r\n        if (VNavRawFooter) navRawFooter = this.renderView(VNavRawFooter);\r\n        let ret: PageWebNav = {\r\n            navHeader,\r\n            navRawHeader,\r\n            navFooter,\r\n            navRawFooter,\r\n            renderPageHeader,\r\n        };\r\n        return ret;\r\n    }\r\n\r\n    showMain(initTabName?: string) {\r\n        this.openVPage(VMain, initTabName);\r\n    }\r\n\r\n\r\n    getProduct(id: number | BoxId): Product {\r\n        if (!id) return;\r\n        // region, language 改变的时候，直接清cache\r\n        /*\r\n        let {currentSalesRegion, currentLanguage} = this;\r\n        if (this.salesRegion !== currentSalesRegion\r\n            || this.language != currentLanguage) {\r\n            this.cache = new Map<number, Product>();\r\n            this.salesRegion = currentSalesRegion;\r\n            this.language = currentLanguage;\r\n        }\r\n        */\r\n        if (typeof id === 'object') id = id.id;\r\n        let product = this.cache.get(id);\r\n        if (!product) {\r\n            product = new Product(this.store, id);\r\n            this.cache.set(id, product);\r\n        }\r\n        return product;\r\n    }\r\n\r\n    /*\r\n        // onRoute在beforeStart中调用。this.on的作用是将url和function的关系（即route)配置在导航基础结构中供使用\r\n        // 导航的基本原理是：根据当前的location.href，从配置好的route中找到匹配项，执行对应的function。\r\n        protected onRoute() {\r\n            this.on(() => {\r\n                this.showMain();\r\n            });\r\n            this.on({\r\n                '/search/:key': (params: any, queryStr: any) => {\r\n                    this.cProduct.start(params.key);\r\n                },\r\n                '/product/:id': (params: any, queryStr: any) => {\r\n                    this.cProduct.showProductDetail(params.id);\r\n                },\r\n                '/cart': () => {\r\n                    this.cCart.start();\r\n                },\r\n                '/product-catalog/:id': (params: any, queryStr: any) => {\r\n                    this.cProduct.showProductDetail(params.id);\r\n                },\r\n                '/pointshop': () => {\r\n                    // 积分商城是否需要登录后才能查看？ \r\n                    this.cPointProduct.openMyPoint();\r\n                }\r\n            });\r\n        }\r\n    */\r\n\r\n    private navHome: NavPage = async (params: any) => {\r\n        await this.cHome.getSlideShow();\r\n\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cProductCategory.start());\r\n        await Promise.all(promises);\r\n        this.showMain();\r\n    }\r\n\r\n    private navSearch: NavPage = async (params: any) => {\r\n        let { search } = document.location;\r\n        let query: any = { type: 1 };\r\n        if (search) query = qs.parse(search.toLowerCase());\r\n        let type = (query?.type && Number(query.type) === 2) ? query.type : 1;\r\n        let promises: PromiseLike<void>[] = [];\r\n        promises.push(this.cProductCategory.start());\r\n        await Promise.all(promises);\r\n        await this.store.buildCartItems();\r\n        this.cProduct.start({ key: params?.key, type: type });\r\n    }\r\n\r\n    private navProduct: NavPage = async (params: any) => {\r\n        await this.store.buildCartItems();\r\n        this.cProduct.showProductDetail(params?.id);\r\n    }\r\n\r\n    private navProductMSCU: NavPage = async (params: any) => {\r\n        // await this.assureLogin();\r\n        this.cProduct.openMaterial(params?.type, params?.id);\r\n    }\r\n\r\n    private navCart: NavPage = async (params: any) => {\r\n        await this.store.buildCartItems();\r\n        await this.cSelectShippingContact.getContactList();\r\n        await this.cCart.start();\r\n    }\r\n\r\n    private navProductCategory: NavPage = async (params: any) => {\r\n        let id = params.id;\r\n        if (id) id = Number(id);\r\n        await this.store.buildCartItems();\r\n        await this.cProductCategory.showCategoryPage(id);\r\n    }\r\n\r\n    private navProductCategoryHome: NavPage = async (params: any) => {\r\n        await this.cProductCategory.showCategoryHome();\r\n    }\r\n\r\n    private navPointShop: NavPage = async (params: any) => {\r\n        this.cPointProduct.openMyPoint();\r\n    }\r\n\r\n    private navAbout: NavPage = async (params: any) => {\r\n        this.cMe.openAbout();\r\n    }\r\n\r\n    private navMe: NavPage = async (params: any) => {\r\n        this.cMe.start();\r\n    }\r\n\r\n    private navContactList: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cMe.openContactList();\r\n    }\r\n\r\n    private navInvoice: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cMe.openInvoice();\r\n    }\r\n\r\n    private navMyOrders: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cMe.openMyOrders('all');\r\n    }\r\n\r\n    private navOrderDetail: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cOrder.openOrderDetail(Number(params.orderId));\r\n    }\r\n\r\n    private navCouponManage: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cMe.openCouponManage();\r\n    }\r\n\r\n    private navFavorites: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        this.cMe.openFavorites();\r\n    }\r\n\r\n    private navPassword: NavPage = async (params: any) => {\r\n        await this.assureLogin();\r\n        await nav.changePassword();\r\n    }\r\n\r\n    private navMeInfo: NavPage = async (params: any) => {\r\n        this.cMe.openMeInfo();\r\n    }\r\n\r\n    private navQuickOrder: NavPage = async (params: any) => {\r\n        this.cQuickOrder.openQuickOrder();\r\n    }\r\n\r\n    private navPointProduct: NavPage = async (params: any) => {\r\n        this.cPointProduct.openPointProduct(params);\r\n    }\r\n\r\n    private navPointProductDetail: NavPage = async (params: any) => {\r\n        this.cPointProduct.openPointProductDetail(params);\r\n    }\r\n\r\n    private navPointProductOrder: NavPage = async (params: any) => {\r\n        this.cPointProduct.openExchangeHistory();\r\n    }\r\n\r\n    private navPointProductOrderDetail: NavPage = async (params: any) => {\r\n        let { id } = params;\r\n        this.cPointProduct.openOrderDetail(Number(id));\r\n    }\r\n\r\n    private navProductstructure: NavPage = async (params: any) => {\r\n        this.cProduct.openStructuredSearch();\r\n    }\r\n\r\n    protected onNavRoutes() {\r\n        let routes: { [route: string]: NavPage } = {\r\n            '/app': this.navHome,\r\n            '/index': this.navHome,\r\n            '/home': this.navHome,\r\n            '/search/structure': this.navProductstructure,\r\n            '/search/:key': this.navSearch,\r\n            '/search': this.navProductCategoryHome,\r\n            '/product/:id': this.navProduct,\r\n            '/product/mscu/:type/:id': this.navProductMSCU,\r\n            '/product/mscu/:type': this.navProductMSCU,\r\n            '/cart': this.navCart,\r\n            '/product-catalog/:id': this.navProductCategory,\r\n            '/product-catalog': this.navProductCategoryHome,\r\n            '/pointshop': this.navPointShop,\r\n            '/about': this.navAbout,\r\n            '/me': this.navMe,\r\n\r\n            '/contact': this.navContactList,\r\n            '/invoice': this.navInvoice,\r\n            '/myOrders': this.navMyOrders,\r\n            '/orderDetail/:orderId': this.navOrderDetail,\r\n            '/couponManage': this.navCouponManage,\r\n            '/favorites': this.navFavorites,\r\n            '/password': this.navPassword,\r\n            '/meInfo': this.navMeInfo,\r\n\r\n            '/quickOrder': this.navQuickOrder,\r\n\r\n\r\n            \"/pointshop/productLine/:id\": this.navPointProduct,\r\n            \"/pointshop/product/:id\": this.navPointProductDetail,\r\n            \"/pointshop/order\": this.navPointProductOrder,\r\n            \"/pointshop/orderDetail/:id\": this.navPointProductOrderDetail,\r\n        };\r\n        nav.onNavRoutes(routes);\r\n        this.setHomeRoute();\r\n    }\r\n\r\n    setHomeRoute() {\r\n        nav.onNavRoute(this.navHome);\r\n    }\r\n\r\n    async assureLogin(): Promise<void> {\r\n        if (this.isLogined) return;\r\n        return new Promise<void>((resolve, reject) => {\r\n            let loginCallback = async (user: User) => {\r\n                if (this.isWebNav) {\r\n                    window.history.back();\r\n                }\r\n                else {\r\n                    this.closePage(1);\r\n                }\r\n                resolve();\r\n            };\r\n            nav.showLogin(loginCallback, true);\r\n        });\r\n    }\r\n\r\n    protected async onChangeLogin(user: User) {\r\n        if (user) {\r\n            await this.initLogined(user);\r\n        }\r\n        else {\r\n            this.initNotLogined();\r\n        }\r\n        await this.initUQs();\r\n        await this.store.initCart();\r\n    }\r\n\r\n    private async initLogined(user: User) {\r\n        this.currentUser = new WebUser(this.uqs);\r\n        await this.currentUser.setUser(this.user);\r\n        this.store.currentUser = this.currentUser;\r\n        /*\r\n        // 如果currentUser，也必须重置\r\n        //if (this.currentUser === undefined)\r\n        this.currentUser = new WebUser(this.uqs);\r\n        await this.currentUser.setUser(user);\r\n        await this.cart.mergeFromRemote();\r\n        */\r\n    }\r\n\r\n    private initNotLogined() {\r\n        // 退出的话把购物车清掉？\r\n        this.currentUser = undefined;\r\n        /* 切换账户,cOrder内容未清空,快捷方式 直击实例赋值 */\r\n        this.cOrder = this.newC(COrder);\r\n        /*\r\n        localStorage.removeItem(LOCALCARTNAME);\r\n        this.cart.count.set(0);\r\n        this.cart.cartItems = [];\r\n        */\r\n    }\r\n\r\n    protected onDispose() {\r\n        this.store.dispose();\r\n    }\r\n}","/* eslint-disable */\r\nimport * as React from 'react';\r\nimport { VPage, Ax, FA, View, A, Image, nav, env } from 'tonva-react';\r\nimport { CApp } from './CApp';\r\nimport { observer } from 'mobx-react';\r\nimport * as qs from 'querystringify';\r\nimport { makeObservable, observable } from 'mobx';\r\n\r\ninterface PCategoryId {\r\n    id: number | string,\r\n    id_test: number | string\r\n};\r\n\r\nconst ProductCategorys: { [name: string]: PCategoryId } = {\r\n    \"有机化学\": { id: 47, id_test: 7 },\r\n    \"分析化学\": { id: 470, id_test: 430 },\r\n    \"生命科学\": { id: 1013, id_test: 986 },\r\n    \"材料科学\": { id: 1219, id_test: 1214 },\r\n    \"仪器耗材\": { id: 1545, id_test: \"#\" }\r\n};\r\n\r\nexport class VMainWebNav extends VPage<CApp> {\r\n    content() {\r\n        let { cHome } = this.controller;\r\n        return cHome.tabContent();\r\n    }\r\n}\r\n\r\nexport class NavHeaderView extends View<CApp> {\r\n    private searchKey: HTMLInputElement;\r\n    private searchType: HTMLSelectElement;\r\n    searchPhlder: string;\r\n\r\n    constructor(c: CApp) {\r\n        super(c);\r\n\r\n        makeObservable(this, {\r\n            searchPhlder: observable\r\n        });\r\n    }\r\n\r\n    searchClick = () => {\r\n        let keyValue: string = this.searchKey?.value ? this.searchKey?.value : \"\";\r\n        let url = \"/search/\" + encodeURIComponent(keyValue);\r\n        if (this.searchKey?.value !== \"\") url += \"?type=\" + this.searchType.value;\r\n        this.navigate(url);\r\n    }\r\n\r\n    render() {\r\n        let vLogin = React.createElement(observer(() => {\r\n            let { user } = this.controller;\r\n            let v: any;\r\n            if (!user) {\r\n                v = <>\r\n                    <Ax className=\"\" href=\"/register\" target=\"_self\">注册</Ax> /&nbsp;\r\n                    <Ax className=\"\" href=\"/login\" target=\"_self\">登录</Ax>\r\n                </>;\r\n            }\r\n            else {\r\n                let { name, nick, icon } = user;\r\n                let Avatar: JSX.Element = !icon ? <FA name=\"user\" size=\"lg\" className=\"text-primary\" /> : <Image className=\"w-1c h-1c\" style={{ width: \"1rem\", height: \"1rem\" }} src={icon} />\r\n                v = <>\r\n                    <Ax className=\"mr-2 nav-item dropdown\" href=\"/me\" target=\"_self\">\r\n                        {Avatar}\r\n                        {/* <FA name=\"user\" size=\"lg\" className=\"text-primary\" /> */}\r\n                        <span className=\"dropdown-menu dropdown-menu-right px-2 m-0\">{nick || name}</span>\r\n                    </Ax>\r\n                    {/* <A className=\"mr-2\" href=\"/me\" target=\"_self\">{nick || name}</A> */}\r\n                    <Ax className=\"mr-2\" href=\"/logout\" target=\"_self\">退出</Ax>\r\n                </>;\r\n            }\r\n            return <div className=\"login\" style={{ fontSize: \"14px\" }}> {v}</div >;\r\n        }));\r\n\r\n        let vCartLabel = React.createElement(observer(() => {\r\n            let store = this?.controller?.store;\r\n            let count = store?.cartCount;\r\n            let vCount: any;\r\n            if (count) vCount = <u className=\"position-absolute d-flex align-items-center justify-content-center text-white text-right text-decoration-none ml-2\"\r\n                style={{ top: \"0.2rem\", fontSize: \"0.6rem\", backgroundColor: \"red\", minWidth: \"1rem\", padding: \"0 3px\", height: \"1.0rem\", borderRadius: '0.6rem' }}>{count}</u>;\r\n            //if (!count) count = undefined;\r\n            return <div className=\"cart mr-3 pl-1\">\r\n                <Ax className=\"text-primary position-relative\" href=\"/cart\">\r\n                    <span className=\"text-primary small\">\r\n                        <FA name=\"shopping-cart\" />\r\n                    </span>\r\n                    {vCount}\r\n                </Ax>\r\n            </div>\r\n        }));\r\n\r\n        let searchPhlderVal = (type: number) => {\r\n            if (type === 1) return \"品名、编号、CAS...\";\r\n            else return \"产品CAS、名称、组分CAS、名称....\";\r\n        };\r\n\r\n        let { search } = document.location;\r\n        let query: any = { type: 1 };\r\n        if (search) query = qs.parse(search.toLowerCase());\r\n        this.searchPhlder = searchPhlderVal(Number(query?.type || 1));\r\n\r\n        let searchTypeUI = React.createElement(observer(() => {\r\n            return <><form className=\"w-100\" onSubmit={(e: any) => { e.preventDefault(); this.searchClick(); }}>\r\n                <input type=\"text\" ref={v => this.searchKey = v} className=\"search-query form-control\" placeholder={this.searchPhlder} />\r\n            </form>\r\n                <select onChange={() => { this.searchPhlder = searchPhlderVal(Number(this.searchType?.value || 1)) }} onClick={(e: any) => { e.preventDefault(); return false }} ref={(v) => this.searchType = v} defaultValue={query?.type || 1}\r\n                    className=\"h-100 align-middle p-0 position-absolute input-group-sel\" style={{ border: \"1px solid lightgray\", zIndex: 99 }} >\r\n                    <option value=\"1\">试剂/耗材</option>\r\n                    <option value=\"2\">标准品</option>\r\n                </select>\r\n            </>\r\n        }));\r\n\r\n        return <header>\r\n            <div className=\"top-header\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-auto ml-auto d-flex align-items-center float-right\">\r\n                            <div className=\"phone\">\r\n                                <img src=\"/images/icon/Phone.svg\" /> 客服热线： 400-666-7788\r\n                            </div>\r\n                            <div className=\"area\">\r\n                                <a className=\"px-1\" data-toggle=\"modal\">\r\n                                    中国\r\n                                </a>\r\n                            </div>\r\n                            {vCartLabel}\r\n                            {vLogin}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark pad-tb20\">\r\n                <div className=\"container\">\r\n                    <a href=\"/\" className=\"header-logo\"><img src=\"/images/logo.svg\" alt=\"logo\" className=\"img-fluid\" /></a>\r\n                    <div className=\"justify-content-center search-wrap\">\r\n                        <ul className=\"d-none d-lg-flex top-list justify-content-center\">\r\n                            <li><a href=\"/subjectpost/18\" type=\"_blank\">特惠活动</a> </li>\r\n                            <li><a href=\"/myOrders\">订单查询</a> </li>\r\n                            <li><a href=\"/product/mscu/COA\" target=\"_blank\">COA</a> </li>\r\n                            <li><a href=\"/product/mscu/MSDS\" target=\"_blank\">SDS</a> </li>\r\n                            <li><a href=\"/quickOrder\" target=\"_blank\">批量订购</a></li>\r\n                            <li><a href=\"/search/structure\" target=\"_blank\">结构式搜索</a></li>\r\n                        </ul>\r\n                        <div className=\"custom-search-input\">\r\n                            <div className=\"input-group col-md-12\">\r\n                                \r\n                                {searchTypeUI}\r\n                                <span className=\"input-group-btn\" onClick={(e: any) => { this.searchClick();return false }}>\r\n                                    <button className=\"btn\" type=\"button\">\r\n                                        <img src=\"/images/icon/magnifier.svg\" />\r\n                                    </button>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <button className=\"navbar-toggle navbar-toggler navbar-toggler-right collapsed\" type=\"button\" data-toggle=\"collapse\"\r\n                        data-target=\"#navbarResponsive\" aria-controls=\"navbarResponsive\" aria-expanded=\"false\"\r\n                        aria-label=\"Toggle navigation\">\r\n                        <span className=\"bar1\"></span>\r\n                        <span className=\"bar2\"></span>\r\n                        <span className=\"bar3\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarResponsive\">\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            <li className=\"nav-item dropdown\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"/product-catalog\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\r\n                                    aria-expanded=\"false\">\r\n                                    产品<b className=\"caret\"></b>\r\n                                </a>\r\n                                <div className=\"dropdown-menu dropdown-menu-right m-0\" aria-labelledby=\"navbarDropdownPortfolio\">\r\n                                    {\r\n                                        Object.keys(ProductCategorys).map((name: string) => {\r\n                                            let id = env.testing === true ? ProductCategorys[name].id_test : ProductCategorys[name].id;\r\n                                            return <a key={name} className=\"dropdown-item text-center\" href={`/product-catalog/${id}`}>{name}</a>;\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </li>\r\n\r\n                            {/* 服务菜单 二级菜单开发中\r\n                            <li className=\"nav-item dropdown\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\r\n                                    aria-expanded=\"false\">\r\n                                    服务<b className=\"caret\"></b>\r\n                                </a>\r\n                                <div className=\"dropdown-menu dropdown-menu-right m-0\" aria-labelledby=\"navbarDropdownBlog\">\r\n                                    <a className=\"dropdown-item text-center\" href=\"/myOrders\">订单查询</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/pointshop\">积分查询</a>\r\n                                </div>\r\n                            </li> */}\r\n                            <li className=\"nav-item dropdown\">\r\n                                <a className=\"nav-link dropdown-toggle\" href=\"#\" data-toggle=\"dropdown\" aria-haspopup=\"true\"\r\n                                    aria-expanded=\"false\">\r\n                                    会员<b className=\"caret\"></b>\r\n                                </a>\r\n                                <div className=\"dropdown-menu dropdown-menu-right m-0\" aria-labelledby=\"navbarDropdownBlog\">\r\n                                    <a className=\"dropdown-item text-center\" href=\"/password\">修改密码</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/meInfo\">账户信息</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/contact\">地址管理</a>\r\n                                    <hr className=\"my-1\" />\r\n                                    <a className=\"dropdown-item text-center\" href=\"/favorites\">商品收藏</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/pointshop\">积分商城</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/couponManage\">卡券管理</a>\r\n                                    <hr className=\"my-1\" />\r\n                                    <a className=\"dropdown-item text-center\" href=\"/myOrders\">订单记录</a>\r\n                                    <a className=\"dropdown-item text-center\" href=\"/invoice\">发票管理</a>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    }\r\n}\r\n\r\nexport class NavFooterView extends View<CApp> {\r\n    render() {\r\n        return <div className=\"d-none d-sm-block footer footer-m reset-z-footer-bg\" id=\"end-page-footer\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-3 col-6\">\r\n                        <img src=\"/images/icon/footer-logo.svg\" className=\"footer-logo\" />\r\n                        <p>服务科技与工业发展 造福人类</p>\r\n                        <img src=\"/images/qrcode.jpg\" style={{width:100}} className=\"mt-lg-50 qrcode\" />\r\n                        <p className=\"follow\">关注微信公众号</p>\r\n                        {/* <img src=\"/images/qrcode.jpg\" className=\"w-75 mt-lg-28 qrcode\" /> */}\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-6\">\r\n                        <div className=\"footer-title\">百灵威集团</div>\r\n                        <ul>\r\n                            <li><a href=\"/ch/about\" target=\"_blank\">公司简介</a></li>\r\n                            <li><a href=\"/ch/promise\" target=\"_blank\">企业承诺</a></li>\r\n                            <li><a href=\"/ch/recommended-brand\" target=\"_blank\">合作品牌</a></li>\r\n                            <li><a href=\"/job\" target=\"_blank\">招贤纳士</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-6\">\r\n                        <div className=\"footer-title\">浏览</div>\r\n                        <ul>\r\n                            <li><a href=\"/information\" target=\"_blank\">资讯中心</a></li>\r\n                            <li><a href=\"/product/mscu/msds\" target=\"_blank\">安全说明书(SDS)</a></li>\r\n                            <li><a href=\"/product-catalog\">产品</a></li>\r\n                            <ul className=\"ml-3\">\r\n                                {\r\n                                    Object.keys(ProductCategorys).map((name: string) => {\r\n                                        let id = env.testing === true ? ProductCategorys[name].id_test : ProductCategorys[name].id;\r\n                                        return <li key={name}><a href={`/product-catalog/${id}`}>{name}</a></li>\r\n                                    })\r\n                                }\r\n                            </ul>\r\n                            <li><a href=\"/hazard-purchase\" className=\"text-danger\" target=\"_blank\">危险品购买提示</a></li>\r\n                        </ul>\r\n                    </div>\r\n                    <div className=\"col-lg-3 col-6\">\r\n                        <div className=\"footer-title\">\r\n                            <a href=\"/ch/contact\" target=\"_blank\">联系我们</a>\r\n                        </div>\r\n                        <div className=\"contact\">\r\n                            电话1 (QQ): 400 666 7788\r\n                        </div>\r\n                        <div className=\"contact\">\r\n                            电话2：(86) 10 59309000\r\n                        </div>\r\n                        <div className=\"contact\">\r\n                            传真：<br />+86 10 8284 9933\r\n                        </div>\r\n                        <div className=\"contact\">\r\n                            电子邮件：<br />\r\n                            <a href=\"mailto:jkinfo@jkchemical.com\">jkinfo@jkchemical.com</a><br />\r\n                            <a href=\"mailto:jkinfo@jk-sci.com\">jkinfo@jk-sci.com</a>\r\n                        </div>\r\n                        <div className=\"contact\">\r\n                            <a href=\"/ch/contact\" target=\"_blank\">更多联系方式</a>\r\n                        </div>\r\n                        <div className=\"footer-social\">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-bottom mt-2 py-1\">\r\n                <div className=\"container\">\r\n                    <div className=\"row text-center\">\r\n                        <div className=\"col-sm-5 pr-0\">\r\n                            严禁在未经同意的情况下使用本网站所有信息\r\n                            | <a href=\"/user-agreement\" target=\"_blank\">用户使用服务协议</a>\r\n                            | <a href=\"/legal\" target=\"_blank\">法律声明</a>\r\n                            | <a href=\"/privacy-cn\" target=\"_blank\">隐私政策</a>\r\n                        </div>\r\n                        <div className=\"col-sm-7 pl-0\">\r\n                            <img className=\"align-top\" src=\"/images/gongan.png\" alt=\"\" />\r\n                            <a href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502044888\" target=\"_blank\">京公网安备 11010502044888号</a>&nbsp;\r\n                            {/* 京公安网备11010502027473 */}\r\n                            | <a href=\"https://beian.miit.gov.cn\" target=\"_blank\">京ICP备09071033号-3</a>&nbsp;\r\n                            | <a href=\"/images/上海百灵威营业执照副本.pdf\" target=\"_blank\">上海工商</a>&nbsp;\r\n                            | <a href=\"/images/危险化学品经营许可证副本.jpg\" target=\"_blank\">危险化学品经营许可证</a>\r\n                            | <a href=\"/images/营业执照副本.jpg\" target=\"_blank\"> 营业执照(三证合一)</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Elements, nav, User, WebNav, env } from 'tonva-react';\r\nimport { CApp } from \"./CApp\";\r\nimport { NavHeaderView, NavFooterView } from './webNav';\r\nimport { VMainWebNav } from './webNav';\r\n\r\n\r\nexport class CWeb extends CApp {\r\n\r\n    //protected abstract async onPageStart(params:any):Promise<void>;\r\n\r\n    get webNav(): WebNav<any> {\r\n        return {\r\n            VNavRawHeader: NavHeaderView,\r\n            VNavRawFooter: NavFooterView,\r\n        }\r\n    }\r\n\r\n    protected beforeInit() {\r\n        nav.setIsWebNav();\r\n    }\r\n\r\n    protected afterInit() {\r\n        if (!env.isMobile) {\r\n            nav.pageWebNav = this.pageWebNav;\r\n        }\r\n    }\r\n\r\n    protected async afterStart(): Promise<void> {\r\n        await super.afterStart();\r\n\r\n        this.hookElements();\r\n        window.onfocus = () => {\r\n            nav.reloadUser();\r\n        }\r\n    }\r\n\r\n    private hookElements() {\r\n        let elements: Elements = {\r\n            login: this.renderLogin,\r\n            homeCart: this.renderHomeCart,\r\n        }\r\n        for (const p in elements) {\r\n            let elRoot = document.getElementById(p);\r\n            if (elRoot) {\r\n                elements[p](elRoot);\r\n            }\r\n        }\r\n    }\r\n\r\n    private renderLogin = (element: HTMLElement) => {\r\n        ReactDOM.render(this.cMe.renderLoginState(), element);\r\n    }\r\n\r\n    private renderHomeCart = (element: HTMLElement) => {\r\n        ReactDOM.render(this.cCart.renderCartLabel_web(), element);\r\n    }\r\n\r\n    protected async internalStart(params: any) {\r\n    }\r\n\r\n    showMain() {\r\n        this.openVPage(VMainWebNav);\r\n    }\r\n\r\n    setHomeRoute() {\r\n        nav.onNavRoute(async (params: any) => {\r\n            // window.location.href = process.env.REACT_APP_HOME_PATH;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param user \r\n     */\r\n    protected async onChangeLogin(user: User) {\r\n        await super.onChangeLogin(user);\r\n        if (user) {\r\n            // 登陆后\r\n\r\n        } else {\r\n            // 退出后\r\n        }\r\n    }\r\n}","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidCarrier } from \"./JkDeliver\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCarrier):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderMain } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tcontact: {\r\n\t\t\"name\": \"contact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Contact\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customer, fields.contact, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderDetail } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\titem: {\r\n\t\t\"name\": \"item\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Item\"\r\n\t} as FieldItemId,\r\n\tproduct: {\r\n\t\t\"name\": \"product\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Product\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tprice: {\r\n\t\t\"name\": \"price\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Price\"\r\n\t} as FieldItemNum,\r\n\tlotNumber: {\r\n\t\t\"name\": \"lotNumber\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"LotNumber\"\r\n\t} as FieldItemString,\r\n\twarehouse: {\r\n\t\t\"name\": \"warehouse\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Warehouse\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.item, fields.product, fields.quantity, fields.amount, fields.price, fields.lotNumber, fields.warehouse, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { Warehouse } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tname: {\r\n\t\t\"name\": \"name\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Name\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.name, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"Warehouse\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: Warehouse):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverMain } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tcontact: {\r\n\t\t\"name\": \"contact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Contact\"\r\n\t} as FieldItemId,\r\n\twarehouse: {\r\n\t\t\"name\": \"warehouse\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Warehouse\"\r\n\t} as FieldItemId,\r\n\t$create: {\r\n\t\t\"name\": \"$create\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"$create\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customer, fields.contact, fields.warehouse, fields.$create, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverDetail } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverMainEx } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tdeliverId: {\r\n\t\t\"name\": \"deliverId\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"DeliverId\"\r\n\t} as FieldItemString,\r\n\twarehouseName: {\r\n\t\t\"name\": \"warehouseName\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"WarehouseName\"\r\n\t} as FieldItemString,\r\n\taddressString: {\r\n\t\t\"name\": \"addressString\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"AddressString\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.deliverId, fields.warehouseName, fields.addressString, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverMainEx\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverMainEx):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { CutOffMain } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\twarehouse: {\r\n\t\t\"name\": \"warehouse\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Warehouse\"\r\n\t} as FieldItemId,\r\n\tcutter: {\r\n\t\t\"name\": \"cutter\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Cutter\"\r\n\t} as FieldItemId,\r\n\t$create: {\r\n\t\t\"name\": \"$create\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"$create\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.warehouse, fields.cutter, fields.$create, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"CutOffMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: CutOffMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { CutOffType } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tname: {\r\n\t\t\"name\": \"name\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Name\"\r\n\t} as FieldItemString,\r\n\tdescription: {\r\n\t\t\"name\": \"description\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Description\"\r\n\t} as FieldItemString,\r\n\t$create: {\r\n\t\t\"name\": \"$create\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"$create\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.name, fields.description, fields.$create, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"CutOffType\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: CutOffType):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverType } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tname: {\r\n\t\t\"name\": \"name\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Name\"\r\n\t} as FieldItemString,\r\n\tdescription: {\r\n\t\t\"name\": \"description\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Description\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.name, fields.description, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverType\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverType):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxDeliverMain } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tstaff: {\r\n\t\t\"name\": \"staff\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Staff\"\r\n\t} as FieldItemId,\r\n\trows: {\r\n\t\t\"name\": \"rows\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"Rows\"\r\n\t} as FieldItemInt,\r\n\tpickRows: {\r\n\t\t\"name\": \"pickRows\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"PickRows\"\r\n\t} as FieldItemInt,\r\n\tcarrier: {\r\n\t\t\"name\": \"carrier\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Carrier\"\r\n\t} as FieldItemId,\r\n\twaybillNumber: {\r\n\t\t\"name\": \"waybillNumber\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"WaybillNumber\"\r\n\t} as FieldItemString,\r\n\tdeliverTime: {\r\n\t\t\"name\": \"deliverTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"DeliverTime\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.staff, fields.rows, fields.pickRows, fields.carrier, fields.waybillNumber, fields.deliverTime, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxDeliverMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxDeliverMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxDeliverDetail } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tdeliverDone: {\r\n\t\t\"name\": \"deliverDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.deliverDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxDeliverDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxDeliverDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxCutOffMain } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tstaff: {\r\n\t\t\"name\": \"staff\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Staff\"\r\n\t} as FieldItemId,\r\n\tstartTime: {\r\n\t\t\"name\": \"startTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"StartTime\"\r\n\t} as undefined,\r\n\tfinishTime: {\r\n\t\t\"name\": \"finishTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"FinishTime\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.staff, fields.startTime, fields.finishTime, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxCutOffMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxCutOffMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxDelivering } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\t\r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxDelivering\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxDelivering):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { Talling } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\t\r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"Talling\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: Talling):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxPendingDeliver } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tshowPrice: {\r\n\t\t\"name\": \"showPrice\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ShowPrice\"\r\n\t} as undefined,\r\n\tjson: {\r\n\t\t\"name\": \"json\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Json\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, fields.quantity, fields.showPrice, fields.json, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxPendingDeliver\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxPendingDeliver):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxUserWarehouse } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxUserWarehouse\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxUserWarehouse):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxCutoffTypeDefinition } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxCutoffTypeDefinition\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxCutoffTypeDefinition):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { CutOffProcessing } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"CutOffProcessing\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: CutOffProcessing):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverDetailExchangeDetail } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverDetailExchangeDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverDetailExchangeDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DeliverDetailOrderDetail } from \"./JkDeliver\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DeliverDetailOrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DeliverDetailOrderDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","//=== UqApp builder created on Fri Oct 08 2021 19:33:33 GMT+0800 (中国标准时间) ===//\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { IDXValue, Uq, UqTuid, UqAction, UqSheet, UqBook, UqQuery, UqMap, UqHistory, UqPending, UqID, UqIDX, UqIX } from \"tonva-react\";\r\n\r\n\r\n//===============================\r\n//======= UQ 百灵威系统工程部/order ========\r\n//===============================\r\n\r\nexport enum EnumFeeType {\r\n\tpacking = 11,\r\n\trefrigeration = 12,\r\n\tfreezing = 13,\r\n\tproxyFreight = 14\r\n}\r\n\r\nexport enum EnumAmountDiff {\r\n\tpacking = 11,\r\n\trefrigeration = 12,\r\n\tfreezing = 13,\r\n\tproxyFreight = 14\r\n}\r\n\r\nexport enum EnumOrderState {\r\n\tmatching = 11,\r\n\tdelivering = 12,\r\n\tdelivered = 13,\r\n\tcompleted = 14,\r\n\tcanceled = 15,\r\n\tpendingPayment = 21,\r\n\tpaid = 22\r\n}\r\n\r\nexport interface Tuid$user {\r\n\tid?: number;\r\n\tname: string;\r\n\tnick: string;\r\n\ticon: string;\r\n\tassigned: string;\r\n\tpoke: number;\r\n}\r\n\r\nexport interface Tuid$sheet {\r\n\tid?: number;\r\n\tno: string;\r\n\tuser: number;\r\n\tdate: any;\r\n\tsheet: number;\r\n\tversion: number;\r\n\tflow: number;\r\n\tapp: number;\r\n\tstate: number;\r\n\tdiscription: string;\r\n\tdata: string;\r\n\tprocessing: number;\r\n}\r\n\r\nexport interface TuidCoupon {\r\n\tid?: number;\r\n\tcode: string;\r\n\tuser: number;\r\n\tcustomer: number;\r\n\tdiscount: number;\r\n\tpreferential: number;\r\n\tvaliditydate: any;\r\n\tisValid: number;\r\n}\r\n\r\nexport interface TuidChemical {\r\n\tid?: number;\r\n\tCAS: string;\r\n}\r\n\r\nexport interface TuidSalesRegion {\r\n\tid?: number;\r\n\tname: string;\r\n\tcurrency: number;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidCurrency {\r\n\tid?: number;\r\n\tname: string;\r\n\tsuffix: string;\r\n}\r\n\r\nexport interface TuidPackType {\r\n\tid?: number;\r\n\tname: string;\r\n\tdescription: string;\r\n}\r\n\r\nexport interface TuidAddress {\r\n\tid?: number;\r\n\tcountry: number;\r\n\tprovince: number;\r\n\tcity: number;\r\n\tcounty: number;\r\n\tdescription: string;\r\n}\r\n\r\nexport interface TuidCountry {\r\n\tid?: number;\r\n\tcode: string;\r\n\tenglishName: string;\r\n\tchineseName: string;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidProvince {\r\n\tid?: number;\r\n\tcountry: number;\r\n\tenglishName: string;\r\n\tchineseName: string;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidCity {\r\n\tid?: number;\r\n\tprovince: number;\r\n\tenglishName: string;\r\n\tchineseName: string;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidCounty {\r\n\tid?: number;\r\n\tcity: number;\r\n\tenglishName: string;\r\n\tchineseName: string;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidInvoiceType {\r\n\tid?: number;\r\n\tdescription: string;\r\n}\r\n\r\nexport interface TuidCustomer {\r\n\tid?: number;\r\n\tname: string;\r\n}\r\n\r\nexport interface TuidOrganization {\r\n\tid?: number;\r\n\tname: string;\r\n}\r\n\r\nexport interface TuidContact {\r\n\tid?: number;\r\n\tname: string;\r\n\torganizationName: string;\r\n\tmobile: string;\r\n\ttelephone: string;\r\n\temail: string;\r\n\taddress: number;\r\n\taddressString: string;\r\n}\r\n\r\nexport interface TuidInvoiceInfo {\r\n\tid?: number;\r\n\ttitle: string;\r\n\ttaxNo: string;\r\n\taddress: string;\r\n\ttelephone: string;\r\n\tbank: string;\r\n\taccountNo: string;\r\n}\r\n\r\nexport interface TuidBrand {\r\n\tid?: number;\r\n\tname: string;\r\n\tno: string;\r\n}\r\n\r\nexport interface TuidProductX {\r\n\tid?: number;\r\n\tbrand: number;\r\n}\r\n\r\nexport interface TuidWarehouse {\r\n\tid?: number;\r\n\tname: string;\r\n}\r\n\r\nexport interface TuidWebUser {\r\n\tid?: number;\r\n\tname: string;\r\n\tno: number;\r\n\tpassword: string;\r\n\ticon: string;\r\n}\r\n\r\nexport interface TuidBuyerAccount {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidCommonText {\r\n\tid?: number;\r\n\tcontent: string;\r\n}\r\n\r\nexport interface TuidExpressLogistics {\r\n\tid?: number;\r\n}\r\n\r\nexport interface ParamSetCart {\r\n\tproduct: number;\r\n\tpack: number;\r\n\tprice: number;\r\n\tcurrency: number;\r\n\tquantity: number;\r\n}\r\nexport interface ResultSetCart {\r\n}\r\n\r\nexport interface ParamRemoveFromCart {\r\n\trows: {\r\n\t\tproduct: number;\r\n\t\tpack: number;\r\n\t}[];\r\n\r\n}\r\nexport interface ResultRemoveFromCart {\r\n}\r\n\r\nexport interface ParamMergeCart {\r\n\trows: {\r\n\t\tproduct: number;\r\n\t\tpack: number;\r\n\t\tquantity: number;\r\n\t}[];\r\n\r\n}\r\nexport interface ResultMergeCart {\r\n}\r\n\r\nexport interface ParamOrderPaid {\r\n\tid: number;\r\n\tamount: number;\r\n}\r\nexport interface ReturnOrderPaidRet {\r\n\tok: number;\r\n}\r\nexport interface ResultOrderPaid {\r\n\tret: ReturnOrderPaidRet[];\r\n}\r\n\r\nexport interface ParamSaveOrderReturn {\r\n\tdetail: {\r\n\t\torderDetail: number;\r\n\t\tquantity: number;\r\n\t}[];\r\n\r\n}\r\nexport interface ReturnSaveOrderReturnRet {\r\n\tid: number;\r\n}\r\nexport interface ResultSaveOrderReturn {\r\n\tret: ReturnSaveOrderReturnRet[];\r\n}\r\n\r\nexport interface ParamOrderConfirm {\r\n\tid: number;\r\n}\r\nexport interface ResultOrderConfirm {\r\n}\r\n\r\nexport interface ParamSaveOrder {\r\n\tid: number;\r\n\tno: string;\r\n\twebUser: number;\r\n\tcustomer: number;\r\n\tbuyerAccount: number;\r\n\tshippingContact: number;\r\n\tinvoiceContact: number;\r\n\tinvoiceType: number;\r\n\tinvoiceInfo: number;\r\n\tsumAmount: number;\r\n\tcurrency: number;\r\n\tcouponNo: string;\r\n\tsheetId: number;\r\n\tcreateDate: any;\r\n\tdetail: {\r\n\t\tid: number;\r\n\t\tmain: number;\r\n\t\twarehouse: number;\r\n\t\titem: number;\r\n\t\tproduct: number;\r\n\t\tquantity: number;\r\n\t\tprice: number;\r\n\t\tamount: number;\r\n\t\tlotNumber: string;\r\n\t\tcreateDate: any;\r\n\t}[];\r\n\r\n}\r\nexport interface ReturnSaveOrderRet {\r\n\tid: number;\r\n}\r\nexport interface ResultSaveOrder {\r\n\tret: ReturnSaveOrderRet[];\r\n}\r\n\r\nexport interface SheetOrder {\r\n\twebUser: number;\r\n\torganization: number;\r\n\tcustomer: number;\r\n\tshippingContact: number;\r\n\tinvoiceContact: number;\r\n\tinvoiceType: number;\r\n\tinvoiceInfo: number;\r\n\tamount: number;\r\n\tcurrency: number;\r\n\tfreightFee: number;\r\n\tfreightFeeRemitted: number;\r\n\tcoupon: number;\r\n\tcouponOffsetAmount: number;\r\n\tcouponRemitted: number;\r\n\tpoint: number;\r\n\tcomments: string;\r\n\tsalesRegion: number;\r\n\torderItems: {\r\n\t\tproduct: number;\r\n\t\tpack: number;\r\n\t\tprice: number;\r\n\t\tquantity: number;\r\n\t\tsubAmount: number;\r\n\t\trefrigerationFee: number;\r\n\t\tfreezingFee: number;\r\n\t\tpackingFee: number;\r\n\t\tproxyFreightFee: number;\r\n\t}[];\r\n}\r\nexport interface VerifyOrder {\r\n}\r\n\r\nexport interface ParamGetCart {\r\n}\r\nexport interface ReturnGetCart$page {\r\n\tdate: any;\r\n\tproduct: number;\r\n\tpack: number;\r\n\tprice: number;\r\n\tcurrency: number;\r\n\tquantity: number;\r\n}\r\nexport interface ResultGetCart {\r\n\t$page: ReturnGetCart$page[];\r\n}\r\n\r\nexport interface Param$poked {\r\n}\r\nexport interface Return$pokedRet {\r\n\tpoke: number;\r\n}\r\nexport interface Result$poked {\r\n\tret: Return$pokedRet[];\r\n}\r\n\r\nexport interface ParamGetCustomerReturnable {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnGetCustomerReturnable$page {\r\n\tid: number;\r\n\tmain: number;\r\n\twarehouse: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tprice: number;\r\n\tamount: number;\r\n\tlotNumber: string;\r\n\tcreateDate: any;\r\n\tdeliver: number;\r\n\tdeliverDone: number;\r\n\tdeliverTime: any;\r\n\treceive: number;\r\n\treceiveDone: number;\r\n\treceiveTime: any;\r\n\tinvoice: number;\r\n\tinvoiceDone: number;\r\n\tinvoiceTime: any;\r\n\tinvoiceReturn: number;\r\n\tinvoiceReturnDone: number;\r\n}\r\nexport interface ResultGetCustomerReturnable {\r\n\t$page: ReturnGetCustomerReturnable$page[];\r\n}\r\n\r\nexport interface ParamGetCustomerOrderReturn {\r\n\tcustomer: number;\r\n\torder: number;\r\n}\r\nexport interface ReturnGetCustomerOrderReturnMain {\r\n\tid: number;\r\n\tno: string;\r\n\twebUser: number;\r\n\tcustomer: number;\r\n\tbuyerAccount: number;\r\n\tshippingContact: number;\r\n\tinvoiceContact: number;\r\n\tinvoiceType: number;\r\n\tinvoiceInfo: number;\r\n\tsumAmount: number;\r\n\tcurrency: number;\r\n\tcouponNo: string;\r\n\tsheetId: number;\r\n\tcreateDate: any;\r\n}\r\nexport interface ReturnGetCustomerOrderReturnDetail {\r\n\tid: number;\r\n\tmain: number;\r\n\twarehouse: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tprice: number;\r\n\tamount: number;\r\n\tlotNumber: string;\r\n\tcreateDate: any;\r\n\tdeliver: number;\r\n\tdeliverDone: number;\r\n\tdeliverTime: any;\r\n\treceive: number;\r\n\treceiveDone: number;\r\n\treceiveTime: any;\r\n\tinvoice: number;\r\n\tinvoiceDone: number;\r\n\tinvoiceTime: any;\r\n\tinvoiceReturn: number;\r\n\tinvoiceReturnDone: number;\r\n}\r\nexport interface ResultGetCustomerOrderReturn {\r\n\tmain: ReturnGetCustomerOrderReturnMain[];\r\n\tdetail: ReturnGetCustomerOrderReturnDetail[];\r\n}\r\n\r\nexport interface ParamSearchOrders {\r\n\tkeyWord: string;\r\n\tstate: string;\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnSearchOrders$page {\r\n\tseq: number;\r\n\tid: number;\r\n\tno: string;\r\n\tdate: any;\r\n\tstate: string;\r\n}\r\nexport interface ResultSearchOrders {\r\n\t$page: ReturnSearchOrders$page[];\r\n}\r\n\r\nexport interface ParamCart {\r\n\tuser: number;\r\n\tproduct: number;\r\n}\r\nexport interface ReturnCart$page {\r\n\tpack: number;\r\n\tprice: number;\r\n\tcurrency: number;\r\n\tquantity: number;\r\n\tdate: any;\r\n}\r\nexport interface ResultCart {\r\n\t$page: ReturnCart$page[];\r\n}\r\n\r\nexport interface ParamWebUserAccount {\r\n\twebUser: number;\r\n}\r\nexport interface ReturnWebUserAccount$page {\r\n\tcurrency: number;\r\n\t总订单金额: number;\r\n\t总到货金额: number;\r\n\t总开票金额: number;\r\n\t总付款金额: number;\r\n}\r\nexport interface ResultWebUserAccount {\r\n\t$page: ReturnWebUserAccount$page[];\r\n}\r\n\r\nexport interface ParamOrderState {\r\n}\r\nexport interface ReturnOrderState$page {\r\n\tOrder: number;\r\n\t总金额: number;\r\n\t已付金额: number;\r\n\t发货完成: number;\r\n}\r\nexport interface ResultOrderState {\r\n\t$page: ReturnOrderState$page[];\r\n}\r\n\r\nexport interface ParamOrderHistory {\r\n\twebUser: number;\r\n\tproduct: number;\r\n\tpack: number;\r\n\tprice: number;\r\n\tquantity: number;\r\n\tamount: number;\r\n\trefrigerationFee: number;\r\n\tfreezingFee: number;\r\n\tpackingFee: number;\r\n\tproxyFreightFee: number;\r\n\tcurrency: number;\r\n\tsalesRegion: number;\r\n}\r\nexport interface ReturnOrderHistory$page {\r\n\tdate: any;\r\n\twebUser: number;\r\n\tproduct: number;\r\n\tpack: number;\r\n\tprice: number;\r\n\tquantity: number;\r\n\tamount: number;\r\n\trefrigerationFee: number;\r\n\tfreezingFee: number;\r\n\tpackingFee: number;\r\n\tproxyFreightFee: number;\r\n\tcurrency: number;\r\n\tsalesRegion: number;\r\n\ttype: number;\r\n\tsheet: number;\r\n\trow: number;\r\n\tuser: number;\r\n}\r\nexport interface ResultOrderHistory {\r\n\t$page: ReturnOrderHistory$page[];\r\n}\r\n\r\nexport interface OrderDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\twarehouse: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tprice: number;\r\n\tamount: number;\r\n\tlotNumber: string;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface OrderMain {\r\n\tid?: number;\r\n\tno?: string;\r\n\twebUser: number;\r\n\tcustomer: number;\r\n\tbuyerAccount: number;\r\n\tshippingContact: number;\r\n\tinvoiceContact: number;\r\n\tinvoiceType: number;\r\n\tinvoiceInfo: number;\r\n\tsumAmount: number;\r\n\tcurrency: number;\r\n\tcouponNo: string;\r\n\tsheetId: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ReturnDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\torderDetail: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tprice: number;\r\n\tamount: number;\r\n\tlotNumber: string;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ReturnMain {\r\n\tid?: number;\r\n\tno?: string;\r\n\tcustomerAccount: number;\r\n\twebUser: number;\r\n\tshippingContact: number;\r\n\tinvoiceContact: number;\r\n\tsumAmount: number;\r\n\tcurrency: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface OrderMainEx {\r\n\tid?: number;\r\n\tseller: string;\r\n\tsalesman: number;\r\n\tsalesRegion: number;\r\n\torganization: number;\r\n\tcurrency: number;\r\n\tpoNumber: string;\r\n\tcarrier: number;\r\n\tcommentsAboutDeliver: string;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface OrderDetailEx {\r\n\tid?: number;\r\n\torderItemId: string;\r\n\tendUser: number;\r\n\tbrand: number;\r\n\tretail: number;\r\n\tretailCurrency: number;\r\n\tbottomPrice: number;\r\n\tbottomPriceCurrency: number;\r\n\tcostPrice: number;\r\n\tcostPriceCurrency: number;\r\n\tpoItemNumber: string;\r\n\tmark: string;\r\n\ttradeType: string;\r\n\ttaxRate: number;\r\n\tpromotionId: string;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ReturnDetailEx {\r\n\tid?: number;\r\n\treturnItemId: string;\r\n\tendUser: number;\r\n\tmark: string;\r\n}\r\n\r\nexport interface ReturnMainEx {\r\n\tid?: number;\r\n\tseller: string;\r\n\tsalesman: number;\r\n\tsalesRegion: number;\r\n}\r\n\r\nexport interface DxOrderDetail {\r\n\tid: number;\r\n\tdeliver?: number;\r\n\tdeliverDone?: number;\r\n\tdeliverTime?: any;\r\n\treceive?: number;\r\n\treceiveDone?: number;\r\n\treceiveTime?: any;\r\n\tinvoice?: number;\r\n\tinvoiceDone?: number;\r\n\tinvoiceTime?: any;\r\n\tinvoiceReturn?: number;\r\n\tinvoiceReturnDone?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxReturnDetail {\r\n\tid: number;\r\n\tdeliverReturn?: number;\r\n\tdeliverReturnDone?: number;\r\n\treceiveReturn?: number;\r\n\treceiveReturnDone?: number;\r\n\tinvoiceReturn?: number;\r\n\tinvoiceReturnDone?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxOrderMainState {\r\n\tid: number;\r\n\tstate?: any;\r\n\tcreateDate?: any;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxOrderDetail {\r\n\tid: number|IDXValue;\r\n\tdeliver?: number|IDXValue;\r\n\tdeliverDone?: number|IDXValue;\r\n\tdeliverTime?: any|IDXValue;\r\n\treceive?: number|IDXValue;\r\n\treceiveDone?: number|IDXValue;\r\n\treceiveTime?: any|IDXValue;\r\n\tinvoice?: number|IDXValue;\r\n\tinvoiceDone?: number|IDXValue;\r\n\tinvoiceTime?: any|IDXValue;\r\n\tinvoiceReturn?: number|IDXValue;\r\n\tinvoiceReturnDone?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxReturnDetail {\r\n\tid: number|IDXValue;\r\n\tdeliverReturn?: number|IDXValue;\r\n\tdeliverReturnDone?: number|IDXValue;\r\n\treceiveReturn?: number|IDXValue;\r\n\treceiveReturnDone?: number|IDXValue;\r\n\tinvoiceReturn?: number|IDXValue;\r\n\tinvoiceReturnDone?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxOrderMainState {\r\n\tid: number|IDXValue;\r\n\tstate?: any|IDXValue;\r\n\tcreateDate?: any|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface IxCustomerReturnable {\r\n\tixx: number;\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface IxOrderDetailFee {\r\n\tix: number;\r\n\txi: number;\r\n\tfee: number;\r\n}\r\n\r\nexport interface IxOrderMainFee {\r\n\tix: number;\r\n\txi: number;\r\n\tfee: number;\r\n}\r\n\r\nexport interface IxOrderDetailCoupon {\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface IxOrderAmountDiff {\r\n\tix: number;\r\n\txi: number;\r\n\tdiff: number;\r\n}\r\n\r\nexport interface IxOrderMainCustomerCoupon {\r\n\tixx: number;\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface ParamActs {\r\n\torderDetail?: OrderDetail[];\r\n\torderMain?: OrderMain[];\r\n\treturnDetail?: ReturnDetail[];\r\n\treturnMain?: ReturnMain[];\r\n\torderMainEx?: OrderMainEx[];\r\n\torderDetailEx?: OrderDetailEx[];\r\n\treturnDetailEx?: ReturnDetailEx[];\r\n\treturnMainEx?: ReturnMainEx[];\r\n\tdxOrderDetail?: ActParamDxOrderDetail[];\r\n\tdxReturnDetail?: ActParamDxReturnDetail[];\r\n\tdxOrderMainState?: ActParamDxOrderMainState[];\r\n\tixCustomerReturnable?: IxCustomerReturnable[];\r\n\tixOrderDetailFee?: IxOrderDetailFee[];\r\n\tixOrderMainFee?: IxOrderMainFee[];\r\n\tixOrderDetailCoupon?: IxOrderDetailCoupon[];\r\n\tixOrderAmountDiff?: IxOrderAmountDiff[];\r\n\tixOrderMainCustomerCoupon?: IxOrderMainCustomerCoupon[];\r\n}\r\n\r\n\r\nexport interface UqExt extends Uq {\r\n\tActs(param:ParamActs): Promise<any>;\r\n\r\n\t$user: UqTuid<Tuid$user>;\r\n\t$sheet: UqTuid<Tuid$sheet>;\r\n\tCoupon: UqTuid<TuidCoupon>;\r\n\tChemical: UqTuid<TuidChemical>;\r\n\tSalesRegion: UqTuid<TuidSalesRegion>;\r\n\tCurrency: UqTuid<TuidCurrency>;\r\n\tPackType: UqTuid<TuidPackType>;\r\n\tAddress: UqTuid<TuidAddress>;\r\n\tCountry: UqTuid<TuidCountry>;\r\n\tProvince: UqTuid<TuidProvince>;\r\n\tCity: UqTuid<TuidCity>;\r\n\tCounty: UqTuid<TuidCounty>;\r\n\tInvoiceType: UqTuid<TuidInvoiceType>;\r\n\tCustomer: UqTuid<TuidCustomer>;\r\n\tOrganization: UqTuid<TuidOrganization>;\r\n\tContact: UqTuid<TuidContact>;\r\n\tInvoiceInfo: UqTuid<TuidInvoiceInfo>;\r\n\tBrand: UqTuid<TuidBrand>;\r\n\tProductX: UqTuid<TuidProductX>;\r\n\tWarehouse: UqTuid<TuidWarehouse>;\r\n\tWebUser: UqTuid<TuidWebUser>;\r\n\tBuyerAccount: UqTuid<TuidBuyerAccount>;\r\n\tCommonText: UqTuid<TuidCommonText>;\r\n\tExpressLogistics: UqTuid<TuidExpressLogistics>;\r\n\tSetCart: UqAction<ParamSetCart, ResultSetCart>;\r\n\tRemoveFromCart: UqAction<ParamRemoveFromCart, ResultRemoveFromCart>;\r\n\tMergeCart: UqAction<ParamMergeCart, ResultMergeCart>;\r\n\tOrderPaid: UqAction<ParamOrderPaid, ResultOrderPaid>;\r\n\tSaveOrderReturn: UqAction<ParamSaveOrderReturn, ResultSaveOrderReturn>;\r\n\tOrderConfirm: UqAction<ParamOrderConfirm, ResultOrderConfirm>;\r\n\tSaveOrder: UqAction<ParamSaveOrder, ResultSaveOrder>;\r\n\tOrder: UqSheet<SheetOrder, VerifyOrder>;\r\n\tCart: UqBook<ParamCart, ResultCart>;\r\n\tWebUserAccount: UqBook<ParamWebUserAccount, ResultWebUserAccount>;\r\n\tOrderState: UqBook<ParamOrderState, ResultOrderState>;\r\n\tGetCart: UqQuery<ParamGetCart, ResultGetCart>;\r\n\t$poked: UqQuery<Param$poked, Result$poked>;\r\n\tGetCustomerReturnable: UqQuery<ParamGetCustomerReturnable, ResultGetCustomerReturnable>;\r\n\tGetCustomerOrderReturn: UqQuery<ParamGetCustomerOrderReturn, ResultGetCustomerOrderReturn>;\r\n\tSearchOrders: UqQuery<ParamSearchOrders, ResultSearchOrders>;\r\n\tSalesRegionWarehouse: UqMap;\r\n\tOrderBuyerAccount: UqMap;\r\n\tOrderTransportation: UqMap;\r\n\tOrderHistory: UqHistory<ParamOrderHistory, ResultOrderHistory>;\r\n\tOrderReceivable: UqPending<any, any>;\r\n\tOrderDetail: UqID<any>;\r\n\tOrderMain: UqID<any>;\r\n\tReturnDetail: UqID<any>;\r\n\tReturnMain: UqID<any>;\r\n\tOrderMainEx: UqID<any>;\r\n\tOrderDetailEx: UqID<any>;\r\n\tReturnDetailEx: UqID<any>;\r\n\tReturnMainEx: UqID<any>;\r\n\tDxOrderDetail: UqIDX<any>;\r\n\tDxReturnDetail: UqIDX<any>;\r\n\tDxOrderMainState: UqIDX<any>;\r\n\tIxCustomerReturnable: UqIX<any>;\r\n\tIxOrderDetailFee: UqIX<any>;\r\n\tIxOrderMainFee: UqIX<any>;\r\n\tIxOrderDetailCoupon: UqIX<any>;\r\n\tIxOrderAmountDiff: UqIX<any>;\r\n\tIxOrderMainCustomerCoupon: UqIX<any>;\r\n}\r\n\r\nexport function assign(uq: any, to:string, from:any): void {\r\n\tObject.assign((uq as any)[to], from);\r\n}\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCoupon } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCoupon):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidChemical } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidChemical):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidSalesRegion } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidSalesRegion):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCurrency } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCurrency):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidPackType } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidPackType):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidAddress } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidAddress):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCountry } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCountry):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidProvince } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProvince):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCity } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCity):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCounty } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCounty):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidInvoiceType } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidInvoiceType):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCustomer } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCustomer):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidOrganization } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidOrganization):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidContact } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidContact):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidInvoiceInfo } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidInvoiceInfo):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidBrand } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBrand):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidProductX } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProductX):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidWarehouse } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidWarehouse):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidWebUser } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidWebUser):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidBuyerAccount } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBuyerAccount):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCommonText } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCommonText):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidExpressLogistics } from \"./JkOrder\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidExpressLogistics):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderDetail } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\twarehouse: {\r\n\t\t\"name\": \"warehouse\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Warehouse\"\r\n\t} as FieldItemId,\r\n\titem: {\r\n\t\t\"name\": \"item\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Item\"\r\n\t} as FieldItemId,\r\n\tproduct: {\r\n\t\t\"name\": \"product\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Product\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tprice: {\r\n\t\t\"name\": \"price\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Price\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.warehouse, fields.item, fields.product, fields.quantity, fields.amount, fields.price, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderDetail):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderMain } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tcontact: {\r\n\t\t\"name\": \"contact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Contact\"\r\n\t} as FieldItemId,\r\n\tsumQuanity: {\r\n\t\t\"name\": \"sumQuanity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumQuanity\"\r\n\t} as FieldItemNum,\r\n\tsumAmount: {\r\n\t\t\"name\": \"sumAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumAmount\"\r\n\t} as FieldItemNum,\r\n\tcouponNo: {\r\n\t\t\"name\": \"couponNo\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"CouponNo\"\r\n\t} as FieldItemString,\r\n\tsheetId: {\r\n\t\t\"name\": \"sheetId\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"SheetId\"\r\n\t} as FieldItemId,\r\n\tshippingContact: {\r\n\t\t\"name\": \"shippingContact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ShippingContact\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customer, fields.contact, fields.sumQuanity, fields.sumAmount, fields.couponNo, fields.sheetId, fields.shippingContact, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderMain):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReturnDetail } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\torderDetail: {\r\n\t\t\"name\": \"orderDetail\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"OrderDetail\"\r\n\t} as FieldItemId,\r\n\titem: {\r\n\t\t\"name\": \"item\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Item\"\r\n\t} as FieldItemId,\r\n\tproduct: {\r\n\t\t\"name\": \"product\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Product\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tprice: {\r\n\t\t\"name\": \"price\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Price\"\r\n\t} as FieldItemNum,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tlotNumber: {\r\n\t\t\"name\": \"lotNumber\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"LotNumber\"\r\n\t} as FieldItemString,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.orderDetail, fields.item, fields.product, fields.quantity, fields.price, fields.amount, fields.lotNumber, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReturnDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReturnDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReturnMain } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomerAccount: {\r\n\t\t\"name\": \"customerAccount\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CustomerAccount\"\r\n\t} as FieldItemId,\r\n\twebUser: {\r\n\t\t\"name\": \"webUser\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"WebUser\"\r\n\t} as FieldItemId,\r\n\tshippingContact: {\r\n\t\t\"name\": \"shippingContact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ShippingContact\"\r\n\t} as FieldItemId,\r\n\tinvoiceContact: {\r\n\t\t\"name\": \"invoiceContact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"InvoiceContact\"\r\n\t} as FieldItemId,\r\n\tsumAmount: {\r\n\t\t\"name\": \"sumAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumAmount\"\r\n\t} as FieldItemNum,\r\n\tcurrency: {\r\n\t\t\"name\": \"currency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Currency\"\r\n\t} as FieldItemId,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customerAccount, fields.webUser, fields.shippingContact, fields.invoiceContact, fields.sumAmount, fields.currency, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReturnMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReturnMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderMainEx } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tseller: {\r\n\t\t\"name\": \"seller\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Seller\"\r\n\t} as FieldItemString,\r\n\tsalesman: {\r\n\t\t\"name\": \"salesman\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Salesman\"\r\n\t} as FieldItemId,\r\n\tsalesRegion: {\r\n\t\t\"name\": \"salesRegion\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"SalesRegion\"\r\n\t} as FieldItemId,\r\n\tbuyerAccount: {\r\n\t\t\"name\": \"buyerAccount\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"BuyerAccount\"\r\n\t} as FieldItemId,\r\n\torganization: {\r\n\t\t\"name\": \"organization\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Organization\"\r\n\t} as FieldItemId,\r\n\tcurrency: {\r\n\t\t\"name\": \"currency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Currency\"\r\n\t} as FieldItemId,\r\n\tpoNumber: {\r\n\t\t\"name\": \"poNumber\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"PoNumber\"\r\n\t} as FieldItemString,\r\n\tcarrier: {\r\n\t\t\"name\": \"carrier\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Carrier\"\r\n\t} as FieldItemId,\r\n\tcommentsAboutDeliver: {\r\n\t\t\"name\": \"commentsAboutDeliver\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"CommentsAboutDeliver\"\r\n\t} as FieldItemString,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.seller, fields.salesman, fields.salesRegion, fields.buyerAccount, fields.organization, fields.currency, fields.poNumber, fields.carrier, fields.commentsAboutDeliver, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderMainEx\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderMainEx):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderDetailEx } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\torderItemId: {\r\n\t\t\"name\": \"orderItemId\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"OrderItemId\"\r\n\t} as FieldItemString,\r\n\tendUser: {\r\n\t\t\"name\": \"endUser\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"EndUser\"\r\n\t} as FieldItemId,\r\n\tbrand: {\r\n\t\t\"name\": \"brand\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Brand\"\r\n\t} as FieldItemId,\r\n\tretail: {\r\n\t\t\"name\": \"retail\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Retail\"\r\n\t} as FieldItemNum,\r\n\tretailCurrency: {\r\n\t\t\"name\": \"retailCurrency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"RetailCurrency\"\r\n\t} as FieldItemId,\r\n\tbottomPrice: {\r\n\t\t\"name\": \"bottomPrice\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"BottomPrice\"\r\n\t} as FieldItemNum,\r\n\tbottomPriceCurrency: {\r\n\t\t\"name\": \"bottomPriceCurrency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"BottomPriceCurrency\"\r\n\t} as FieldItemId,\r\n\tcostPrice: {\r\n\t\t\"name\": \"costPrice\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"CostPrice\"\r\n\t} as FieldItemNum,\r\n\tcostPriceCurrency: {\r\n\t\t\"name\": \"costPriceCurrency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CostPriceCurrency\"\r\n\t} as FieldItemId,\r\n\tpoItemNumber: {\r\n\t\t\"name\": \"poItemNumber\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"PoItemNumber\"\r\n\t} as FieldItemString,\r\n\tmark: {\r\n\t\t\"name\": \"mark\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Mark\"\r\n\t} as FieldItemString,\r\n\ttradeType: {\r\n\t\t\"name\": \"tradeType\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"TradeType\"\r\n\t} as FieldItemString,\r\n\ttaxRate: {\r\n\t\t\"name\": \"taxRate\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"TaxRate\"\r\n\t} as FieldItemNum,\r\n\tpromotionId: {\r\n\t\t\"name\": \"promotionId\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"PromotionId\"\r\n\t} as FieldItemString,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.orderItemId, fields.endUser, fields.brand, fields.retail, fields.retailCurrency, fields.bottomPrice, fields.bottomPriceCurrency, fields.costPrice, fields.costPriceCurrency, fields.poItemNumber, fields.mark, fields.tradeType, fields.taxRate, fields.promotionId, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderDetailEx\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderDetailEx):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReturnDetailEx } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\treturnItemId: {\r\n\t\t\"name\": \"returnItemId\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"ReturnItemId\"\r\n\t} as FieldItemString,\r\n\tendUser: {\r\n\t\t\"name\": \"endUser\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"EndUser\"\r\n\t} as FieldItemId,\r\n\tmark: {\r\n\t\t\"name\": \"mark\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Mark\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.returnItemId, fields.endUser, fields.mark, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReturnDetailEx\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReturnDetailEx):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReturnMainEx } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tseller: {\r\n\t\t\"name\": \"seller\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Seller\"\r\n\t} as FieldItemString,\r\n\tsalesman: {\r\n\t\t\"name\": \"salesman\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Salesman\"\r\n\t} as FieldItemId,\r\n\tsalesRegion: {\r\n\t\t\"name\": \"salesRegion\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"SalesRegion\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.seller, fields.salesman, fields.salesRegion, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReturnMainEx\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReturnMainEx):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderDetail } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tdeliver: {\r\n\t\t\"name\": \"deliver\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Deliver\"\r\n\t} as FieldItemNum,\r\n\tdeliverDone: {\r\n\t\t\"name\": \"deliverDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverDone\"\r\n\t} as FieldItemNum,\r\n\tdeliverTime: {\r\n\t\t\"name\": \"deliverTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"DeliverTime\"\r\n\t} as undefined,\r\n\tdeliverReturn: {\r\n\t\t\"name\": \"deliverReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverReturn\"\r\n\t} as FieldItemNum,\r\n\tdeliverReturnDone: {\r\n\t\t\"name\": \"deliverReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverReturnDone\"\r\n\t} as FieldItemNum,\r\n\treceive: {\r\n\t\t\"name\": \"receive\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Receive\"\r\n\t} as FieldItemNum,\r\n\treceiveDone: {\r\n\t\t\"name\": \"receiveDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveDone\"\r\n\t} as FieldItemNum,\r\n\treceiveTime: {\r\n\t\t\"name\": \"receiveTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ReceiveTime\"\r\n\t} as undefined,\r\n\treceiveReturn: {\r\n\t\t\"name\": \"receiveReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturn\"\r\n\t} as FieldItemNum,\r\n\treceiveReturnDone: {\r\n\t\t\"name\": \"receiveReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturnDone\"\r\n\t} as FieldItemNum,\r\n\tinvoice: {\r\n\t\t\"name\": \"invoice\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Invoice\"\r\n\t} as FieldItemNum,\r\n\tinvoiceDone: {\r\n\t\t\"name\": \"invoiceDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceDone\"\r\n\t} as FieldItemNum,\r\n\tinvoiceTime: {\r\n\t\t\"name\": \"invoiceTime\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"InvoiceTime\"\r\n\t} as undefined,\r\n\tinvoiceReturn: {\r\n\t\t\"name\": \"invoiceReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturn\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturnDone: {\r\n\t\t\"name\": \"invoiceReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturnDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.deliver, fields.deliverDone, fields.deliverTime, fields.deliverReturn, fields.deliverReturnDone, fields.receive, fields.receiveDone, fields.receiveTime, fields.receiveReturn, fields.receiveReturnDone, fields.invoice, fields.invoiceDone, fields.invoiceTime, fields.invoiceReturn, fields.invoiceReturnDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderDetail):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxReturnDetail } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tdeliverReturn: {\r\n\t\t\"name\": \"deliverReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverReturn\"\r\n\t} as FieldItemNum,\r\n\tdeliverReturnDone: {\r\n\t\t\"name\": \"deliverReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"DeliverReturnDone\"\r\n\t} as FieldItemNum,\r\n\treceiveReturn: {\r\n\t\t\"name\": \"receiveReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturn\"\r\n\t} as FieldItemNum,\r\n\treceiveReturnDone: {\r\n\t\t\"name\": \"receiveReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturnDone\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturn: {\r\n\t\t\"name\": \"invoiceReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturn\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturnDone: {\r\n\t\t\"name\": \"invoiceReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturnDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.deliverReturn, fields.deliverReturnDone, fields.receiveReturn, fields.receiveReturnDone, fields.invoiceReturn, fields.invoiceReturnDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxReturnDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxReturnDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderMainState } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tstate: {\r\n\t\t\"name\": \"state\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"State\"\r\n\t} as undefined,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.state, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderMainState\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderMainState):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxCustomerReturnable } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxCustomerReturnable\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxCustomerReturnable):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxOrderDetailFee } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tfee: {\r\n\t\t\"name\": \"fee\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Fee\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.fee, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxOrderDetailFee\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxOrderDetailFee):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxOrderMainFee } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tfee: {\r\n\t\t\"name\": \"fee\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Fee\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.fee, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxOrderMainFee\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxOrderMainFee):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxOrderDetailCoupon } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxOrderDetailCoupon\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxOrderDetailCoupon):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxOrderAmountDiff } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tdiff: {\r\n\t\t\"name\": \"diff\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Diff\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.diff, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxOrderAmountDiff\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxOrderAmountDiff):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxOrderMainCustomerCoupon } from \"./JkOrder\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxOrderMainCustomerCoupon\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxOrderMainCustomerCoupon):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","//=== UqApp builder created on Fri Oct 08 2021 19:33:33 GMT+0800 (中国标准时间) ===//\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { IDXValue, Uq, UqTuid, UqAction, UqQuery, UqID, UqIDX, UqIX } from \"tonva-react\";\r\n\r\n\r\n//===============================\r\n//======= UQ 百灵威系统工程部/CollectPayment ========\r\n//===============================\r\n\r\nexport enum EnumReceiveDirection {\r\n\tin = 1,\r\n\tout = -1\r\n}\r\n\r\nexport enum EnumReceiveWay {\r\n\tbank = 1,\r\n\tweixin = 2,\r\n\talipay = 3,\r\n\tcash = 4\r\n}\r\n\r\nexport enum EnumBlueRed {\r\n\tblue = 1,\r\n\tred = -1\r\n}\r\n\r\nexport interface Tuid$user {\r\n\tid?: number;\r\n\tname: string;\r\n\tnick: string;\r\n\ticon: string;\r\n\tassigned: string;\r\n\tpoke: number;\r\n}\r\n\r\nexport interface Tuid$sheet {\r\n\tid?: number;\r\n\tno: string;\r\n\tuser: number;\r\n\tdate: any;\r\n\tsheet: number;\r\n\tversion: number;\r\n\tflow: number;\r\n\tapp: number;\r\n\tstate: number;\r\n\tdiscription: string;\r\n\tdata: string;\r\n\tprocessing: number;\r\n}\r\n\r\nexport interface TuidOrganization {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidCustomer {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidCurrency {\r\n\tid?: number;\r\n}\r\n\r\nexport interface ParamDoneReceive {\r\n\tcustomer: number;\r\n\tdetail: {\r\n\t\torderDetail: number;\r\n\t\tamount: number;\r\n\t}[];\r\n\r\n}\r\nexport interface ResultDoneReceive {\r\n}\r\n\r\nexport interface ParamDoneInvoice {\r\n\tcustomer: number;\r\n\tdetail: {\r\n\t\torderDetail: number;\r\n\t\tamount: number;\r\n\t}[];\r\n\r\n}\r\nexport interface ResultDoneInvoice {\r\n}\r\n\r\nexport interface Param$poked {\r\n}\r\nexport interface Return$pokedRet {\r\n\tpoke: number;\r\n}\r\nexport interface Result$poked {\r\n\tret: Return$pokedRet[];\r\n}\r\n\r\nexport interface ParamPendingInvoice {\r\n}\r\nexport interface ReturnPendingInvoice$page {\r\n\tcustomer: number;\r\n\tsumAmount: number;\r\n}\r\nexport interface ResultPendingInvoice {\r\n\t$page: ReturnPendingInvoice$page[];\r\n}\r\n\r\nexport interface ParamPendingReceive {\r\n}\r\nexport interface ReturnPendingReceive$page {\r\n\tcustomer: number;\r\n\tsumAmount: number;\r\n}\r\nexport interface ResultPendingReceive {\r\n\t$page: ReturnPendingReceive$page[];\r\n}\r\n\r\nexport interface ParamCustomerPendingInvoice {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnCustomerPendingInvoiceRet {\r\n\torderDetail: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tamount: number;\r\n\tprice: number;\r\n\tinvoice: number;\r\n\tinvoiceDone: number;\r\n\tinvoiceReturn: number;\r\n\tinvoiceReturnDone: number;\r\n}\r\nexport interface ResultCustomerPendingInvoice {\r\n\tret: ReturnCustomerPendingInvoiceRet[];\r\n}\r\n\r\nexport interface ParamCustomerPendingReceive {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnCustomerPendingReceiveRet {\r\n\torderDetail: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tamount: number;\r\n\tprice: number;\r\n\treceive: number;\r\n\treceiveDone: number;\r\n\treceiveReturn: number;\r\n\treceiveReturnDone: number;\r\n}\r\nexport interface ResultCustomerPendingReceive {\r\n\tret: ReturnCustomerPendingReceiveRet[];\r\n}\r\n\r\nexport interface ParamCustomerPending {\r\n\tcustomers: string;\r\n}\r\nexport interface ReturnCustomerPendingRet {\r\n\tcustomer: number;\r\n\treceive: number;\r\n\tinvoice: number;\r\n}\r\nexport interface ResultCustomerPending {\r\n\tret: ReturnCustomerPendingRet[];\r\n}\r\n\r\nexport interface OrderDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\titem: number;\r\n\tproduct: number;\r\n\tquantity: number;\r\n\tamount: number;\r\n\tprice: number;\r\n}\r\n\r\nexport interface OrderMain {\r\n\tid?: number;\r\n\tno?: string;\r\n\tcustomerAccount: number;\r\n}\r\n\r\nexport interface InvoiceDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\torderDetail: number;\r\n\tamount: number;\r\n}\r\n\r\nexport interface InvoiceMain {\r\n\tid?: number;\r\n\tinvoiceNr: string;\r\n\tinvoiceType: number;\r\n\torganization: number;\r\n\tcustomer: number;\r\n\tcurrency: number;\r\n\tblueRed: any;\r\n\tisValid: number;\r\n\tcomments: string;\r\n\tinvoicer: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ReceiveDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\torderDetail: number;\r\n\tamount: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ReceiveMain {\r\n\tid?: number;\r\n\torganization: number;\r\n\tcustomer: number;\r\n\tcurrency: number;\r\n\tdirection: any;\r\n\tisValid: number;\r\n\tcomments: string;\r\n\treceiveWay: any;\r\n\treceiveNr: string;\r\n\treceiveDate: any;\r\n\treceiver: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface InvoiceDetailRaw {\r\n\tid?: number;\r\n\tmain?: number;\r\n\tamount: number;\r\n}\r\n\r\nexport interface DxOrderDetail {\r\n\tid: number;\r\n\treceive?: number;\r\n\treceiveDone?: number;\r\n\tinvoice?: number;\r\n\tinvoiceDone?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxReturnDetail {\r\n\tid: number;\r\n\treceive?: number;\r\n\treceiveDone?: number;\r\n\tinvoice?: number;\r\n\tinvoiceDone?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxCustomerReceive {\r\n\tid: number;\r\n\tsumAmount?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxCustomerInvoice {\r\n\tid: number;\r\n\tsumAmount?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxInvoiceMain {\r\n\tid: number;\r\n\tsumAmount?: number;\r\n\tusedAmount?: number;\r\n\tredAmount?: number;\r\n\tinvalidAmount?: number;\r\n\tleftAmount?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxOrderDetailReturn {\r\n\tid: number;\r\n\treceiveReturn?: number;\r\n\treceiveReturnDone?: number;\r\n\tinvoiceReturn?: number;\r\n\tinvoiceReturnDone?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxReceiveMain {\r\n\tid: number;\r\n\tsumAmount?: number;\r\n\tusedAmount?: number;\r\n\treturnAmount?: number;\r\n\tleftAmount?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxOrderDetail {\r\n\tid: number|IDXValue;\r\n\treceive?: number|IDXValue;\r\n\treceiveDone?: number|IDXValue;\r\n\tinvoice?: number|IDXValue;\r\n\tinvoiceDone?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxReturnDetail {\r\n\tid: number|IDXValue;\r\n\treceive?: number|IDXValue;\r\n\treceiveDone?: number|IDXValue;\r\n\tinvoice?: number|IDXValue;\r\n\tinvoiceDone?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxCustomerReceive {\r\n\tid: number|IDXValue;\r\n\tsumAmount?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxCustomerInvoice {\r\n\tid: number|IDXValue;\r\n\tsumAmount?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxInvoiceMain {\r\n\tid: number|IDXValue;\r\n\tsumAmount?: number|IDXValue;\r\n\tusedAmount?: number|IDXValue;\r\n\tredAmount?: number|IDXValue;\r\n\tinvalidAmount?: number|IDXValue;\r\n\tleftAmount?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxOrderDetailReturn {\r\n\tid: number|IDXValue;\r\n\treceiveReturn?: number|IDXValue;\r\n\treceiveReturnDone?: number|IDXValue;\r\n\tinvoiceReturn?: number|IDXValue;\r\n\tinvoiceReturnDone?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxReceiveMain {\r\n\tid: number|IDXValue;\r\n\tsumAmount?: number|IDXValue;\r\n\tusedAmount?: number|IDXValue;\r\n\treturnAmount?: number|IDXValue;\r\n\tleftAmount?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface IxCustomerPendingReceive {\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface IxCustomerPendingInvoice {\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface DxOrderDetailInvoiceReceive {\r\n\tixx: number;\r\n\tix: number;\r\n\txi: number;\r\n\tamount: number;\r\n}\r\n\r\nexport interface Refund {\r\n\tix: number;\r\n\txi: number;\r\n\tcomments: string;\r\n}\r\n\r\nexport interface RedInvoiceMain {\r\n\tix: number;\r\n\txi: number;\r\n}\r\n\r\nexport interface ParamActs {\r\n\torderDetail?: OrderDetail[];\r\n\torderMain?: OrderMain[];\r\n\tinvoiceDetail?: InvoiceDetail[];\r\n\tinvoiceMain?: InvoiceMain[];\r\n\treceiveDetail?: ReceiveDetail[];\r\n\treceiveMain?: ReceiveMain[];\r\n\tinvoiceDetailRaw?: InvoiceDetailRaw[];\r\n\tdxOrderDetail?: ActParamDxOrderDetail[];\r\n\tdxReturnDetail?: ActParamDxReturnDetail[];\r\n\tdxCustomerReceive?: ActParamDxCustomerReceive[];\r\n\tdxCustomerInvoice?: ActParamDxCustomerInvoice[];\r\n\tdxInvoiceMain?: ActParamDxInvoiceMain[];\r\n\tdxOrderDetailReturn?: ActParamDxOrderDetailReturn[];\r\n\tdxReceiveMain?: ActParamDxReceiveMain[];\r\n\tixCustomerPendingReceive?: IxCustomerPendingReceive[];\r\n\tixCustomerPendingInvoice?: IxCustomerPendingInvoice[];\r\n\tdxOrderDetailInvoiceReceive?: DxOrderDetailInvoiceReceive[];\r\n\trefund?: Refund[];\r\n\tredInvoiceMain?: RedInvoiceMain[];\r\n}\r\n\r\n\r\nexport interface UqExt extends Uq {\r\n\tActs(param:ParamActs): Promise<any>;\r\n\r\n\t$user: UqTuid<Tuid$user>;\r\n\t$sheet: UqTuid<Tuid$sheet>;\r\n\tOrganization: UqTuid<TuidOrganization>;\r\n\tCustomer: UqTuid<TuidCustomer>;\r\n\tCurrency: UqTuid<TuidCurrency>;\r\n\tDoneReceive: UqAction<ParamDoneReceive, ResultDoneReceive>;\r\n\tDoneInvoice: UqAction<ParamDoneInvoice, ResultDoneInvoice>;\r\n\t$poked: UqQuery<Param$poked, Result$poked>;\r\n\tPendingInvoice: UqQuery<ParamPendingInvoice, ResultPendingInvoice>;\r\n\tPendingReceive: UqQuery<ParamPendingReceive, ResultPendingReceive>;\r\n\tCustomerPendingInvoice: UqQuery<ParamCustomerPendingInvoice, ResultCustomerPendingInvoice>;\r\n\tCustomerPendingReceive: UqQuery<ParamCustomerPendingReceive, ResultCustomerPendingReceive>;\r\n\tCustomerPending: UqQuery<ParamCustomerPending, ResultCustomerPending>;\r\n\tOrderDetail: UqID<any>;\r\n\tOrderMain: UqID<any>;\r\n\tInvoiceDetail: UqID<any>;\r\n\tInvoiceMain: UqID<any>;\r\n\tReceiveDetail: UqID<any>;\r\n\tReceiveMain: UqID<any>;\r\n\tInvoiceDetailRaw: UqID<any>;\r\n\tDxOrderDetail: UqIDX<any>;\r\n\tDxReturnDetail: UqIDX<any>;\r\n\tDxCustomerReceive: UqIDX<any>;\r\n\tDxCustomerInvoice: UqIDX<any>;\r\n\tDxInvoiceMain: UqIDX<any>;\r\n\tDxOrderDetailReturn: UqIDX<any>;\r\n\tDxReceiveMain: UqIDX<any>;\r\n\tIxCustomerPendingReceive: UqIX<any>;\r\n\tIxCustomerPendingInvoice: UqIX<any>;\r\n\tDxOrderDetailInvoiceReceive: UqIX<any>;\r\n\tRefund: UqIX<any>;\r\n\tRedInvoiceMain: UqIX<any>;\r\n}\r\n\r\nexport function assign(uq: any, to:string, from:any): void {\r\n\tObject.assign((uq as any)[to], from);\r\n}\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidOrganization } from \"./JkCollectPayment\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidOrganization):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidCustomer } from \"./JkCollectPayment\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCustomer):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidCurrency } from \"./JkCollectPayment\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCurrency):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderDetail } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\titem: {\r\n\t\t\"name\": \"item\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Item\"\r\n\t} as FieldItemId,\r\n\tproduct: {\r\n\t\t\"name\": \"product\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Product\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tprice: {\r\n\t\t\"name\": \"price\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Price\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.item, fields.product, fields.quantity, fields.amount, fields.price, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderDetail):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customer, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderMain):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { InvoiceDetail } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\torderDetail: {\r\n\t\t\"name\": \"orderDetail\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"OrderDetail\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.orderDetail, fields.amount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"InvoiceDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: InvoiceDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { InvoiceMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tinvoiceNr: {\r\n\t\t\"name\": \"invoiceNr\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"InvoiceNr\"\r\n\t} as FieldItemString,\r\n\tinvoiceType: {\r\n\t\t\"name\": \"invoiceType\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"InvoiceType\"\r\n\t} as FieldItemId,\r\n\torganization: {\r\n\t\t\"name\": \"organization\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Organization\"\r\n\t} as FieldItemId,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tcurrency: {\r\n\t\t\"name\": \"currency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Currency\"\r\n\t} as FieldItemId,\r\n\tblueRed: {\r\n\t\t\"name\": \"blueRed\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"BlueRed\"\r\n\t} as undefined,\r\n\tisValid: {\r\n\t\t\"name\": \"isValid\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"IsValid\"\r\n\t} as undefined,\r\n\tcomments: {\r\n\t\t\"name\": \"comments\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Comments\"\r\n\t} as FieldItemString,\r\n\tinvoicer: {\r\n\t\t\"name\": \"invoicer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Invoicer\"\r\n\t} as FieldItemId,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.invoiceNr, fields.invoiceType, fields.organization, fields.customer, fields.currency, fields.blueRed, fields.isValid, fields.comments, fields.invoicer, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"InvoiceMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: InvoiceMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReceiveDetail } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.amount, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReceiveDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReceiveDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ReceiveMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\torganization: {\r\n\t\t\"name\": \"organization\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Organization\"\r\n\t} as FieldItemId,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tcurrency: {\r\n\t\t\"name\": \"currency\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Currency\"\r\n\t} as FieldItemId,\r\n\tdirection: {\r\n\t\t\"name\": \"direction\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Direction\"\r\n\t} as undefined,\r\n\tisValid: {\r\n\t\t\"name\": \"isValid\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"IsValid\"\r\n\t} as undefined,\r\n\tcomments: {\r\n\t\t\"name\": \"comments\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Comments\"\r\n\t} as FieldItemString,\r\n\treceiveWay: {\r\n\t\t\"name\": \"receiveWay\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ReceiveWay\"\r\n\t} as undefined,\r\n\treceiveNr: {\r\n\t\t\"name\": \"receiveNr\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"ReceiveNr\"\r\n\t} as FieldItemString,\r\n\treceiveDate: {\r\n\t\t\"name\": \"receiveDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ReceiveDate\"\r\n\t} as undefined,\r\n\treceiver: {\r\n\t\t\"name\": \"receiver\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Receiver\"\r\n\t} as FieldItemId,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.organization, fields.customer, fields.currency, fields.direction, fields.isValid, fields.comments, fields.receiveWay, fields.receiveNr, fields.receiveDate, fields.receiver, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ReceiveMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ReceiveMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { InvoiceDetailRaw } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.amount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"InvoiceDetailRaw\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: InvoiceDetailRaw):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderDetail } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\treceive: {\r\n\t\t\"name\": \"receive\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Receive\"\r\n\t} as FieldItemNum,\r\n\treceiveDone: {\r\n\t\t\"name\": \"receiveDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveDone\"\r\n\t} as FieldItemNum,\r\n\treceiveReturn: {\r\n\t\t\"name\": \"receiveReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturn\"\r\n\t} as FieldItemNum,\r\n\treceiveReturnDone: {\r\n\t\t\"name\": \"receiveReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturnDone\"\r\n\t} as FieldItemNum,\r\n\tinvoice: {\r\n\t\t\"name\": \"invoice\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Invoice\"\r\n\t} as FieldItemNum,\r\n\tinvoiceDone: {\r\n\t\t\"name\": \"invoiceDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceDone\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturn: {\r\n\t\t\"name\": \"invoiceReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturn\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturnDone: {\r\n\t\t\"name\": \"invoiceReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturnDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.receive, fields.receiveDone, fields.receiveReturn, fields.receiveReturnDone, fields.invoice, fields.invoiceDone, fields.invoiceReturn, fields.invoiceReturnDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderDetail):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxReturnDetail } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\treceive: {\r\n\t\t\"name\": \"receive\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Receive\"\r\n\t} as FieldItemNum,\r\n\treceiveDone: {\r\n\t\t\"name\": \"receiveDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveDone\"\r\n\t} as FieldItemNum,\r\n\tinvoice: {\r\n\t\t\"name\": \"invoice\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Invoice\"\r\n\t} as FieldItemNum,\r\n\tinvoiceDone: {\r\n\t\t\"name\": \"invoiceDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.receive, fields.receiveDone, fields.invoice, fields.invoiceDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxReturnDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxReturnDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxCustomerReceive } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tsumAmount: {\r\n\t\t\"name\": \"sumAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumAmount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.sumAmount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxCustomerReceive\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxCustomerReceive):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxCustomerInvoice } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tsumAmount: {\r\n\t\t\"name\": \"sumAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumAmount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.sumAmount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxCustomerInvoice\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxCustomerInvoice):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxInvoiceMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tsumAmount: {\r\n\t\t\"name\": \"sumAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SumAmount\"\r\n\t} as FieldItemNum,\r\n\tusedAmount: {\r\n\t\t\"name\": \"usedAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"UsedAmount\"\r\n\t} as FieldItemNum,\r\n\tredAmount: {\r\n\t\t\"name\": \"redAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"RedAmount\"\r\n\t} as FieldItemNum,\r\n\tinvalidAmount: {\r\n\t\t\"name\": \"invalidAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvalidAmount\"\r\n\t} as FieldItemNum,\r\n\tleftAmount: {\r\n\t\t\"name\": \"leftAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"LeftAmount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.sumAmount, fields.usedAmount, fields.redAmount, fields.invalidAmount, fields.leftAmount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxInvoiceMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxInvoiceMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderDetailReturn } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\treceiveReturn: {\r\n\t\t\"name\": \"receiveReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturn\"\r\n\t} as FieldItemNum,\r\n\treceiveReturnDone: {\r\n\t\t\"name\": \"receiveReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReceiveReturnDone\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturn: {\r\n\t\t\"name\": \"invoiceReturn\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturn\"\r\n\t} as FieldItemNum,\r\n\tinvoiceReturnDone: {\r\n\t\t\"name\": \"invoiceReturnDone\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"InvoiceReturnDone\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.receiveReturn, fields.receiveReturnDone, fields.invoiceReturn, fields.invoiceReturnDone, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderDetailReturn\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderDetailReturn):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxReceiveMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tusedAmount: {\r\n\t\t\"name\": \"usedAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"UsedAmount\"\r\n\t} as FieldItemNum,\r\n\treturnAmount: {\r\n\t\t\"name\": \"returnAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"ReturnAmount\"\r\n\t} as FieldItemNum,\r\n\tleftAmount: {\r\n\t\t\"name\": \"leftAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"LeftAmount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.amount, fields.usedAmount, fields.returnAmount, fields.leftAmount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxReceiveMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxReceiveMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxCustomerPendingReceive } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxCustomerPendingReceive\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxCustomerPendingReceive):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxCustomerPendingInvoice } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxCustomerPendingInvoice\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxCustomerPendingInvoice):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderDetailInvoiceReceive } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tixx: {\r\n\t\t\"name\": \"ixx\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ixx\"\r\n\t} as FieldItemId,\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.ixx, fields.xi, fields.amount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderDetailInvoiceReceive\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderDetailInvoiceReceive):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { Refund } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tcomments: {\r\n\t\t\"name\": \"comments\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"Comments\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.comments, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"Refund\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: Refund):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { RedInvoiceMain } from \"./JkCollectPayment\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"RedInvoiceMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: RedInvoiceMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","//=== UqApp builder created on Fri Oct 08 2021 19:33:33 GMT+0800 (中国标准时间) ===//\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { IDXValue, Uq, UqTuid, UqAction, UqSheet, UqBook, UqQuery, UqMap, UqHistory, UqPending, UqID, UqIDX, UqIX } from \"tonva-react\";\r\n\r\n\r\n//===============================\r\n//======= UQ 百灵威系统工程部/积分商城 ========\r\n//===============================\r\n\r\nexport enum EnumPointType {\r\n\ttotal = 1,\r\n\tpoint = 2,\r\n\tused = 3\r\n}\r\n\r\nexport enum EnumPointChangingSource {\r\n\tordermultiple = 1,\r\n\tsignIn = 2,\r\n\texchange = 3,\r\n\torder = 5,\r\n\tlottery = 8,\r\n\treturn = 9\r\n}\r\n\r\nexport enum EnumExchangeState {\r\n\tdelivering = 12,\r\n\tdelivered = 13,\r\n\tcompleted = 14,\r\n\tcanceled = 15\r\n}\r\n\r\nexport interface Tuid$user {\r\n\tid?: number;\r\n\tname: string;\r\n\tnick: string;\r\n\ticon: string;\r\n\tassigned: string;\r\n\tpoke: number;\r\n}\r\n\r\nexport interface TuidProductX {\r\n\tid?: number;\r\n\timageUrl: string;\r\n}\r\n\r\nexport interface Tuid$sheet {\r\n\tid?: number;\r\n\tno: string;\r\n\tuser: number;\r\n\tdate: any;\r\n\tsheet: number;\r\n\tversion: number;\r\n\tflow: number;\r\n\tapp: number;\r\n\tstate: number;\r\n\tdiscription: string;\r\n\tdata: string;\r\n\tprocessing: number;\r\n}\r\n\r\nexport interface TuidCustomer {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidWebUser {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidContact {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidCurrency {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidBuyerAccount {\r\n\tid?: number;\r\n}\r\n\r\nexport interface TuidGenre {\r\n\tid?: number;\r\n\tname: string;\r\n\timageUrl: string;\r\n}\r\n\r\nexport interface TuidPointProductLib {\r\n\tid?: number;\r\n\tdescription: string;\r\n\tdescriptionC: string;\r\n\tgrade: string;\r\n\tpoint: number;\r\n\timageUrl: string;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\tisValid: number;\r\n}\r\n\r\nexport interface TuidBrand {\r\n\tid?: number;\r\n}\r\n\r\nexport interface ParamIsCanUseOrder {\r\n\torderId: string;\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnIsCanUseOrderRet {\r\n\tresult: number;\r\n\tid: string;\r\n}\r\nexport interface ResultIsCanUseOrder {\r\n\tret: ReturnIsCanUseOrderRet[];\r\n}\r\n\r\nexport interface ParamAddPlatformOrderPoint {\r\n\torderId: string;\r\n\tcouponId: string;\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnAddPlatformOrderPointRet {\r\n\tresult: number;\r\n}\r\nexport interface ResultAddPlatformOrderPoint {\r\n\tret: ReturnAddPlatformOrderPointRet[];\r\n}\r\n\r\nexport interface ParamGetLastPlatFormOrder {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnGetLastPlatFormOrderRet {\r\n\tresult: number;\r\n\tplatformOrderId: string;\r\n}\r\nexport interface ResultGetLastPlatFormOrder {\r\n\tret: ReturnGetLastPlatFormOrderRet[];\r\n}\r\n\r\nexport interface ParamSignin {\r\n\twebuser: number;\r\n\tcustomer: number;\r\n\tamount: number;\r\n}\r\nexport interface ResultSignin {\r\n}\r\n\r\nexport interface ParamSetPointProductVisits {\r\n\tpointProduct: number;\r\n}\r\nexport interface ResultSetPointProductVisits {\r\n}\r\n\r\nexport interface ParamPointProductGenreDelete {\r\n\tgenre: number;\r\n}\r\nexport interface ResultPointProductGenreDelete {\r\n}\r\n\r\nexport interface SheetPointExchangeSheet {\r\n\tcustomer: number;\r\n\twebUser: number;\r\n\tamount: number;\r\n\tshippingContact: number;\r\n\texchangeItems: {\r\n\t\tproduct: number;\r\n\t\tpoint: number;\r\n\t\tquantity: number;\r\n\t\tsubAmount: number;\r\n\t}[];\r\n}\r\n\r\nexport interface ParamGetPoints {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnGetPointsRet {\r\n\ttotalLeftPoint: number;\r\n\teffectiveLeftPoint: number;\r\n\tusedPoint: number;\r\n\tpointYear: number;\r\n}\r\nexport interface ResultGetPoints {\r\n\tret: ReturnGetPointsRet[];\r\n}\r\n\r\nexport interface ParamGetPointProduct {\r\n\tstartPoint: number;\r\n\tendPoint: number;\r\n}\r\nexport interface ReturnGetPointProductRet {\r\n\tproduct: number;\r\n}\r\nexport interface ResultGetPointProduct {\r\n\tret: ReturnGetPointProductRet[];\r\n}\r\n\r\nexport interface ParamGetPlatFormOrder {\r\n\tplatformOrderId: string;\r\n}\r\nexport interface ReturnGetPlatFormOrderRet {\r\n\tcustomer: number;\r\n\torderMaker: number;\r\n\tplatformOrderId: string;\r\n\tdescription: string;\r\n\tdescriptionC: string;\r\n\tradiox: number;\r\n\tradioy: number;\r\n\tunit: string;\r\n\tquantity: number;\r\n\tprice: number;\r\n\tsubAmount: number;\r\n\tamount: number;\r\n\tcurrency: number;\r\n\tmark: string;\r\n}\r\nexport interface ResultGetPlatFormOrder {\r\n\tret: ReturnGetPlatFormOrderRet[];\r\n}\r\n\r\nexport interface ParamGetOrderDrawable {\r\n\tcustomer: number;\r\n\tstartDate: any;\r\n}\r\nexport interface ReturnGetOrderDrawableRet {\r\n\torderId: string;\r\n\torderMaker: number;\r\n\tpoint: number;\r\n}\r\nexport interface ResultGetOrderDrawable {\r\n\tret: ReturnGetOrderDrawableRet[];\r\n}\r\n\r\nexport interface Param$poked {\r\n}\r\nexport interface Return$pokedRet {\r\n\tpoke: number;\r\n}\r\nexport interface Result$poked {\r\n\tret: Return$pokedRet[];\r\n}\r\n\r\nexport interface ParamGetPointHistory {\r\n\tcustomer: number;\r\n\tkey: string;\r\n}\r\nexport interface ReturnGetPointHistory$page {\r\n\tid: number;\r\n\tdate: any;\r\n\tpoint: number;\r\n\tpointYear: number;\r\n\tcomments: string;\r\n\tpointType: number;\r\n\tsource: number;\r\n}\r\nexport interface ResultGetPointHistory {\r\n\t$page: ReturnGetPointHistory$page[];\r\n}\r\n\r\nexport interface ParamCheckIsSignin {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnCheckIsSigninRet {\r\n\tresult: number;\r\n}\r\nexport interface ResultCheckIsSignin {\r\n\tret: ReturnCheckIsSigninRet[];\r\n}\r\n\r\nexport interface ParamGetPointSigninHistory {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnGetPointSigninHistory$page {\r\n\tid: number;\r\n\tdate: any;\r\n\tpoint: number;\r\n\tpointYear: number;\r\n\tcomments: string;\r\n\tpointType: number;\r\n\tsource: number;\r\n}\r\nexport interface ResultGetPointSigninHistory {\r\n\t$page: ReturnGetPointSigninHistory$page[];\r\n}\r\n\r\nexport interface ParamGetNewPointProducts {\r\n}\r\nexport interface ReturnGetNewPointProductsRet {\r\n\tid: number;\r\n\tpoint: number;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\timageUrl: string;\r\n}\r\nexport interface ResultGetNewPointProducts {\r\n\tret: ReturnGetNewPointProductsRet[];\r\n}\r\n\r\nexport interface ParamGetHotPointProducts {\r\n}\r\nexport interface ReturnGetHotPointProductsRet {\r\n\tid: number;\r\n\tpoint: number;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\timageUrl: string;\r\n}\r\nexport interface ResultGetHotPointProducts {\r\n\tret: ReturnGetHotPointProductsRet[];\r\n}\r\n\r\nexport interface ParamGetPointProductGenre {\r\n\tpointProduct: number;\r\n}\r\nexport interface ReturnGetPointProductGenreRet {\r\n\tpointProduct: number;\r\n\tgenre: number;\r\n}\r\nexport interface ResultGetPointProductGenre {\r\n\tret: ReturnGetPointProductGenreRet[];\r\n}\r\n\r\nexport interface ParamGetPointDistribution {\r\n\tstart: number;\r\n\tend: number;\r\n\tgranularity: number;\r\n}\r\nexport interface ReturnGetPointDistributionRet {\r\n\tsubStart: number;\r\n\tsubEnd: number;\r\n\tnumbers: number;\r\n}\r\nexport interface ResultGetPointDistribution {\r\n\tret: ReturnGetPointDistributionRet[];\r\n}\r\n\r\nexport interface ParamGetMaxPoints {\r\n}\r\nexport interface ReturnGetMaxPointsRet {\r\n\tmaxPoints: number;\r\n}\r\nexport interface ResultGetMaxPoints {\r\n\tret: ReturnGetMaxPointsRet[];\r\n}\r\n\r\nexport interface ParamGetPointProductBySource {\r\n\tsourceId: number;\r\n\ttype: string;\r\n}\r\nexport interface ReturnGetPointProductBySourceRet {\r\n\tpointProduct: number;\r\n}\r\nexport interface ResultGetPointProductBySource {\r\n\tret: ReturnGetPointProductBySourceRet[];\r\n}\r\n\r\nexport interface ParamGetVisitPointProducts {\r\n}\r\nexport interface ReturnGetVisitPointProducts$page {\r\n\tseq: number;\r\n\tid: number;\r\n\tpoint: number;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\timageUrl: string;\r\n\tvisits: number;\r\n\texchanges: number;\r\n}\r\nexport interface ResultGetVisitPointProducts {\r\n\t$page: ReturnGetVisitPointProducts$page[];\r\n}\r\n\r\nexport interface ParamGetPointProductByGenre {\r\n\tgenre: number;\r\n}\r\nexport interface ReturnGetPointProductByGenreRet {\r\n\tpointProduct: number;\r\n\tgenre: number;\r\n}\r\nexport interface ResultGetPointProductByGenre {\r\n\tret: ReturnGetPointProductByGenreRet[];\r\n}\r\n\r\nexport interface ParamGetPointProductsByPage {\r\n\tkeyWord: string;\r\n}\r\nexport interface ReturnGetPointProductsByPage$page {\r\n\tseq: number;\r\n\tid: number;\r\n\tdescription: string;\r\n\tdescriptionC: string;\r\n\tgrade: string;\r\n\tpoint: number;\r\n\timageUrl: string;\r\n}\r\nexport interface ResultGetPointProductsByPage {\r\n\t$page: ReturnGetPointProductsByPage$page[];\r\n}\r\n\r\nexport interface ParamGetBrandMinDiscount {\r\n}\r\nexport interface ReturnGetBrandMinDiscount$page {\r\n\tseq: number;\r\n\tbrand: number;\r\n\tdiscount: number;\r\n\tisValid: number;\r\n}\r\nexport interface ResultGetBrandMinDiscount {\r\n\t$page: ReturnGetBrandMinDiscount$page[];\r\n}\r\n\r\nexport interface ParamSearchExchangeOrders {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnSearchExchangeOrders$page {\r\n\tseq: number;\r\n\tid: number;\r\n\tno: string;\r\n\tdate: any;\r\n\tstate: string;\r\n}\r\nexport interface ResultSearchExchangeOrders {\r\n\t$page: ReturnSearchExchangeOrders$page[];\r\n}\r\n\r\nexport interface ParamPointBook {\r\n\twebUser: number;\r\n}\r\nexport interface ReturnPointBook$page {\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tusedPoint: number;\r\n\ttotalPoint: number;\r\n\ttempPoint: number;\r\n\ttempUsedPoint: number;\r\n\ttempSignInPoint: number;\r\n}\r\nexport interface ResultPointBook {\r\n\t$page: ReturnPointBook$page[];\r\n}\r\n\r\nexport interface ParamPointBookByCustomer {\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnPointBookByCustomer$page {\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tusedPoint: number;\r\n\ttotalPoint: number;\r\n}\r\nexport interface ResultPointBookByCustomer {\r\n\t$page: ReturnPointBookByCustomer$page[];\r\n}\r\n\r\nexport interface ParamPointProductHotStat {\r\n}\r\nexport interface ReturnPointProductHotStat$page {\r\n\tpointProduct: number;\r\n\tvisits: number;\r\n\texchanges: number;\r\n}\r\nexport interface ResultPointProductHotStat {\r\n\t$page: ReturnPointProductHotStat$page[];\r\n}\r\n\r\nexport interface ParamPointDistributionBook {\r\n}\r\nexport interface ReturnPointDistributionBook$page {\r\n\tpointStart: number;\r\n\tnumbers: number;\r\n}\r\nexport interface ResultPointDistributionBook {\r\n\t$page: ReturnPointDistributionBook$page[];\r\n}\r\n\r\nexport interface ParamPointHistory {\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tpointType: any;\r\n\tsource: any;\r\n\tcomments: string;\r\n\twebUser: number;\r\n}\r\nexport interface ReturnPointHistory$page {\r\n\tdate: any;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tpointType: any;\r\n\tsource: any;\r\n\tcomments: string;\r\n\twebUser: number;\r\n\ttype: number;\r\n\tsheet: number;\r\n\trow: number;\r\n}\r\nexport interface ResultPointHistory {\r\n\t$page: ReturnPointHistory$page[];\r\n}\r\n\r\nexport interface ParamPointProductVisitHistory {\r\n\tpointProduct: number;\r\n\twebUser: number;\r\n}\r\nexport interface ReturnPointProductVisitHistory$page {\r\n\tdate: any;\r\n\tpointProduct: number;\r\n\twebUser: number;\r\n}\r\nexport interface ResultPointProductVisitHistory {\r\n\t$page: ReturnPointProductVisitHistory$page[];\r\n}\r\n\r\nexport interface ParamPointProductLibHistory {\r\n\tpointProduct: number;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\treason: string;\r\n\tcreateTime: any;\r\n}\r\nexport interface ReturnPointProductLibHistory$page {\r\n\tdate: any;\r\n\tpointProduct: number;\r\n\tstartDate: any;\r\n\tendDate: any;\r\n\treason: string;\r\n\tcreateTime: any;\r\n}\r\nexport interface ResultPointProductLibHistory {\r\n\t$page: ReturnPointProductLibHistory$page[];\r\n}\r\n\r\nexport interface ParamPointHistoryByCustomer {\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tpointType: any;\r\n\tsource: any;\r\n\tcomments: string;\r\n\tcustomer: number;\r\n}\r\nexport interface ReturnPointHistoryByCustomer$page {\r\n\tdate: any;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\tpointType: any;\r\n\tsource: any;\r\n\tcomments: string;\r\n\tcustomer: number;\r\n\ttype: number;\r\n\tsheet: number;\r\n\trow: number;\r\n}\r\nexport interface ResultPointHistoryByCustomer {\r\n\t$page: ReturnPointHistoryByCustomer$page[];\r\n}\r\n\r\nexport interface ParamOrderDetailPointHistory {\r\n\torderDetailId: number;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\ttype: number;\r\n\tcomments: string;\r\n}\r\nexport interface ReturnOrderDetailPointHistory$page {\r\n\tdate: any;\r\n\torderDetailId: number;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\ttype: number;\r\n\tcomments: string;\r\n}\r\nexport interface ResultOrderDetailPointHistory {\r\n\t$page: ReturnOrderDetailPointHistory$page[];\r\n}\r\n\r\nexport interface ParamReOrderDetailPointHistory {\r\n\torderDetailId: number;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\ttype: number;\r\n\tcomments: string;\r\n}\r\nexport interface ReturnReOrderDetailPointHistory$page {\r\n\tdate: any;\r\n\torderDetailId: number;\r\n\tpointYear: number;\r\n\tpoint: number;\r\n\ttype: number;\r\n\tcomments: string;\r\n}\r\nexport interface ResultReOrderDetailPointHistory {\r\n\t$page: ReturnReOrderDetailPointHistory$page[];\r\n}\r\n\r\nexport interface OrderMain {\r\n\tid?: number;\r\n\tno?: string;\r\n}\r\n\r\nexport interface OrderDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\torderMainNo: string;\r\n\torderDetailNo: string;\r\n\tendUser: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface ExchangeDetail {\r\n\tid?: number;\r\n\tmain?: number;\r\n\titem: number;\r\n\tquantity: number;\r\n\tpoint: number;\r\n\tsubAmount: number;\r\n}\r\n\r\nexport interface ExchangeMain {\r\n\tid?: number;\r\n\tno?: string;\r\n\tcustomer: number;\r\n\tshippingContact: number;\r\n\tamount: number;\r\n\tsheetId: number;\r\n\tcreateDate: any;\r\n}\r\n\r\nexport interface DxOrderDetail {\r\n\tid: number;\r\n\tpoint?: number;\r\n\ttotalPoint?: number;\r\n\tmultiple?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxReOrderDetail {\r\n\tid: number;\r\n\tpoint?: number;\r\n\ttotalPoint?: number;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface DxExchangeMainState {\r\n\tid: number;\r\n\tstate?: any;\r\n\tcreateDate?: any;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxOrderDetail {\r\n\tid: number|IDXValue;\r\n\tpoint?: number|IDXValue;\r\n\ttotalPoint?: number|IDXValue;\r\n\tmultiple?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxReOrderDetail {\r\n\tid: number|IDXValue;\r\n\tpoint?: number|IDXValue;\r\n\ttotalPoint?: number|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface ActParamDxExchangeMainState {\r\n\tid: number|IDXValue;\r\n\tstate?: any|IDXValue;\r\n\tcreateDate?: any|IDXValue;\r\n\t$act?: number;\r\n}\r\n\r\nexport interface IxExchangeMainUsedPoint {\r\n\tix: number;\r\n\txi: number;\r\n\tpoint: number;\r\n}\r\n\r\nexport interface ParamActs {\r\n\torderMain?: OrderMain[];\r\n\torderDetail?: OrderDetail[];\r\n\texchangeDetail?: ExchangeDetail[];\r\n\texchangeMain?: ExchangeMain[];\r\n\tdxOrderDetail?: ActParamDxOrderDetail[];\r\n\tdxReOrderDetail?: ActParamDxReOrderDetail[];\r\n\tdxExchangeMainState?: ActParamDxExchangeMainState[];\r\n\tixExchangeMainUsedPoint?: IxExchangeMainUsedPoint[];\r\n}\r\n\r\n\r\nexport interface UqExt extends Uq {\r\n\tActs(param:ParamActs): Promise<any>;\r\n\r\n\t$user: UqTuid<Tuid$user>;\r\n\tProductX: UqTuid<TuidProductX>;\r\n\t$sheet: UqTuid<Tuid$sheet>;\r\n\tCustomer: UqTuid<TuidCustomer>;\r\n\tWebUser: UqTuid<TuidWebUser>;\r\n\tContact: UqTuid<TuidContact>;\r\n\tCurrency: UqTuid<TuidCurrency>;\r\n\tBuyerAccount: UqTuid<TuidBuyerAccount>;\r\n\tGenre: UqTuid<TuidGenre>;\r\n\tPointProductLib: UqTuid<TuidPointProductLib>;\r\n\tBrand: UqTuid<TuidBrand>;\r\n\tIsCanUseOrder: UqAction<ParamIsCanUseOrder, ResultIsCanUseOrder>;\r\n\tAddPlatformOrderPoint: UqAction<ParamAddPlatformOrderPoint, ResultAddPlatformOrderPoint>;\r\n\tGetLastPlatFormOrder: UqAction<ParamGetLastPlatFormOrder, ResultGetLastPlatFormOrder>;\r\n\tSignin: UqAction<ParamSignin, ResultSignin>;\r\n\tSetPointProductVisits: UqAction<ParamSetPointProductVisits, ResultSetPointProductVisits>;\r\n\tPointProductGenreDelete: UqAction<ParamPointProductGenreDelete, ResultPointProductGenreDelete>;\r\n\tPointExchangeSheet: UqSheet<SheetPointExchangeSheet, any>;\r\n\tPointBook: UqBook<ParamPointBook, ResultPointBook>;\r\n\tPointBookByCustomer: UqBook<ParamPointBookByCustomer, ResultPointBookByCustomer>;\r\n\tPointProductHotStat: UqBook<ParamPointProductHotStat, ResultPointProductHotStat>;\r\n\tPointDistributionBook: UqBook<ParamPointDistributionBook, ResultPointDistributionBook>;\r\n\tGetPoints: UqQuery<ParamGetPoints, ResultGetPoints>;\r\n\tGetPointProduct: UqQuery<ParamGetPointProduct, ResultGetPointProduct>;\r\n\tGetPlatFormOrder: UqQuery<ParamGetPlatFormOrder, ResultGetPlatFormOrder>;\r\n\tGetOrderDrawable: UqQuery<ParamGetOrderDrawable, ResultGetOrderDrawable>;\r\n\t$poked: UqQuery<Param$poked, Result$poked>;\r\n\tGetPointHistory: UqQuery<ParamGetPointHistory, ResultGetPointHistory>;\r\n\tCheckIsSignin: UqQuery<ParamCheckIsSignin, ResultCheckIsSignin>;\r\n\tGetPointSigninHistory: UqQuery<ParamGetPointSigninHistory, ResultGetPointSigninHistory>;\r\n\tGetNewPointProducts: UqQuery<ParamGetNewPointProducts, ResultGetNewPointProducts>;\r\n\tGetHotPointProducts: UqQuery<ParamGetHotPointProducts, ResultGetHotPointProducts>;\r\n\tGetPointProductGenre: UqQuery<ParamGetPointProductGenre, ResultGetPointProductGenre>;\r\n\tGetPointDistribution: UqQuery<ParamGetPointDistribution, ResultGetPointDistribution>;\r\n\tGetMaxPoints: UqQuery<ParamGetMaxPoints, ResultGetMaxPoints>;\r\n\tGetPointProductBySource: UqQuery<ParamGetPointProductBySource, ResultGetPointProductBySource>;\r\n\tGetVisitPointProducts: UqQuery<ParamGetVisitPointProducts, ResultGetVisitPointProducts>;\r\n\tGetPointProductByGenre: UqQuery<ParamGetPointProductByGenre, ResultGetPointProductByGenre>;\r\n\tGetPointProductsByPage: UqQuery<ParamGetPointProductsByPage, ResultGetPointProductsByPage>;\r\n\tGetBrandMinDiscount: UqQuery<ParamGetBrandMinDiscount, ResultGetBrandMinDiscount>;\r\n\tSearchExchangeOrders: UqQuery<ParamSearchExchangeOrders, ResultSearchExchangeOrders>;\r\n\tPointProduct: UqMap;\r\n\tPlatformOrder: UqMap;\r\n\tPlatformOrderUsed: UqMap;\r\n\tPointShopOrder: UqMap;\r\n\tPointProductGenre: UqMap;\r\n\tPointProductSource: UqMap;\r\n\tPointProductDetail: UqMap;\r\n\tBrandMinDiscount: UqMap;\r\n\tOrderBack: UqMap;\r\n\tPointCustomerBlacklist: UqMap;\r\n\tPointHistory: UqHistory<ParamPointHistory, ResultPointHistory>;\r\n\tPointProductVisitHistory: UqHistory<ParamPointProductVisitHistory, ResultPointProductVisitHistory>;\r\n\tPointProductLibHistory: UqHistory<ParamPointProductLibHistory, ResultPointProductLibHistory>;\r\n\tPointHistoryByCustomer: UqHistory<ParamPointHistoryByCustomer, ResultPointHistoryByCustomer>;\r\n\tOrderDetailPointHistory: UqHistory<ParamOrderDetailPointHistory, ResultOrderDetailPointHistory>;\r\n\tReOrderDetailPointHistory: UqHistory<ParamReOrderDetailPointHistory, ResultReOrderDetailPointHistory>;\r\n\tPlatformOrderPending: UqPending<any, any>;\r\n\tSOrderPaymentPending: UqPending<any, any>;\r\n\tOrderMain: UqID<any>;\r\n\tOrderDetail: UqID<any>;\r\n\tExchangeDetail: UqID<any>;\r\n\tExchangeMain: UqID<any>;\r\n\tDxOrderDetail: UqIDX<any>;\r\n\tDxReOrderDetail: UqIDX<any>;\r\n\tDxExchangeMainState: UqIDX<any>;\r\n\tIxExchangeMainUsedPoint: UqIX<any>;\r\n}\r\n\r\nexport function assign(uq: any, to:string, from:any): void {\r\n\tObject.assign((uq as any)[to], from);\r\n}\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidProductX } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProductX):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidCustomer } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCustomer):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidWebUser } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidWebUser):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidContact } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidContact):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidCurrency } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCurrency):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidBuyerAccount } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBuyerAccount):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidGenre } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidGenre):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidPointProductLib } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidPointProductLib):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidBrand } from \"./JkPointshop\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBrand):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderMain } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { OrderDetail } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\torderMainNo: {\r\n\t\t\"name\": \"orderMainNo\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"OrderMainNo\"\r\n\t} as FieldItemString,\r\n\torderDetailNo: {\r\n\t\t\"name\": \"orderDetailNo\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"OrderDetailNo\"\r\n\t} as FieldItemString,\r\n\tendUser: {\r\n\t\t\"name\": \"endUser\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"EndUser\"\r\n\t} as FieldItemId,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.orderMainNo, fields.orderDetailNo, fields.endUser, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"OrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: OrderDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ExchangeDetail } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tmain: {\r\n\t\t\"name\": \"main\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Main\"\r\n\t} as FieldItemId,\r\n\titem: {\r\n\t\t\"name\": \"item\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Item\"\r\n\t} as FieldItemId,\r\n\tquantity: {\r\n\t\t\"name\": \"quantity\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Quantity\"\r\n\t} as FieldItemNum,\r\n\tpoint: {\r\n\t\t\"name\": \"point\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Point\"\r\n\t} as FieldItemNum,\r\n\tsubAmount: {\r\n\t\t\"name\": \"subAmount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"SubAmount\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.main, fields.item, fields.quantity, fields.point, fields.subAmount, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ExchangeDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ExchangeDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { ExchangeMain } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tno: {\r\n\t\t\"name\": \"no\",\r\n\t\t\"type\": \"string\",\r\n\t\t\"isKey\": true,\r\n\t\t\"widget\": \"string\",\r\n\t\t\"label\": \"No\"\r\n\t} as FieldItemString,\r\n\tcustomer: {\r\n\t\t\"name\": \"customer\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Customer\"\r\n\t} as FieldItemId,\r\n\tshippingContact: {\r\n\t\t\"name\": \"shippingContact\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"ShippingContact\"\r\n\t} as FieldItemId,\r\n\tamount: {\r\n\t\t\"name\": \"amount\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Amount\"\r\n\t} as FieldItemNum,\r\n\tsheetId: {\r\n\t\t\"name\": \"sheetId\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"SheetId\"\r\n\t} as FieldItemId,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.no, fields.customer, fields.shippingContact, fields.amount, fields.sheetId, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"ExchangeMain\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: ExchangeMain):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxOrderDetail } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tpoint: {\r\n\t\t\"name\": \"point\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"Point\"\r\n\t} as FieldItemInt,\r\n\ttotalPoint: {\r\n\t\t\"name\": \"totalPoint\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"TotalPoint\"\r\n\t} as FieldItemInt,\r\n\tmultiple: {\r\n\t\t\"name\": \"multiple\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"Multiple\"\r\n\t} as FieldItemInt,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.point, fields.totalPoint, fields.multiple, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxOrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxOrderDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxReOrderDetail } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tpoint: {\r\n\t\t\"name\": \"point\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"Point\"\r\n\t} as FieldItemInt,\r\n\ttotalPoint: {\r\n\t\t\"name\": \"totalPoint\",\r\n\t\t\"type\": \"integer\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"updown\",\r\n\t\t\"label\": \"TotalPoint\"\r\n\t} as FieldItemInt,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.point, fields.totalPoint, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxReOrderDetail\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxReOrderDetail):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { DxExchangeMainState } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tid: {\r\n\t\t\"name\": \"id\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Id\"\r\n\t} as FieldItemId,\r\n\tstate: {\r\n\t\t\"name\": \"state\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"State\"\r\n\t} as undefined,\r\n\tcreateDate: {\r\n\t\t\"name\": \"createDate\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"CreateDate\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.state, fields.createDate, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"DxExchangeMainState\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: DxExchangeMainState):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { IxExchangeMainUsedPoint } from \"./JkPointshop\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tpoint: {\r\n\t\t\"name\": \"point\",\r\n\t\t\"type\": \"number\",\r\n\t\t\"isKey\": false,\r\n\t\t\"widget\": \"number\",\r\n\t\t\"label\": \"Point\"\r\n\t} as FieldItemNum,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.point, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"IxExchangeMainUsedPoint\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: IxExchangeMainUsedPoint):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidChemical } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidChemical):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidSalesRegion } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidSalesRegion):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCurrency } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCurrency):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidPackType } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidPackType):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidLanguage } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidLanguage):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidBrand } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBrand):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidStuff } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidStuff):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidProductX } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProductX):JSX.Element {\r\n\tlet {brand, origin, description, descriptionC, imageUrl, no} = item;\r\n\tlet desc: string, descVice: string;\r\n\tif (description) {\r\n\t\tdesc = description;\r\n\t\tif (descriptionC) {\r\n\t\t\tif (descriptionC !== description) {\r\n\t\t\t\tdescVice = descriptionC;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tdesc = descriptionC;\r\n\t}\r\n\tlet vBrand: any = undefined;\r\n\treturn <>\r\n\t\t<div>{no && <small className=\"text-muted\">{no}</small>} <b>{desc}</b></div>\r\n\t\t{descVice && <div>{descVice}</div>}\r\n\t\t<div>{vBrand}</div>\r\n\t</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidProductCategory } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProductCategory):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidLot } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidLot):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidPackSalesLevel } from \"./JkProduct\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidPackSalesLevel):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCurrency } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCurrency):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidContact } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidContact):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCustomer } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCustomer):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidInvoiceType } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidInvoiceType):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidResearch } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidResearch):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidProvince } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProvince):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidDepartment } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidDepartment):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidBuyerAccount } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBuyerAccount):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidOrganization } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidOrganization):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCountry } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCountry):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidInvoiceInfo } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidInvoiceInfo):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCity } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCity):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidPost } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidPost):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCounty } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCounty):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidSalesRegion } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidSalesRegion):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidEmployee } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidEmployee):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidAddress } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidAddress):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidDomain } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidDomain):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidProductX } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidProductX):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidBrand } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidBrand):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI } from \"tonva-react\";\r\nimport { TuidCustomerSettingType } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidCustomerSettingType):JSX.Element {\r\n\treturn <>{JSON.stringify(item)}</>;\r\n};\r\n","// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Res, setRes, TFunc, FieldItem, FieldItemNumber, FieldItemString, FieldItemId, UI, uqStringify } from \"tonva-react\";\r\nimport { TuidVIPCardType } from \"./JkCustomer\";\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: TuidVIPCardType):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import { Res, setRes, TFunc, UI, uqStringify } from \"tonva-react\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { FieldItem, FieldItemInt, FieldItemNum, FieldItemString, FieldItemId } from \"tonva-react\";\r\nimport { CustomerSalesman } from \"./JkCustomer\";\r\n\r\n/*--fields--*/\r\nconst fields = {\r\n\tix: {\r\n\t\t\"name\": \"ix\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Ix\"\r\n\t} as FieldItemId,\r\n\txi: {\r\n\t\t\"name\": \"xi\",\r\n\t\t\"type\": \"id\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"Xi\"\r\n\t} as FieldItemId,\r\n\tunLockOn: {\r\n\t\t\"name\": \"unLockOn\",\r\n\t\t\"isKey\": false,\r\n\t\t\"label\": \"UnLockOn\"\r\n\t} as undefined,\r\n};\r\n/*==fields==*/\r\n\r\nconst fieldArr: FieldItem[] = [\r\n\tfields.xi, fields.unLockOn, \r\n];\r\n\r\nexport const ui: UI = {\r\n\tlabel: \"CustomerSalesman\",\r\n\tfieldArr,\r\n\tfields,\r\n};\r\n\r\nconst resRaw: Res<any> = {\r\n\t$zh: {\r\n\t},\r\n\t$en: {\r\n\t}\r\n};\r\nconst res: any = {};\r\nsetRes(res, resRaw);\r\n\r\nexport const t:TFunc = (str:string|JSX.Element): string|JSX.Element => {\r\n\treturn res[str as string] ?? str;\r\n}\r\n\r\nexport function render(item: CustomerSalesman):JSX.Element {\r\n\treturn <>{uqStringify(item)}</>;\r\n};\r\n","import * as React from 'react';\r\nimport logo from '../images/logo_mobi.png';\r\n\r\nexport const jnkTop = <div className=\"d-flex align-items-center position-relative\">\r\n    <img className=\"h-3c position-absolute\" src={logo} alt=\"百灵威\" />\r\n    <div className=\"h3 flex-fill text-center\">\r\n        <span className=\"text-primary mr-3\">百灵威</span>\r\n    </div>\r\n</div>;\r\n","import { tv } from 'tonva-react';\r\n\r\nexport const tvAddress = (values: any) => {\r\n    let { country, province, city, county } = values;\r\n    return <>\r\n        {tv(country)}{tv(province, undefined, undefined, () => <></>)}{tv(city, undefined, undefined, () => <></>)}{tv(county, undefined, undefined, () => <></>)}\r\n    </>\r\n}\r\n\r\nexport const tvCountry = (values: any) => {\r\n    return <> {values.chineseName} </>;\r\n}\r\n\r\nexport const tvCurrency = (values: any) => {\r\n    return <> {values.name} </>;\r\n}\r\n\r\nexport const common = {\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    currency: tvCurrency,\r\n};\r\n","/* eslint-disable */\r\nimport { tv } from 'tonva-react';\r\nimport { ProductImage } from 'tools/productImage';\r\n\r\nexport const tvProduct = (values: any) => {\r\n    let product = values;\r\n    let { brand, description, CAS, purity, molecularFomula, molecularWeight, origin, imageUrl } = product;\r\n    return <div className=\"row d-flex\">\r\n        <div className=\"col-12\">\r\n            <div className=\"row py-2\">\r\n                <div className=\"col-12\"><strong>{description}</strong></div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    <ProductImage chemicalId={imageUrl} className=\"w-100\" />\r\n                </div>\r\n                <div className=\"col-9\">\r\n                    <div className=\"row\">\r\n                        {item('CAS', CAS)}\r\n                        {item('纯度', purity)}\r\n                        {item('分子式', molecularFomula)}\r\n                        {item('分子量', molecularWeight)}\r\n                        {item('产品编号', origin)}\r\n                        {tv(brand, (values: any) => <>{item(\"品牌\", values.name)}</>)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n};\r\n\r\nconst tvPackx = (values: any) => {\r\n    let { radiox, radioy, unit } = values;\r\n    if (radiox !== 1) return <>{radiox} * {radioy}{unit}</>;\r\n    return <>{radioy}{unit}</>;\r\n}\r\n\r\nfunction item(caption: string, value: any) {\r\n    if (value === null || value === undefined) return null;\r\n    return <>\r\n        <div className=\"col-4 text-muted pr-0\">{caption}:</div>\r\n        <div className=\"col-8\">{value}</div>\r\n    </>;\r\n}\r\n\r\nconst tvProductCategory = (values: any) => {\r\n    let { children } = values;\r\n    return <>\r\n        aaa\r\n    </>\r\n};\r\n\r\nexport const product = {\r\n    productx: tvProduct,\r\n    packx: tvPackx,\r\n    productCategory: tvProductCategory,\r\n}\r\n","import { tv } from 'tonva-react';\r\nimport { tvAddress, tvCountry } from './common';\r\n\r\nexport const tvContact = (values: any) => {\r\n    let { name, mobile, organizationName, address, addressString } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        <b>\r\n            {name}\r\n        </b>\r\n        &nbsp; {mobile} &nbsp; {organizationName}<br />\r\n        <small>{tv(address)} {addressString}</small>\r\n    </div>\r\n}\r\n\r\nexport const tvInvoiceType = (values: any) => {\r\n    let { description } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        {description}\r\n    </div>\r\n}\r\n\r\nexport const tvInvoiceInfo = (values: any) => {\r\n    let { title, taxNo } = values;\r\n    return <div className=\"flex-grow-1\">\r\n        <b>\r\n            {title}\r\n        </b>\r\n        &nbsp; {taxNo}\r\n    </div>\r\n}\r\n\r\nexport const customer = {\r\n    contact: tvContact,\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    invoiceInfo: tvInvoiceInfo,\r\n    invoiceType: tvInvoiceType\r\n}\r\n","//=== UqApp builder created on Tue Jan 12 2021 23:14:51 GMT-0500 (GMT-05:00) ===//\r\nimport { jnkTop } from \"me/loginTop\";\r\nimport { AppConfig, DevConfig } from \"tonva-react\";\r\nimport { tvs } from \"tvs\";\r\n\r\nconst bz: DevConfig = {\r\n\tname: 'bizdev',\r\n\talias: 'bz',\r\n}\r\n\r\nconst jk: DevConfig = {\r\n\tname: '百灵威系统工程部',\r\n\talias: 'jk',\r\n}\r\n\r\nexport const appConfig: AppConfig = {\r\n\tversion: '0.1.6',\r\n\tapp: {\r\n\t\tdev: jk,\r\n\t\tname: 'cart',\r\n\t},\r\n\tuqs: [\r\n\t\t/*\r\n\t\t{\r\n\t\t\tdev: bz,\r\n\t\t\tname: 'hello-tonva',\r\n\t\t\talias: 'HelloTonva',\r\n\t\t\tversion: '0.1.0',\r\n\t\t},\r\n\t\t*/\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: 'deliver',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: 'order',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: 'collectPayment',\r\n\t\t\talias: 'CollectPayment',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: '积分商城',\r\n\t\t\talias: 'pointshop',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: 'product',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t\t{\r\n\t\t\tdev: jk,\r\n\t\t\tname: 'customer',\r\n\t\t\tversion: '0.1.1',\r\n\t\t},\r\n\t],\r\n\tnoUnit: true,\r\n\ttvs,\r\n\toem: undefined,\r\n\tloginTop: jnkTop\r\n};\r\n","import { TVs } from 'tonva-react';\r\nimport { common } from \"./common\";\r\nimport { warehouse } from \"./warehouse\";\r\nimport { product } from \"./product\";\r\nimport { order } from \"./order\";\r\nimport { customer } from './customer';\r\n\r\nexport const tvs:TVs = {\r\n    common: common,\r\n    warehouse: warehouse,\r\n    product: product,\r\n    order: order,\r\n    customer: customer,\r\n}","const tvWarehouse = (values: any) => {\r\n    let { name } = values;\r\n    return <div>\r\n        {name}\r\n    </div>\r\n}\r\n\r\nexport const warehouse = {\r\n    warehouse: tvWarehouse,\r\n}\r\n","import { tvProduct } from \"./product\";\r\nimport { tvAddress, tvCountry, tvCurrency } from \"./common\";\r\nimport { tvContact } from \"./customer\";\r\n\r\nexport const order = {\r\n    productx: tvProduct,\r\n    address: tvAddress,\r\n    country: tvCountry,\r\n    province: tvCountry,\r\n    city: tvCountry,\r\n    county: tvCountry,\r\n    contact: tvContact,\r\n    currency: tvCurrency,\r\n}\r\n","/* eslint-disable */\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { NavView, start, nav, startPage, env } from 'tonva-react';\r\nimport { CApp, CWeb, appConfig } from 'tapp';\r\nimport * as qs from 'querystringify';\r\nimport { GLOABLE } from 'global';\r\n\r\n/*\r\nlet elRoot = document.getElementById('root');\r\nif (!elRoot) {\r\n    elRoot = document.createElement('div');\r\n    elRoot.style.display = 'none';\r\n    document.body.append(elRoot);\r\n}\r\nReactDOM.render(<App />, elRoot);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n*/\r\n\r\n//let { location } = document;\r\n//if (location.host && false) {\r\n\r\n(async function () {\r\n    nav.setSettings(appConfig);\r\n    loadBaiduTongji();\r\n    let onLogined: () => Promise<void>;\r\n\r\n    if (env.isMobile || window.location.pathname.endsWith('/app')) {\r\n        require('style-loader!./css/style.css');\r\n        require('style-loader!./css/rst.css');\r\n        onLogined = async () => {\r\n            await start(CApp, appConfig);\r\n        }\r\n    }\r\n    else {\r\n        require('style-loader!./css/style.css');\r\n        loadQQScript();\r\n        onLogined = async () => {\r\n            await startPage(CWeb, appConfig);\r\n        };\r\n    }\r\n\r\n    let userPassword = async () => {\r\n        let { search } = window.location;\r\n        if (search) {\r\n            let query: any = qs.parse(search.toLowerCase());\r\n            if (search.startsWith('?lgtk=')) {\r\n                let result = await fetch(GLOABLE.EPEC.AUTOLOGIN + '?lgtk=' + query?.lgtk);\r\n                if (result.ok) {\r\n                    let res = await result.json();\r\n                    return res;\r\n                };\r\n            };\r\n        };\r\n        return; /* { user: 'xxxx', password: 'xxxxx' }; */\r\n    }\r\n\r\n    const App: React.FC = () => {\r\n        return <NavView onLogined={onLogined} notLogined={onLogined} userPassword={userPassword} />;\r\n    }\r\n\r\n\r\n    let elRoot = document.getElementById('root');\r\n    if (!elRoot) {\r\n        elRoot = document.createElement('div');\r\n        elRoot.style.display = 'none';\r\n        document.body.appendChild(elRoot);\r\n    }\r\n    ReactDOM.render(\r\n        <React.StrictMode>\r\n            <App />\r\n        </React.StrictMode>,\r\n        elRoot\r\n    );\r\n    // document.getElementById('root')\r\n    // If you want your app to work offline and load faster, you can change\r\n    // unregister() to register() below. Note this comes with some pitfalls.\r\n    // Learn more about service workers: https://bit.ly/CRA-PWA\r\n    serviceWorker.unregister();\r\n})();\r\n\r\nfunction loadQQScript() {\r\n    let f = document.createElement(\"script\");\r\n    f.setAttribute(\"id\", \"qd30090316631c3780361b3caa2f8195e48a7a2bd5c5\");\r\n    f.type = \"text/javascript\";\r\n    f.src = 'https://wp.qiye.qq.com/qidian/3009031663/1c3780361b3caa2f8195e48a7a2bd5c5';\r\n    // f.src = 'https://wpa.b.qq.com/cgi/wpa.php?key=XzkzODAzNjk3OV80OTI2NjBfNDAwNjY2Nzc4OF8';\r\n    document.body.appendChild(f);\r\n};\r\n\r\nfunction loadBaiduTongji() {\r\n    var _hmt: any[] = _hmt || [];\r\n    (function () {\r\n        var hm = document.createElement(\"script\");\r\n        hm.src = \"https://hm.baidu.com/hm.js?581e8230afda2afbd8a5870fad068d1e\";\r\n        var s = document.getElementsByTagName(\"script\")[0];\r\n        s.parentNode.insertBefore(hm, s);\r\n    })();\r\n}\r\n"],"sourceRoot":""}