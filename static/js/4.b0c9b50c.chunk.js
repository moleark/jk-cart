(this["webpackJsonpjk-cart"]=this["webpackJsonpjk-cart"]||[]).push([[4],{423:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n(0),a=n(15),c=n(424);function i(){return a.nav.loginTop(r.createElement("div",{className:"d-flex align-items-center position-relative"},r.createElement("img",{className:"App-logo h-3c position-absolute",src:c,alt:"img"}),r.createElement("div",{className:"h3 flex-fill text-center"},r.createElement("span",{className:"text-primary mr-3"},"\u540c"),r.createElement("span",{className:"text-danger"},"\u82b1"))))}var s=[{type:"mobile",caption:"\u624b\u673a\u53f7",regex:a.mobileRegex},{type:"email",caption:"\u90ae\u7bb1",regex:a.emailRegex}];function l(e){return s.find((function(t){return!0===t.regex.test(e)}))}},424:function(e,t,n){e.exports=n.p+"static/media/logo.ee7cd8ed.svg"},425:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(1),a=n.n(r),c=n(2),i=n(3),s=n(5),l=n(6),o=n(7),u=n(0),m=n(15),p=n(19),d=n(79),f=n(423),b=[{name:"username",type:"string",required:!0,maxLength:100},{name:"password",type:"string",required:!0,maxLength:100},{name:"login",type:"submit"}],g=function(e){Object(l.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).res=Object(m.resLang)(d.c),e.uiSchema={items:{username:{placeholder:"\u624b\u673a/\u90ae\u7bb1/\u7528\u6237\u540d",label:"\u767b\u5f55\u8d26\u53f7"},password:{widget:"password",placeholder:"\u5bc6\u7801",label:"\u5bc6\u7801"},login:{widget:"button",className:"btn btn-primary btn-block mt-3",label:"\u767b\u5f55"}}},e.onSubmit=function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i,s,l,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.form.data,i=c.username,void 0!==(s=c.password)){t.next=5;break}return t.abrupt("return","something wrong, pwd is undefined");case 5:return t.next=7,p.p.login({user:i,pwd:s,guest:m.nav.guest});case 7:if(void 0!==(l=t.sent)){t.next=12;break}return o=Object(f.a)(i),u=void 0!==o?o.caption:"\u7528\u6237\u540d",t.abrupt("return",u+"\u6216\u5bc6\u7801\u9519\uff01");case 12:return console.log("onLoginSubmit: user=%s pwd:%s",l.name,l.token),t.next=15,m.nav.userLogined(l,e.props.callback);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.onEnter=function(){var t=Object(c.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("password"!==n){t.next=4;break}return t.next=3,e.onSubmit("login",r);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=u.createElement("div",null,u.createElement("div",{className:"d-block"},u.createElement("div",{className:"text-center"},u.createElement(m.Ax,{href:"/register",className:"btn btn-link",style:{margin:"0px auto"}},"\u6ce8\u518c\u8d26\u53f7")),m.nav.privacyEntry())),t=!1;return!0===this.props.withBack&&(t="\u767b\u5f55"),u.createElement(m.Page,{header:t,footer:e},u.createElement("div",{className:"d-flex p-5 flex-column justify-content-center align-items-center"},u.createElement("div",{className:"flex-fill"}),u.createElement("div",{className:"w-20c"},Object(f.b)(),u.createElement("div",{className:"h-2c"}),u.createElement(m.Form,{schema:b,uiSchema:this.uiSchema,onButtonClick:this.onSubmit,onEnter:this.onEnter,requiredFlag:!1}),u.createElement(m.Ax,{className:"btn btn-link btn-block",href:"/forget"},"\u5fd8\u8bb0\u5bc6\u7801")),u.createElement("div",{className:"flex-fill"}),u.createElement("div",{className:"flex-fill"})))}}]),n}(u.Component)}}]);
//# sourceMappingURL=4.b0c9b50c.chunk.js.map